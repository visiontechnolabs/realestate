(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function S2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var bd={exports:{}},Pl={};var w_;function w2(){if(w_)return Pl;w_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:a,type:i,key:u,ref:r!==void 0?r:null,props:o}}return Pl.Fragment=e,Pl.jsx=t,Pl.jsxs=t,Pl}var C_;function C2(){return C_||(C_=1,bd.exports=w2()),bd.exports}var x=C2(),Ed={exports:{}},Ee={};var R_;function R2(){if(R_)return Ee;R_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function R(L,j,ne){this.props=L,this.context=j,this.refs=w,this.updater=ne||S}R.prototype.isReactComponent={},R.prototype.setState=function(L,j){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,j,"setState")},R.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=R.prototype;function z(L,j,ne){this.props=L,this.context=j,this.refs=w,this.updater=ne||S}var A=z.prototype=new T;A.constructor=z,C(A,R.prototype),A.isPureReactComponent=!0;var O=Array.isArray;function D(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function U(L,j,ne){var se=ne.ref;return{$$typeof:a,type:L,key:j,ref:se!==void 0?se:null,props:ne}}function J(L,j){return U(L.type,j,L.props)}function Q(L){return typeof L=="object"&&L!==null&&L.$$typeof===a}function ee(L){var j={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ne){return j[ne]})}var ie=/\/+/g;function ae(L,j){return typeof L=="object"&&L!==null&&L.key!=null?ee(""+L.key):j.toString(36)}function ue(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(j){L.status==="pending"&&(L.status="fulfilled",L.value=j)},function(j){L.status==="pending"&&(L.status="rejected",L.reason=j)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function G(L,j,ne,se,le){var ge=typeof L;(ge==="undefined"||ge==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(ge){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case a:case e:_e=!0;break;case p:return _e=L._init,G(_e(L._payload),j,ne,se,le)}}if(_e)return le=le(L),_e=se===""?"."+ae(L,0):se,O(le)?(ne="",_e!=null&&(ne=_e.replace(ie,"$&/")+"/"),G(le,j,ne,"",function(we){return we})):le!=null&&(Q(le)&&(le=J(le,ne+(le.key==null||L&&L.key===le.key?"":(""+le.key).replace(ie,"$&/")+"/")+_e)),j.push(le)),1;_e=0;var Ve=se===""?".":se+":";if(O(L))for(var te=0;te<L.length;te++)se=L[te],ge=Ve+ae(se,te),_e+=G(se,j,ne,ge,le);else if(te=b(L),typeof te=="function")for(L=te.call(L),te=0;!(se=L.next()).done;)se=se.value,ge=Ve+ae(se,te++),_e+=G(se,j,ne,ge,le);else if(ge==="object"){if(typeof L.then=="function")return G(ue(L),j,ne,se,le);throw j=String(L),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Z(L,j,ne){if(L==null)return L;var se=[],le=0;return G(L,se,"","",function(ge){return j.call(ne,ge,le++)}),se}function $(L){if(L._status===-1){var j=L._result;j=j(),j.then(function(ne){(L._status===0||L._status===-1)&&(L._status=1,L._result=ne)},function(ne){(L._status===0||L._status===-1)&&(L._status=2,L._result=ne)}),L._status===-1&&(L._status=0,L._result=j)}if(L._status===1)return L._result.default;throw L._result}var re=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},oe={map:Z,forEach:function(L,j,ne){Z(L,function(){j.apply(this,arguments)},ne)},count:function(L){var j=0;return Z(L,function(){j++}),j},toArray:function(L){return Z(L,function(j){return j})||[]},only:function(L){if(!Q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ee.Activity=y,Ee.Children=oe,Ee.Component=R,Ee.Fragment=t,Ee.Profiler=r,Ee.PureComponent=z,Ee.StrictMode=i,Ee.Suspense=f,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(L){return M.H.useMemoCache(L)}},Ee.cache=function(L){return function(){return L.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(L,j,ne){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var se=C({},L.props),le=L.key;if(j!=null)for(ge in j.key!==void 0&&(le=""+j.key),j)!P.call(j,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&j.ref===void 0||(se[ge]=j[ge]);var ge=arguments.length-2;if(ge===1)se.children=ne;else if(1<ge){for(var _e=Array(ge),Ve=0;Ve<ge;Ve++)_e[Ve]=arguments[Ve+2];se.children=_e}return U(L.type,le,se)},Ee.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ee.createElement=function(L,j,ne){var se,le={},ge=null;if(j!=null)for(se in j.key!==void 0&&(ge=""+j.key),j)P.call(j,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(le[se]=j[se]);var _e=arguments.length-2;if(_e===1)le.children=ne;else if(1<_e){for(var Ve=Array(_e),te=0;te<_e;te++)Ve[te]=arguments[te+2];le.children=Ve}if(L&&L.defaultProps)for(se in _e=L.defaultProps,_e)le[se]===void 0&&(le[se]=_e[se]);return U(L,ge,le)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(L){return{$$typeof:h,render:L}},Ee.isValidElement=Q,Ee.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:$}},Ee.memo=function(L,j){return{$$typeof:g,type:L,compare:j===void 0?null:j}},Ee.startTransition=function(L){var j=M.T,ne={};M.T=ne;try{var se=L(),le=M.S;le!==null&&le(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(D,re)}catch(ge){re(ge)}finally{j!==null&&ne.types!==null&&(j.types=ne.types),M.T=j}},Ee.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ee.use=function(L){return M.H.use(L)},Ee.useActionState=function(L,j,ne){return M.H.useActionState(L,j,ne)},Ee.useCallback=function(L,j){return M.H.useCallback(L,j)},Ee.useContext=function(L){return M.H.useContext(L)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(L,j){return M.H.useDeferredValue(L,j)},Ee.useEffect=function(L,j){return M.H.useEffect(L,j)},Ee.useEffectEvent=function(L){return M.H.useEffectEvent(L)},Ee.useId=function(){return M.H.useId()},Ee.useImperativeHandle=function(L,j,ne){return M.H.useImperativeHandle(L,j,ne)},Ee.useInsertionEffect=function(L,j){return M.H.useInsertionEffect(L,j)},Ee.useLayoutEffect=function(L,j){return M.H.useLayoutEffect(L,j)},Ee.useMemo=function(L,j){return M.H.useMemo(L,j)},Ee.useOptimistic=function(L,j){return M.H.useOptimistic(L,j)},Ee.useReducer=function(L,j,ne){return M.H.useReducer(L,j,ne)},Ee.useRef=function(L){return M.H.useRef(L)},Ee.useState=function(L){return M.H.useState(L)},Ee.useSyncExternalStore=function(L,j,ne){return M.H.useSyncExternalStore(L,j,ne)},Ee.useTransition=function(){return M.H.useTransition()},Ee.version="19.2.4",Ee}var T_;function Dg(){return T_||(T_=1,Ed.exports=R2()),Ed.exports}var k=Dg(),Sd={exports:{}},Yl={},wd={exports:{}},Cd={};var A_;function T2(){return A_||(A_=1,(function(a){function e(G,Z){var $=G.length;G.push(Z);e:for(;0<$;){var re=$-1>>>1,oe=G[re];if(0<r(oe,Z))G[re]=Z,G[$]=oe,$=re;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],$=G.pop();if($!==Z){G[0]=$;e:for(var re=0,oe=G.length,L=oe>>>1;re<L;){var j=2*(re+1)-1,ne=G[j],se=j+1,le=G[se];if(0>r(ne,$))se<oe&&0>r(le,ne)?(G[re]=le,G[se]=$,re=se):(G[re]=ne,G[j]=$,re=j);else if(se<oe&&0>r(le,$))G[re]=le,G[se]=$,re=se;else break e}}return Z}function r(G,Z){var $=G.sortIndex-Z.sortIndex;return $!==0?$:G.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();a.unstable_now=function(){return u.now()-h}}var f=[],g=[],p=1,y=null,v=3,b=!1,S=!1,C=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function A(G){for(var Z=t(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=G)i(g),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=t(g)}}function O(G){if(C=!1,A(G),!S)if(t(f)!==null)S=!0,D||(D=!0,ee());else{var Z=t(g);Z!==null&&ue(O,Z.startTime-G)}}var D=!1,M=-1,P=5,U=-1;function J(){return w?!0:!(a.unstable_now()-U<P)}function Q(){if(w=!1,D){var G=a.unstable_now();U=G;var Z=!0;try{e:{S=!1,C&&(C=!1,T(M),M=-1),b=!0;var $=v;try{t:{for(A(G),y=t(f);y!==null&&!(y.expirationTime>G&&J());){var re=y.callback;if(typeof re=="function"){y.callback=null,v=y.priorityLevel;var oe=re(y.expirationTime<=G);if(G=a.unstable_now(),typeof oe=="function"){y.callback=oe,A(G),Z=!0;break t}y===t(f)&&i(f),A(G)}else i(f);y=t(f)}if(y!==null)Z=!0;else{var L=t(g);L!==null&&ue(O,L.startTime-G),Z=!1}}break e}finally{y=null,v=$,b=!1}Z=void 0}}finally{Z?ee():D=!1}}}var ee;if(typeof z=="function")ee=function(){z(Q)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=Q,ee=function(){ae.postMessage(null)}}else ee=function(){R(Q,0)};function ue(G,Z){M=R(function(){G(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var $=v;v=Z;try{return G()}finally{v=$}},a.unstable_requestPaint=function(){w=!0},a.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=v;v=G;try{return Z()}finally{v=$}},a.unstable_scheduleCallback=function(G,Z,$){var re=a.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?re+$:re):$=re,G){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,G={id:p++,callback:Z,priorityLevel:G,startTime:$,expirationTime:oe,sortIndex:-1},$>re?(G.sortIndex=$,e(g,G),t(f)===null&&G===t(g)&&(C?(T(M),M=-1):C=!0,ue(O,$-re))):(G.sortIndex=oe,e(f,G),S||b||(S=!0,D||(D=!0,ee()))),G},a.unstable_shouldYield=J,a.unstable_wrapCallback=function(G){var Z=v;return function(){var $=v;v=Z;try{return G.apply(this,arguments)}finally{v=$}}}})(Cd)),Cd}var M_;function A2(){return M_||(M_=1,wd.exports=T2()),wd.exports}var Rd={exports:{}},Ut={};var L_;function M2(){if(L_)return Ut;L_=1;var a=Dg();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:g,implementation:p}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ut.createPortal=function(f,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,p)},Ut.flushSync=function(f){var g=u.T,p=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=p,i.d.f()}},Ut.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Ut.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ut.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var p=g.as,y=h(p,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ut.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Ut.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,y=h(p,g.crossOrigin);i.d.L(f,p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ut.preloadModule=function(f,g){if(typeof f=="string")if(g){var p=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Ut.requestFormReset=function(f){i.d.r(f)},Ut.unstable_batchedUpdates=function(f,g){return f(g)},Ut.useFormState=function(f,g,p){return u.H.useFormState(f,g,p)},Ut.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ut.version="19.2.4",Ut}var N_;function L2(){if(N_)return Rd.exports;N_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Rd.exports=M2(),Rd.exports}var O_;function N2(){if(O_)return Yl;O_=1;var a=A2(),e=Dg(),t=L2();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,c=s;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return f(d),n;if(m===c)return f(d),s;m=m.sibling}throw Error(i(188))}if(l.return!==c.return)l=d,c=m;else{for(var _=!1,E=d.child;E;){if(E===l){_=!0,l=d,c=m;break}if(E===c){_=!0,c=d,l=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===l){_=!0,l=m,c=d;break}if(E===c){_=!0,c=m,l=d;break}E=E.sibling}if(!_)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),z=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function ee(n){return n===null||typeof n!="object"?null:(n=Q&&n[Q]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ie?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case R:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case U:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case z:return n.displayName||"Context";case T:return(n._context.displayName||"Context")+".Consumer";case A:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return s=n.displayName||null,s!==null?s:ae(n.type)||"Memo";case P:s=n._payload,n=n._init;try{return ae(n(s))}catch{}}return null}var ue=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},re=[],oe=-1;function L(n){return{current:n}}function j(n){0>oe||(n.current=re[oe],re[oe]=null,oe--)}function ne(n,s){oe++,re[oe]=n.current,n.current=s}var se=L(null),le=L(null),ge=L(null),_e=L(null);function Ve(n,s){switch(ne(ge,s),ne(le,n),ne(se,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Zy(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Zy(s),n=Ky(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}j(se),ne(se,n)}function te(){j(se),j(le),j(ge)}function we(n){n.memoizedState!==null&&ne(_e,n);var s=se.current,l=Ky(s,n.type);s!==l&&(ne(le,n),ne(se,l))}function Zt(n){le.current===n&&(j(se),j(le)),_e.current===n&&(j(_e),zl._currentValue=$)}var gi,qi;function Xt(n){if(gi===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);gi=s&&s[1]||"",qi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gi+n+qi}var Ft=!1;function Kt(n,s){if(!n||Ft)return"";Ft=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var B=H}Reflect.construct(n,[],W)}else{try{W.call()}catch(H){B=H}n.call(W.prototype)}}else{try{throw Error()}catch(H){B=H}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var N=_.split(`
`),X=E.split(`
`);for(d=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(c===N.length||d===X.length)for(c=N.length-1,d=X.length-1;1<=c&&0<=d&&N[c]!==X[d];)d--;for(;1<=c&&0<=d;c--,d--)if(N[c]!==X[d]){if(c!==1||d!==1)do if(c--,d--,0>d||N[c]!==X[d]){var V=`
`+N[c].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=c&&0<=d);break}}}finally{Ft=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Xt(l):""}function Wi(n,s){switch(n.tag){case 26:case 27:case 5:return Xt(n.type);case 16:return Xt("Lazy");case 13:return n.child!==s&&s!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Kt(n.type,!1);case 11:return Kt(n.type.render,!1);case 1:return Kt(n.type,!0);case 31:return Xt("Activity");default:return""}}function mi(n){try{var s="",l=null;do s+=Wi(n,l),l=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var pi=Object.prototype.hasOwnProperty,Gn=a.unstable_scheduleCallback,qn=a.unstable_cancelCallback,Qi=a.unstable_shouldYield,ht=a.unstable_requestPaint,Mt=a.unstable_now,Zr=a.unstable_getCurrentPriorityLevel,Xs=a.unstable_ImmediatePriority,Bs=a.unstable_UserBlockingPriority,Da=a.unstable_NormalPriority,jo=a.unstable_LowPriority,Kr=a.unstable_IdlePriority,qr=a.log,uh=a.unstable_setDisableYieldValue,Hs=null,Gt=null;function Un(n){if(typeof qr=="function"&&uh(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Hs,n)}catch{}}var Lt=Math.clz32?Math.clz32:Wr,ko=Math.log,ch=Math.LN2;function Wr(n){return n>>>=0,n===0?32:31-(ko(n)/ch|0)|0}var Wn=256,Qn=262144,Jn=4194304;function $n(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vs(n,s,l){var c=n.pendingLanes;if(c===0)return 0;var d=0,m=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?d=$n(c):(_&=E,_!==0?d=$n(_):l||(l=E&~n,l!==0&&(d=$n(l))))):(E=c&~m,E!==0?d=$n(E):_!==0?d=$n(_):l||(l=c&~n,l!==0&&(d=$n(l)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:d}function bt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function yi(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var n=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),n}function qt(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Et(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Pn(n,s,l,c,d,m){var _=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var E=n.entanglements,N=n.expirationTimes,X=n.hiddenUpdates;for(l=_&~l;0<l;){var V=31-Lt(l),W=1<<V;E[V]=0,N[V]=-1;var B=X[V];if(B!==null)for(X[V]=null,V=0;V<B.length;V++){var H=B[V];H!==null&&(H.lane&=-536870913)}l&=~W}c!==0&&xn(n,c,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~s))}function xn(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Lt(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|l&261930}function $e(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var c=31-Lt(l),d=1<<c;d&s|n[c]&s&&(n[c]|=s),l&=~d}}function St(n,s){var l=s&-s;return l=(l&42)!==0?1:un(l),(l&(n.suspendedLanes|s))!==0?0:l}function un(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Qr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Om(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:y_(n.type))}function Dm(n,s){var l=Z.p;try{return Z.p=n,s()}finally{Z.p=l}}var Ji=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Ji,Wt="__reactProps$"+Ji,Ia="__reactContainer$"+Ji,hh="__reactEvents$"+Ji,fb="__reactListeners$"+Ji,db="__reactHandles$"+Ji,Im="__reactResources$"+Ji,Jr="__reactMarker$"+Ji;function fh(n){delete n[Nt],delete n[Wt],delete n[hh],delete n[fb],delete n[db]}function ja(n){var s=n[Nt];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Ia]||l[Nt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=t_(n);n!==null;){if(l=n[Nt])return l;n=t_(n)}return s}n=l,l=n.parentNode}return null}function ka(n){if(n=n[Nt]||n[Ia]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function $r(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function za(n){var s=n[Im];return s||(s=n[Im]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(n){n[Jr]=!0}var jm=new Set,km={};function Zs(n,s){Fa(n,s),Fa(n+"Capture",s)}function Fa(n,s){for(km[n]=s,n=0;n<s.length;n++)jm.add(s[n])}var gb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zm={},Fm={};function mb(n){return pi.call(Fm,n)?!0:pi.call(zm,n)?!1:gb.test(n)?Fm[n]=!0:(zm[n]=!0,!1)}function zo(n,s,l){if(mb(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function Fo(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function _i(n,s,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+c)}}function vn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gm(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pb(n,s,l){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,m=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function dh(n){if(!n._valueTracker){var s=Gm(n)?"checked":"value";n._valueTracker=pb(n,s,""+n[s])}}function Um(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return n&&(c=Gm(n)?n.checked?"true":"false":n.value),n=c,n!==l?(s.setValue(n),!0):!1}function Go(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var yb=/[\n"\\]/g;function bn(n){return n.replace(yb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gh(n,s,l,c,d,m,_,E){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+vn(s)):n.value!==""+vn(s)&&(n.value=""+vn(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?mh(n,_,vn(s)):l!=null?mh(n,_,vn(l)):c!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+vn(E):n.removeAttribute("name")}function Pm(n,s,l,c,d,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){dh(n);return}l=l!=null?""+vn(l):"",s=s!=null?""+vn(s):l,E||s===n.value||(n.value=s),n.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=E?n.checked:!!c,n.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),dh(n)}function mh(n,s,l){s==="number"&&Go(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ga(n,s,l,c){if(n=n.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=s.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&c&&(n[l].defaultSelected=!0)}else{for(l=""+vn(l),s=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Ym(n,s,l){if(s!=null&&(s=""+vn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+vn(l):""}function Xm(n,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(ue(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=vn(s),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c),dh(n)}function Ua(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var _b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bm(n,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,l):typeof l!="number"||l===0||_b.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function Hm(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&l[d]!==c&&Bm(n,d,c)}else for(var m in s)s.hasOwnProperty(m)&&Bm(n,m,s[m])}function ph(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(n){return vb.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function xi(){}var yh=null;function _h(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pa=null,Ya=null;function Vm(n){var s=ka(n);if(s&&(n=s.stateNode)){var l=n[Wt]||null;e:switch(n=s.stateNode,s.type){case"input":if(gh(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==n&&c.form===n.form){var d=c[Wt]||null;if(!d)throw Error(i(90));gh(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===n.form&&Um(c)}break e;case"textarea":Ym(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ga(n,!!l.multiple,s,!1)}}}var xh=!1;function Zm(n,s,l){if(xh)return n(s,l);xh=!0;try{var c=n(s);return c}finally{if(xh=!1,(Pa!==null||Ya!==null)&&(Tu(),Pa&&(s=Pa,n=Ya,Ya=Pa=null,Vm(s),n)))for(s=0;s<n.length;s++)Vm(n[s])}}function el(n,s){var l=n.stateNode;if(l===null)return null;var c=l[Wt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vh=!1;if(vi)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){vh=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{vh=!1}var $i=null,bh=null,Po=null;function Km(){if(Po)return Po;var n,s=bh,l=s.length,c,d="value"in $i?$i.value:$i.textContent,m=d.length;for(n=0;n<l&&s[n]===d[n];n++);var _=l-n;for(c=1;c<=_&&s[l-c]===d[m-c];c++);return Po=d.slice(n,1<c?1-c:void 0)}function Yo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Xo(){return!0}function qm(){return!1}function Qt(n){function s(l,c,d,m,_){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(l=n[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xo:qm,this.isPropagationStopped=qm,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Qt(Ks),nl=y({},Ks,{view:0,detail:0}),bb=Qt(nl),Eh,Sh,il,Ho=y({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==il&&(il&&n.type==="mousemove"?(Eh=n.screenX-il.screenX,Sh=n.screenY-il.screenY):Sh=Eh=0,il=n),Eh)},movementY:function(n){return"movementY"in n?n.movementY:Sh}}),Wm=Qt(Ho),Eb=y({},Ho,{dataTransfer:0}),Sb=Qt(Eb),wb=y({},nl,{relatedTarget:0}),wh=Qt(wb),Cb=y({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Rb=Qt(Cb),Tb=y({},Ks,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ab=Qt(Tb),Mb=y({},Ks,{data:0}),Qm=Qt(Mb),Lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Db(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Ob[n])?!!s[n]:!1}function Ch(){return Db}var Ib=y({},nl,{key:function(n){if(n.key){var s=Lb[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Yo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Nb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(n){return n.type==="keypress"?Yo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jb=Qt(Ib),kb=y({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jm=Qt(kb),zb=y({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),Fb=Qt(zb),Gb=y({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ub=Qt(Gb),Pb=y({},Ho,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Yb=Qt(Pb),Xb=y({},Ks,{newState:0,oldState:0}),Bb=Qt(Xb),Hb=[9,13,27,32],Rh=vi&&"CompositionEvent"in window,sl=null;vi&&"documentMode"in document&&(sl=document.documentMode);var Vb=vi&&"TextEvent"in window&&!sl,$m=vi&&(!Rh||sl&&8<sl&&11>=sl),e0=" ",t0=!1;function n0(n,s){switch(n){case"keyup":return Hb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xa=!1;function Zb(n,s){switch(n){case"compositionend":return i0(s);case"keypress":return s.which!==32?null:(t0=!0,e0);case"textInput":return n=s.data,n===e0&&t0?null:n;default:return null}}function Kb(n,s){if(Xa)return n==="compositionend"||!Rh&&n0(n,s)?(n=Km(),Po=bh=$i=null,Xa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $m&&s.locale!=="ko"?null:s.data;default:return null}}var qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qb[n.type]:s==="textarea"}function a0(n,s,l,c){Pa?Ya?Ya.push(c):Ya=[c]:Pa=c,s=Iu(s,"onChange"),0<s.length&&(l=new Bo("onChange","change",null,l,c),n.push({event:l,listeners:s}))}var al=null,rl=null;function Wb(n){Py(n,0)}function Vo(n){var s=$r(n);if(Um(s))return n}function r0(n,s){if(n==="change")return s}var l0=!1;if(vi){var Th;if(vi){var Ah="oninput"in document;if(!Ah){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Ah=typeof o0.oninput=="function"}Th=Ah}else Th=!1;l0=Th&&(!document.documentMode||9<document.documentMode)}function u0(){al&&(al.detachEvent("onpropertychange",c0),rl=al=null)}function c0(n){if(n.propertyName==="value"&&Vo(rl)){var s=[];a0(s,rl,n,_h(n)),Zm(Wb,s)}}function Qb(n,s,l){n==="focusin"?(u0(),al=s,rl=l,al.attachEvent("onpropertychange",c0)):n==="focusout"&&u0()}function Jb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vo(rl)}function $b(n,s){if(n==="click")return Vo(s)}function eE(n,s){if(n==="input"||n==="change")return Vo(s)}function tE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var cn=typeof Object.is=="function"?Object.is:tE;function ll(n,s){if(cn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!pi.call(s,d)||!cn(n[d],s[d]))return!1}return!0}function h0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function f0(n,s){var l=h0(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=s&&c>=s)return{node:l,offset:s-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=h0(l)}}function d0(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?d0(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function g0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Go(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Go(n.document)}return s}function Mh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var nE=vi&&"documentMode"in document&&11>=document.documentMode,Ba=null,Lh=null,ol=null,Nh=!1;function m0(n,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nh||Ba==null||Ba!==Go(c)||(c=Ba,"selectionStart"in c&&Mh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ol&&ll(ol,c)||(ol=c,c=Iu(Lh,"onSelect"),0<c.length&&(s=new Bo("onSelect","select",null,s,l),n.push({event:s,listeners:c}),s.target=Ba)))}function qs(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Ha={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Oh={},p0={};vi&&(p0=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Ws(n){if(Oh[n])return Oh[n];if(!Ha[n])return n;var s=Ha[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in p0)return Oh[n]=s[l];return n}var y0=Ws("animationend"),_0=Ws("animationiteration"),x0=Ws("animationstart"),iE=Ws("transitionrun"),sE=Ws("transitionstart"),aE=Ws("transitioncancel"),v0=Ws("transitionend"),b0=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Yn(n,s){b0.set(n,s),Zs(s,[n])}var Zo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},En=[],Va=0,Ih=0;function Ko(){for(var n=Va,s=Ih=Va=0;s<n;){var l=En[s];En[s++]=null;var c=En[s];En[s++]=null;var d=En[s];En[s++]=null;var m=En[s];if(En[s++]=null,c!==null&&d!==null){var _=c.pending;_===null?d.next=d:(d.next=_.next,_.next=d),c.pending=d}m!==0&&E0(l,d,m)}}function qo(n,s,l,c){En[Va++]=n,En[Va++]=s,En[Va++]=l,En[Va++]=c,Ih|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function jh(n,s,l,c){return qo(n,s,l,c),Wo(n)}function Qs(n,s){return qo(n,null,null,s),Wo(n)}function E0(n,s,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var d=!1,m=n.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&s!==null&&(d=31-Lt(l),n=m.hiddenUpdates,c=n[d],c===null?n[d]=[s]:c.push(s),s.lane=l|536870912),m):null}function Wo(n){if(50<Ll)throw Ll=0,Hf=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Za={};function rE(n,s,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(n,s,l,c){return new rE(n,s,l,c)}function kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function bi(n,s){var l=n.alternate;return l===null?(l=hn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function S0(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Qo(n,s,l,c,d,m){var _=0;if(c=n,typeof n=="function")kh(n)&&(_=1);else if(typeof n=="string")_=h2(n,l,se.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case U:return n=hn(31,l,s,d),n.elementType=U,n.lanes=m,n;case C:return Js(l.children,d,m,s);case w:_=8,d|=24;break;case R:return n=hn(12,l,s,d|2),n.elementType=R,n.lanes=m,n;case O:return n=hn(13,l,s,d),n.elementType=O,n.lanes=m,n;case D:return n=hn(19,l,s,d),n.elementType=D,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:_=10;break e;case T:_=9;break e;case A:_=11;break e;case M:_=14;break e;case P:_=16,c=null;break e}_=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=hn(_,l,s,d),s.elementType=n,s.type=c,s.lanes=m,s}function Js(n,s,l,c){return n=hn(7,n,c,s),n.lanes=l,n}function zh(n,s,l){return n=hn(6,n,null,s),n.lanes=l,n}function w0(n){var s=hn(18,null,null,0);return s.stateNode=n,s}function Fh(n,s,l){return s=hn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var C0=new WeakMap;function Sn(n,s){if(typeof n=="object"&&n!==null){var l=C0.get(n);return l!==void 0?l:(s={value:n,source:s,stack:mi(s)},C0.set(n,s),s)}return{value:n,source:s,stack:mi(s)}}var Ka=[],qa=0,Jo=null,ul=0,wn=[],Cn=0,es=null,ei=1,ti="";function Ei(n,s){Ka[qa++]=ul,Ka[qa++]=Jo,Jo=n,ul=s}function R0(n,s,l){wn[Cn++]=ei,wn[Cn++]=ti,wn[Cn++]=es,es=n;var c=ei;n=ti;var d=32-Lt(c)-1;c&=~(1<<d),l+=1;var m=32-Lt(s)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,ei=1<<32-Lt(s)+d|l<<d|c,ti=m+n}else ei=1<<m|l<<d|c,ti=n}function Gh(n){n.return!==null&&(Ei(n,1),R0(n,1,0))}function Uh(n){for(;n===Jo;)Jo=Ka[--qa],Ka[qa]=null,ul=Ka[--qa],Ka[qa]=null;for(;n===es;)es=wn[--Cn],wn[Cn]=null,ti=wn[--Cn],wn[Cn]=null,ei=wn[--Cn],wn[Cn]=null}function T0(n,s){wn[Cn++]=ei,wn[Cn++]=ti,wn[Cn++]=es,ei=s.id,ti=s.overflow,es=n}var Ot=null,et=null,Ne=!1,ts=null,Rn=!1,Ph=Error(i(519));function ns(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Sn(s,n)),Ph}function A0(n){var s=n.stateNode,l=n.type,c=n.memoizedProps;switch(s[Nt]=n,s[Wt]=c,l){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ae(Ol[l],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":Ae("invalid",s),Pm(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ae("invalid",s);break;case"textarea":Ae("invalid",s),Xm(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||Hy(s.textContent,l)?(c.popover!=null&&(Ae("beforetoggle",s),Ae("toggle",s)),c.onScroll!=null&&Ae("scroll",s),c.onScrollEnd!=null&&Ae("scrollend",s),c.onClick!=null&&(s.onclick=xi),s=!0):s=!1,s||ns(n,!0)}function M0(n){for(Ot=n.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Ot=Ot.return}}function Wa(n){if(n!==Ot)return!1;if(!Ne)return M0(n),Ne=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||rd(n.type,n.memoizedProps)),l=!l),l&&et&&ns(n),M0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=e_(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));et=e_(n)}else s===27?(s=et,ps(n.type)?(n=hd,hd=null,et=n):et=s):et=Ot?An(n.stateNode.nextSibling):null;return!0}function $s(){et=Ot=null,Ne=!1}function Yh(){var n=ts;return n!==null&&(tn===null?tn=n:tn.push.apply(tn,n),ts=null),n}function cl(n){ts===null?ts=[n]:ts.push(n)}var Xh=L(null),ea=null,Si=null;function is(n,s,l){ne(Xh,s._currentValue),s._currentValue=l}function wi(n){n._currentValue=Xh.current,j(Xh)}function Bh(n,s,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===l)break;n=n.return}}function Hh(n,s,l,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var N=0;N<s.length;N++)if(E.context===s[N]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),Bh(m.return,l,n),c||(_=null);break e}m=E.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(i(341));_.lanes|=l,m=_.alternate,m!==null&&(m.lanes|=l),Bh(_,l,n),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Qa(n,s,l,c){n=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=d.type;cn(d.pendingProps.value,_.value)||(n!==null?n.push(E):n=[E])}}else if(d===_e.current){if(_=d.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(zl):n=[zl])}d=d.return}n!==null&&Hh(s,n,l,c),s.flags|=262144}function $o(n){for(n=n.firstContext;n!==null;){if(!cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){ea=n,Si=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Dt(n){return L0(ea,n)}function eu(n,s){return ea===null&&ta(n),L0(n,s)}function L0(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Si===null){if(n===null)throw Error(i(308));Si=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Si=Si.next=s;return l}var lE=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},oE=a.unstable_scheduleCallback,uE=a.unstable_NormalPriority,ft={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new lE,data:new Map,refCount:0}}function hl(n){n.refCount--,n.refCount===0&&oE(uE,function(){n.controller.abort()})}var fl=null,Zh=0,Ja=0,$a=null;function cE(n,s){if(fl===null){var l=fl=[];Zh=0,Ja=Qf(),$a={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Zh++,s.then(N0,N0),s}function N0(){if(--Zh===0&&fl!==null){$a!==null&&($a.status="fulfilled");var n=fl;fl=null,Ja=0,$a=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function hE(n,s){var l=[],c={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),c}var O0=G.S;G.S=function(n,s){my=Mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&cE(n,s),O0!==null&&O0(n,s)};var na=L(null);function Kh(){var n=na.current;return n!==null?n:We.pooledCache}function tu(n,s){s===null?ne(na,na.current):ne(na,s.pool)}function D0(){var n=Kh();return n===null?null:{parent:ft._currentValue,pool:n}}var er=Error(i(460)),qh=Error(i(474)),nu=Error(i(542)),iu={then:function(){}};function I0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function j0(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(xi,xi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,z0(n),n;default:if(typeof s.status=="string")s.then(xi,xi);else{if(n=We,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,z0(n),n}throw sa=s,er}}function ia(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(sa=l,er):l}}var sa=null;function k0(){if(sa===null)throw Error(i(459));var n=sa;return sa=null,n}function z0(n){if(n===er||n===nu)throw Error(i(483))}var tr=null,dl=0;function su(n){var s=dl;return dl+=1,tr===null&&(tr=[]),j0(tr,n,s)}function gl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function au(n,s){throw s.$$typeof===v?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function F0(n){function s(F,I){if(n){var Y=F.deletions;Y===null?(F.deletions=[I],F.flags|=16):Y.push(I)}}function l(F,I){if(!n)return null;for(;I!==null;)s(F,I),I=I.sibling;return null}function c(F){for(var I=new Map;F!==null;)F.key!==null?I.set(F.key,F):I.set(F.index,F),F=F.sibling;return I}function d(F,I){return F=bi(F,I),F.index=0,F.sibling=null,F}function m(F,I,Y){return F.index=Y,n?(Y=F.alternate,Y!==null?(Y=Y.index,Y<I?(F.flags|=67108866,I):Y):(F.flags|=67108866,I)):(F.flags|=1048576,I)}function _(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function E(F,I,Y,q){return I===null||I.tag!==6?(I=zh(Y,F.mode,q),I.return=F,I):(I=d(I,Y),I.return=F,I)}function N(F,I,Y,q){var de=Y.type;return de===C?V(F,I,Y.props.children,q,Y.key):I!==null&&(I.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===P&&ia(de)===I.type)?(I=d(I,Y.props),gl(I,Y),I.return=F,I):(I=Qo(Y.type,Y.key,Y.props,null,F.mode,q),gl(I,Y),I.return=F,I)}function X(F,I,Y,q){return I===null||I.tag!==4||I.stateNode.containerInfo!==Y.containerInfo||I.stateNode.implementation!==Y.implementation?(I=Fh(Y,F.mode,q),I.return=F,I):(I=d(I,Y.children||[]),I.return=F,I)}function V(F,I,Y,q,de){return I===null||I.tag!==7?(I=Js(Y,F.mode,q,de),I.return=F,I):(I=d(I,Y),I.return=F,I)}function W(F,I,Y){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=zh(""+I,F.mode,Y),I.return=F,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return Y=Qo(I.type,I.key,I.props,null,F.mode,Y),gl(Y,I),Y.return=F,Y;case S:return I=Fh(I,F.mode,Y),I.return=F,I;case P:return I=ia(I),W(F,I,Y)}if(ue(I)||ee(I))return I=Js(I,F.mode,Y,null),I.return=F,I;if(typeof I.then=="function")return W(F,su(I),Y);if(I.$$typeof===z)return W(F,eu(F,I),Y);au(F,I)}return null}function B(F,I,Y,q){var de=I!==null?I.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return de!==null?null:E(F,I,""+Y,q);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===de?N(F,I,Y,q):null;case S:return Y.key===de?X(F,I,Y,q):null;case P:return Y=ia(Y),B(F,I,Y,q)}if(ue(Y)||ee(Y))return de!==null?null:V(F,I,Y,q,null);if(typeof Y.then=="function")return B(F,I,su(Y),q);if(Y.$$typeof===z)return B(F,I,eu(F,Y),q);au(F,Y)}return null}function H(F,I,Y,q,de){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return F=F.get(Y)||null,E(I,F,""+q,de);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return F=F.get(q.key===null?Y:q.key)||null,N(I,F,q,de);case S:return F=F.get(q.key===null?Y:q.key)||null,X(I,F,q,de);case P:return q=ia(q),H(F,I,Y,q,de)}if(ue(q)||ee(q))return F=F.get(Y)||null,V(I,F,q,de,null);if(typeof q.then=="function")return H(F,I,Y,su(q),de);if(q.$$typeof===z)return H(F,I,Y,eu(I,q),de);au(I,q)}return null}function ce(F,I,Y,q){for(var de=null,ze=null,he=I,Ce=I=0,Le=null;he!==null&&Ce<Y.length;Ce++){he.index>Ce?(Le=he,he=null):Le=he.sibling;var Fe=B(F,he,Y[Ce],q);if(Fe===null){he===null&&(he=Le);break}n&&he&&Fe.alternate===null&&s(F,he),I=m(Fe,I,Ce),ze===null?de=Fe:ze.sibling=Fe,ze=Fe,he=Le}if(Ce===Y.length)return l(F,he),Ne&&Ei(F,Ce),de;if(he===null){for(;Ce<Y.length;Ce++)he=W(F,Y[Ce],q),he!==null&&(I=m(he,I,Ce),ze===null?de=he:ze.sibling=he,ze=he);return Ne&&Ei(F,Ce),de}for(he=c(he);Ce<Y.length;Ce++)Le=H(he,F,Ce,Y[Ce],q),Le!==null&&(n&&Le.alternate!==null&&he.delete(Le.key===null?Ce:Le.key),I=m(Le,I,Ce),ze===null?de=Le:ze.sibling=Le,ze=Le);return n&&he.forEach(function(bs){return s(F,bs)}),Ne&&Ei(F,Ce),de}function ye(F,I,Y,q){if(Y==null)throw Error(i(151));for(var de=null,ze=null,he=I,Ce=I=0,Le=null,Fe=Y.next();he!==null&&!Fe.done;Ce++,Fe=Y.next()){he.index>Ce?(Le=he,he=null):Le=he.sibling;var bs=B(F,he,Fe.value,q);if(bs===null){he===null&&(he=Le);break}n&&he&&bs.alternate===null&&s(F,he),I=m(bs,I,Ce),ze===null?de=bs:ze.sibling=bs,ze=bs,he=Le}if(Fe.done)return l(F,he),Ne&&Ei(F,Ce),de;if(he===null){for(;!Fe.done;Ce++,Fe=Y.next())Fe=W(F,Fe.value,q),Fe!==null&&(I=m(Fe,I,Ce),ze===null?de=Fe:ze.sibling=Fe,ze=Fe);return Ne&&Ei(F,Ce),de}for(he=c(he);!Fe.done;Ce++,Fe=Y.next())Fe=H(he,F,Ce,Fe.value,q),Fe!==null&&(n&&Fe.alternate!==null&&he.delete(Fe.key===null?Ce:Fe.key),I=m(Fe,I,Ce),ze===null?de=Fe:ze.sibling=Fe,ze=Fe);return n&&he.forEach(function(E2){return s(F,E2)}),Ne&&Ei(F,Ce),de}function qe(F,I,Y,q){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var de=Y.key;I!==null;){if(I.key===de){if(de=Y.type,de===C){if(I.tag===7){l(F,I.sibling),q=d(I,Y.props.children),q.return=F,F=q;break e}}else if(I.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===P&&ia(de)===I.type){l(F,I.sibling),q=d(I,Y.props),gl(q,Y),q.return=F,F=q;break e}l(F,I);break}else s(F,I);I=I.sibling}Y.type===C?(q=Js(Y.props.children,F.mode,q,Y.key),q.return=F,F=q):(q=Qo(Y.type,Y.key,Y.props,null,F.mode,q),gl(q,Y),q.return=F,F=q)}return _(F);case S:e:{for(de=Y.key;I!==null;){if(I.key===de)if(I.tag===4&&I.stateNode.containerInfo===Y.containerInfo&&I.stateNode.implementation===Y.implementation){l(F,I.sibling),q=d(I,Y.children||[]),q.return=F,F=q;break e}else{l(F,I);break}else s(F,I);I=I.sibling}q=Fh(Y,F.mode,q),q.return=F,F=q}return _(F);case P:return Y=ia(Y),qe(F,I,Y,q)}if(ue(Y))return ce(F,I,Y,q);if(ee(Y)){if(de=ee(Y),typeof de!="function")throw Error(i(150));return Y=de.call(Y),ye(F,I,Y,q)}if(typeof Y.then=="function")return qe(F,I,su(Y),q);if(Y.$$typeof===z)return qe(F,I,eu(F,Y),q);au(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,I!==null&&I.tag===6?(l(F,I.sibling),q=d(I,Y),q.return=F,F=q):(l(F,I),q=zh(Y,F.mode,q),q.return=F,F=q),_(F)):l(F,I)}return function(F,I,Y,q){try{dl=0;var de=qe(F,I,Y,q);return tr=null,de}catch(he){if(he===er||he===nu)throw he;var ze=hn(29,he,null,F.mode);return ze.lanes=q,ze.return=F,ze}}}var aa=F0(!0),G0=F0(!1),ss=!1;function Wh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function as(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function rs(n,s,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Wo(n),E0(n,null,l),s}return qo(n,c,s,l),Wo(n)}function ml(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,$e(n,l)}}function Jh(n,s){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,l=l.next}while(l!==null);m===null?d=m=s:m=m.next=s}else d=m=s;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var $h=!1;function pl(){if($h){var n=$a;if(n!==null)throw n}}function yl(n,s,l,c){$h=!1;var d=n.updateQueue;ss=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var N=E,X=N.next;N.next=null,_===null?m=X:_.next=X,_=N;var V=n.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==_&&(E===null?V.firstBaseUpdate=X:E.next=X,V.lastBaseUpdate=N))}if(m!==null){var W=d.baseState;_=0,V=X=N=null,E=m;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Me&B)===B:(c&B)===B){B!==0&&B===Ja&&($h=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=n,ye=E;B=s;var qe=l;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){W=ce.call(qe,W,B);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,B=typeof ce=="function"?ce.call(qe,W,B):ce,B==null)break e;W=y({},W,B);break e;case 2:ss=!0}}B=E.callback,B!==null&&(n.flags|=64,H&&(n.flags|=8192),H=d.callbacks,H===null?d.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(X=V=H,N=W):V=V.next=H,_|=B;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;H=E,E=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);V===null&&(N=W),d.baseState=N,d.firstBaseUpdate=X,d.lastBaseUpdate=V,m===null&&(d.shared.lanes=0),hs|=_,n.lanes=_,n.memoizedState=W}}function U0(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function P0(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)U0(l[n],s)}var nr=L(null),ru=L(0);function Y0(n,s){n=Di,ne(ru,n),ne(nr,s),Di=n|s.baseLanes}function ef(){ne(ru,Di),ne(nr,nr.current)}function tf(){Di=ru.current,j(nr),j(ru)}var fn=L(null),Tn=null;function ls(n){var s=n.alternate;ne(ut,ut.current&1),ne(fn,n),Tn===null&&(s===null||nr.current!==null||s.memoizedState!==null)&&(Tn=n)}function nf(n){ne(ut,ut.current),ne(fn,n),Tn===null&&(Tn=n)}function X0(n){n.tag===22?(ne(ut,ut.current),ne(fn,n),Tn===null&&(Tn=n)):os()}function os(){ne(ut,ut.current),ne(fn,fn.current)}function dn(n){j(fn),Tn===n&&(Tn=null),j(ut)}var ut=L(0);function lu(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ud(l)||cd(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ci=0,Se=null,Ze=null,dt=null,ou=!1,ir=!1,ra=!1,uu=0,_l=0,sr=null,fE=0;function rt(){throw Error(i(321))}function sf(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!cn(n[l],s[l]))return!1;return!0}function af(n,s,l,c,d,m){return Ci=m,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=n===null||n.memoizedState===null?Rp:vf,ra=!1,m=l(c,d),ra=!1,ir&&(m=H0(s,l,c,d)),B0(n),m}function B0(n){G.H=bl;var s=Ze!==null&&Ze.next!==null;if(Ci=0,dt=Ze=Se=null,ou=!1,_l=0,sr=null,s)throw Error(i(300));n===null||gt||(n=n.dependencies,n!==null&&$o(n)&&(gt=!0))}function H0(n,s,l,c){Se=n;var d=0;do{if(ir&&(sr=null),_l=0,ir=!1,25<=d)throw Error(i(301));if(d+=1,dt=Ze=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=Tp,m=s(l,c)}while(ir);return m}function dE(){var n=G.H,s=n.useState()[0];return s=typeof s.then=="function"?xl(s):s,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Se.flags|=1024),s}function rf(){var n=uu!==0;return uu=0,n}function lf(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function of(n){if(ou){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ou=!1}Ci=0,dt=Ze=Se=null,ir=!1,_l=uu=0,sr=null}function Ht(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Se.memoizedState=dt=n:dt=dt.next=n,dt}function ct(){if(Ze===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var s=dt===null?Se.memoizedState:dt.next;if(s!==null)dt=s,Ze=n;else{if(n===null)throw Se.alternate===null?Error(i(467)):Error(i(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},dt===null?Se.memoizedState=dt=n:dt=dt.next=n}return dt}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var s=_l;return _l+=1,sr===null&&(sr=[]),n=j0(sr,n,s),s=Se,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Rp:vf),n}function hu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===z)return Dt(n)}throw Error(i(438,String(n)))}function uf(n){var s=null,l=Se.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Se.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=cu(),Se.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),c=0;c<n;c++)l[c]=J;return s.index++,l}function Ri(n,s){return typeof s=="function"?s(n):s}function fu(n){var s=ct();return cf(s,Ze,n)}function cf(n,s,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var d=n.baseQueue,m=c.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}s.baseQueue=d=m,c.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{s=d.next;var E=_=null,N=null,X=s,V=!1;do{var W=X.lane&-536870913;if(W!==X.lane?(Me&W)===W:(Ci&W)===W){var B=X.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),W===Ja&&(V=!0);else if((Ci&B)===B){X=X.next,B===Ja&&(V=!0);continue}else W={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},N===null?(E=N=W,_=m):N=N.next=W,Se.lanes|=B,hs|=B;W=X.action,ra&&l(m,W),m=X.hasEagerState?X.eagerState:l(m,W)}else B={lane:W,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},N===null?(E=N=B,_=m):N=N.next=B,Se.lanes|=W,hs|=W;X=X.next}while(X!==null&&X!==s);if(N===null?_=m:N.next=E,!cn(m,n.memoizedState)&&(gt=!0,V&&(l=$a,l!==null)))throw l;n.memoizedState=m,n.baseState=_,n.baseQueue=N,c.lastRenderedState=m}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function hf(n){var s=ct(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,d=l.pending,m=s.memoizedState;if(d!==null){l.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);cn(m,s.memoizedState)||(gt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,c]}function V0(n,s,l){var c=Se,d=ct(),m=Ne;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=s();var _=!cn((Ze||d).memoizedState,l);if(_&&(d.memoizedState=l,gt=!0),d=d.queue,gf(q0.bind(null,c,d,n),[n]),d.getSnapshot!==s||_||dt!==null&&dt.memoizedState.tag&1){if(c.flags|=2048,ar(9,{destroy:void 0},K0.bind(null,c,d,l,s),null),We===null)throw Error(i(349));m||(Ci&127)!==0||Z0(c,s,l)}return l}function Z0(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Se.updateQueue,s===null?(s=cu(),Se.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function K0(n,s,l,c){s.value=l,s.getSnapshot=c,W0(s)&&Q0(n)}function q0(n,s,l){return l(function(){W0(s)&&Q0(n)})}function W0(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!cn(n,l)}catch{return!0}}function Q0(n){var s=Qs(n,2);s!==null&&nn(s,n,2)}function ff(n){var s=Ht();if(typeof n=="function"){var l=n;if(n=l(),ra){Un(!0);try{l()}finally{Un(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:n},s}function J0(n,s,l,c){return n.baseState=l,cf(n,Ze,typeof c=="function"?c:Ri)}function gE(n,s,l,c,d){if(mu(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};G.T!==null?l(!0):m.isTransition=!1,c(m),l=s.pending,l===null?(m.next=s.pending=m,$0(s,m)):(m.next=l.next,s.pending=l.next=m)}}function $0(n,s){var l=s.action,c=s.payload,d=n.state;if(s.isTransition){var m=G.T,_={};G.T=_;try{var E=l(d,c),N=G.S;N!==null&&N(_,E),ep(n,s,E)}catch(X){df(n,s,X)}finally{m!==null&&_.types!==null&&(m.types=_.types),G.T=m}}else try{m=l(d,c),ep(n,s,m)}catch(X){df(n,s,X)}}function ep(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){tp(n,s,c)},function(c){return df(n,s,c)}):tp(n,s,l)}function tp(n,s,l){s.status="fulfilled",s.value=l,np(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,$0(n,l)))}function df(n,s,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,np(s),s=s.next;while(s!==c)}n.action=null}function np(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function ip(n,s){return s}function sp(n,s){if(Ne){var l=We.formState;if(l!==null){e:{var c=Se;if(Ne){if(et){t:{for(var d=et,m=Rn;d.nodeType!==8;){if(!m){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){et=An(d.nextSibling),c=d.data==="F!";break e}}ns(c)}c=!1}c&&(s=l[0])}}return l=Ht(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:s},l.queue=c,l=Sp.bind(null,Se,c),c.dispatch=l,c=ff(!1),m=xf.bind(null,Se,!1,c.queue),c=Ht(),d={state:s,dispatch:null,action:n,pending:null},c.queue=d,l=gE.bind(null,Se,d,m,l),d.dispatch=l,c.memoizedState=n,[s,l,!1]}function ap(n){var s=ct();return rp(s,Ze,n)}function rp(n,s,l){if(s=cf(n,s,ip)[0],n=fu(Ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=xl(s)}catch(_){throw _===er?nu:_}else c=s;s=ct();var d=s.queue,m=d.dispatch;return l!==s.memoizedState&&(Se.flags|=2048,ar(9,{destroy:void 0},mE.bind(null,d,l),null)),[c,m,n]}function mE(n,s){n.action=s}function lp(n){var s=ct(),l=Ze;if(l!==null)return rp(s,l,n);ct(),s=s.memoizedState,l=ct();var c=l.queue.dispatch;return l.memoizedState=n,[s,c,!1]}function ar(n,s,l,c){return n={tag:n,create:l,deps:c,inst:s,next:null},s=Se.updateQueue,s===null&&(s=cu(),Se.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,s.lastEffect=n),n}function op(){return ct().memoizedState}function du(n,s,l,c){var d=Ht();Se.flags|=n,d.memoizedState=ar(1|s,{destroy:void 0},l,c===void 0?null:c)}function gu(n,s,l,c){var d=ct();c=c===void 0?null:c;var m=d.memoizedState.inst;Ze!==null&&c!==null&&sf(c,Ze.memoizedState.deps)?d.memoizedState=ar(s,m,l,c):(Se.flags|=n,d.memoizedState=ar(1|s,m,l,c))}function up(n,s){du(8390656,8,n,s)}function gf(n,s){gu(2048,8,n,s)}function pE(n){Se.flags|=4;var s=Se.updateQueue;if(s===null)s=cu(),Se.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function cp(n){var s=ct().memoizedState;return pE({ref:s,nextImpl:n}),function(){if((Ue&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function hp(n,s){return gu(4,2,n,s)}function fp(n,s){return gu(4,4,n,s)}function dp(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function gp(n,s,l){l=l!=null?l.concat([n]):null,gu(4,4,dp.bind(null,s,n),l)}function mf(){}function mp(n,s){var l=ct();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&sf(s,c[1])?c[0]:(l.memoizedState=[n,s],n)}function pp(n,s){var l=ct();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&sf(s,c[1]))return c[0];if(c=n(),ra){Un(!0);try{n()}finally{Un(!1)}}return l.memoizedState=[c,s],c}function pf(n,s,l){return l===void 0||(Ci&1073741824)!==0&&(Me&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=yy(),Se.lanes|=n,hs|=n,l)}function yp(n,s,l,c){return cn(l,s)?l:nr.current!==null?(n=pf(n,l,c),cn(n,s)||(gt=!0),n):(Ci&42)===0||(Ci&1073741824)!==0&&(Me&261930)===0?(gt=!0,n.memoizedState=l):(n=yy(),Se.lanes|=n,hs|=n,s)}function _p(n,s,l,c,d){var m=Z.p;Z.p=m!==0&&8>m?m:8;var _=G.T,E={};G.T=E,xf(n,!1,s,l);try{var N=d(),X=G.S;if(X!==null&&X(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var V=hE(N,c);vl(n,s,V,pn(n))}else vl(n,s,c,pn(n))}catch(W){vl(n,s,{then:function(){},status:"rejected",reason:W},pn())}finally{Z.p=m,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function yE(){}function yf(n,s,l,c){if(n.tag!==5)throw Error(i(476));var d=xp(n).queue;_p(n,d,s,$,l===null?yE:function(){return vp(n),l(c)})}function xp(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:$},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function vp(n){var s=xp(n);s.next===null&&(s=n.alternate.memoizedState),vl(n,s.next.queue,{},pn())}function _f(){return Dt(zl)}function bp(){return ct().memoizedState}function Ep(){return ct().memoizedState}function _E(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=pn();n=as(l);var c=rs(s,n,l);c!==null&&(nn(c,s,l),ml(c,s,l)),s={cache:Vh()},n.payload=s;return}s=s.return}}function xE(n,s,l){var c=pn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mu(n)?wp(s,l):(l=jh(n,s,l,c),l!==null&&(nn(l,n,c),Cp(l,s,c)))}function Sp(n,s,l){var c=pn();vl(n,s,l,c)}function vl(n,s,l,c){var d={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(mu(n))wp(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,E=m(_,l);if(d.hasEagerState=!0,d.eagerState=E,cn(E,_))return qo(n,s,d,0),We===null&&Ko(),!1}catch{}if(l=jh(n,s,d,c),l!==null)return nn(l,n,c),Cp(l,s,c),!0}return!1}function xf(n,s,l,c){if(c={lane:2,revertLane:Qf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},mu(n)){if(s)throw Error(i(479))}else s=jh(n,l,c,2),s!==null&&nn(s,n,2)}function mu(n){var s=n.alternate;return n===Se||s!==null&&s===Se}function wp(n,s){ir=ou=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Cp(n,s,l){if((l&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,$e(n,l)}}var bl={readContext:Dt,use:hu,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};bl.useEffectEvent=rt;var Rp={readContext:Dt,use:hu,useCallback:function(n,s){return Ht().memoizedState=[n,s===void 0?null:s],n},useContext:Dt,useEffect:up,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,du(4194308,4,dp.bind(null,s,n),l)},useLayoutEffect:function(n,s){return du(4194308,4,n,s)},useInsertionEffect:function(n,s){du(4,2,n,s)},useMemo:function(n,s){var l=Ht();s=s===void 0?null:s;var c=n();if(ra){Un(!0);try{n()}finally{Un(!1)}}return l.memoizedState=[c,s],c},useReducer:function(n,s,l){var c=Ht();if(l!==void 0){var d=l(s);if(ra){Un(!0);try{l(s)}finally{Un(!1)}}}else d=s;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=xE.bind(null,Se,n),[c.memoizedState,n]},useRef:function(n){var s=Ht();return n={current:n},s.memoizedState=n},useState:function(n){n=ff(n);var s=n.queue,l=Sp.bind(null,Se,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:mf,useDeferredValue:function(n,s){var l=Ht();return pf(l,n,s)},useTransition:function(){var n=ff(!1);return n=_p.bind(null,Se,n.queue,!0,!1),Ht().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var c=Se,d=Ht();if(Ne){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),We===null)throw Error(i(349));(Me&127)!==0||Z0(c,s,l)}d.memoizedState=l;var m={value:l,getSnapshot:s};return d.queue=m,up(q0.bind(null,c,m,n),[n]),c.flags|=2048,ar(9,{destroy:void 0},K0.bind(null,c,m,l,s),null),l},useId:function(){var n=Ht(),s=We.identifierPrefix;if(Ne){var l=ti,c=ei;l=(c&~(1<<32-Lt(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=uu++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=fE++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:_f,useFormState:sp,useActionState:sp,useOptimistic:function(n){var s=Ht();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=xf.bind(null,Se,!0,l),l.dispatch=s,[n,s]},useMemoCache:uf,useCacheRefresh:function(){return Ht().memoizedState=_E.bind(null,Se)},useEffectEvent:function(n){var s=Ht(),l={impl:n};return s.memoizedState=l,function(){if((Ue&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},vf={readContext:Dt,use:hu,useCallback:mp,useContext:Dt,useEffect:gf,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:fu,useRef:op,useState:function(){return fu(Ri)},useDebugValue:mf,useDeferredValue:function(n,s){var l=ct();return yp(l,Ze.memoizedState,n,s)},useTransition:function(){var n=fu(Ri)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:xl(n),s]},useSyncExternalStore:V0,useId:bp,useHostTransitionStatus:_f,useFormState:ap,useActionState:ap,useOptimistic:function(n,s){var l=ct();return J0(l,Ze,n,s)},useMemoCache:uf,useCacheRefresh:Ep};vf.useEffectEvent=cp;var Tp={readContext:Dt,use:hu,useCallback:mp,useContext:Dt,useEffect:gf,useImperativeHandle:gp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:hf,useRef:op,useState:function(){return hf(Ri)},useDebugValue:mf,useDeferredValue:function(n,s){var l=ct();return Ze===null?pf(l,n,s):yp(l,Ze.memoizedState,n,s)},useTransition:function(){var n=hf(Ri)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:xl(n),s]},useSyncExternalStore:V0,useId:bp,useHostTransitionStatus:_f,useFormState:lp,useActionState:lp,useOptimistic:function(n,s){var l=ct();return Ze!==null?J0(l,Ze,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Ep};Tp.useEffectEvent=cp;function bf(n,s,l,c){s=n.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Ef={enqueueSetState:function(n,s,l){n=n._reactInternals;var c=pn(),d=as(c);d.payload=s,l!=null&&(d.callback=l),s=rs(n,d,c),s!==null&&(nn(s,n,c),ml(s,n,c))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var c=pn(),d=as(c);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=rs(n,d,c),s!==null&&(nn(s,n,c),ml(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=pn(),c=as(l);c.tag=2,s!=null&&(c.callback=s),s=rs(n,c,l),s!==null&&(nn(s,n,l),ml(s,n,l))}};function Ap(n,s,l,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):s.prototype&&s.prototype.isPureReactComponent?!ll(l,c)||!ll(d,m):!0}function Mp(n,s,l,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==n&&Ef.enqueueReplaceState(s,s.state,null)}function la(n,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(n=n.defaultProps){l===s&&(l=y({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}function Lp(n){Zo(n)}function Np(n){console.error(n)}function Op(n){Zo(n)}function pu(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Dp(n,s,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Sf(n,s,l){return l=as(l),l.tag=3,l.payload={element:null},l.callback=function(){pu(n,s)},l}function Ip(n){return n=as(n),n.tag=3,n}function jp(n,s,l,c){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=c.value;n.payload=function(){return d(m)},n.callback=function(){Dp(s,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Dp(s,l,c),typeof d!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function vE(n,s,l,c,d){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Qa(s,l,d,!0),l=fn.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Au():l.alternate===null&&lt===0&&(lt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,c===iu?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Kf(n,c,d)),!1;case 22:return l.flags|=65536,c===iu?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Kf(n,c,d)),!1}throw Error(i(435,l.tag))}return Kf(n,c,d),Au(),!1}if(Ne)return s=fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Ph&&(n=Error(i(422),{cause:c}),cl(Sn(n,l)))):(c!==Ph&&(s=Error(i(423),{cause:c}),cl(Sn(s,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Sn(c,l),d=Sf(n.stateNode,c,d),Jh(n,d),lt!==4&&(lt=2)),!1;var m=Error(i(520),{cause:c});if(m=Sn(m,l),Ml===null?Ml=[m]:Ml.push(m),lt!==4&&(lt=2),s===null)return!0;c=Sn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=Sf(l.stateNode,c,n),Jh(l,n),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Ip(d),jp(d,n,l,c),Jh(l,d),!1}l=l.return}while(l!==null);return!1}var wf=Error(i(461)),gt=!1;function It(n,s,l,c){s.child=n===null?G0(s,null,l,c):aa(s,n.child,l,c)}function kp(n,s,l,c,d){l=l.render;var m=s.ref;if("ref"in c){var _={};for(var E in c)E!=="ref"&&(_[E]=c[E])}else _=c;return ta(s),c=af(n,s,l,_,m,d),E=rf(),n!==null&&!gt?(lf(n,s,d),Ti(n,s,d)):(Ne&&E&&Gh(s),s.flags|=1,It(n,s,c,d),s.child)}function zp(n,s,l,c,d){if(n===null){var m=l.type;return typeof m=="function"&&!kh(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,Fp(n,s,m,c,d)):(n=Qo(l.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Of(n,d)){var _=m.memoizedProps;if(l=l.compare,l=l!==null?l:ll,l(_,c)&&n.ref===s.ref)return Ti(n,s,d)}return s.flags|=1,n=bi(m,c),n.ref=s.ref,n.return=s,s.child=n}function Fp(n,s,l,c,d){if(n!==null){var m=n.memoizedProps;if(ll(m,c)&&n.ref===s.ref)if(gt=!1,s.pendingProps=c=m,Of(n,d))(n.flags&131072)!==0&&(gt=!0);else return s.lanes=n.lanes,Ti(n,s,d)}return Cf(n,s,l,c,d)}function Gp(n,s,l,c){var d=c.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,n!==null){for(c=s.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~m}else c=0,s.child=null;return Up(n,s,m,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&tu(s,m!==null?m.cachePool:null),m!==null?Y0(s,m):ef(),X0(s);else return c=s.lanes=536870912,Up(n,s,m!==null?m.baseLanes|l:l,l,c)}else m!==null?(tu(s,m.cachePool),Y0(s,m),os(),s.memoizedState=null):(n!==null&&tu(s,null),ef(),os());return It(n,s,d,l),s.child}function El(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Up(n,s,l,c,d){var m=Kh();return m=m===null?null:{parent:ft._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},n!==null&&tu(s,null),ef(),X0(s),n!==null&&Qa(n,s,c,!0),s.childLanes=d,null}function yu(n,s){return s=xu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Pp(n,s,l){return aa(s,n.child,null,l),n=yu(s,s.pendingProps),n.flags|=2,dn(s),s.memoizedState=null,n}function bE(n,s,l){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ne){if(c.mode==="hidden")return n=yu(s,c),s.lanes=536870912,El(null,n);if(nf(s),(n=et)?(n=$y(n,Rn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},l=w0(n),l.return=s,s.child=l,Ot=s,et=null)):n=null,n===null)throw ns(s);return s.lanes=536870912,null}return yu(s,c)}var m=n.memoizedState;if(m!==null){var _=m.dehydrated;if(nf(s),d)if(s.flags&256)s.flags&=-257,s=Pp(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(gt||Qa(n,s,l,!1),d=(l&n.childLanes)!==0,gt||d){if(c=We,c!==null&&(_=St(c,l),_!==0&&_!==m.retryLane))throw m.retryLane=_,Qs(n,_),nn(c,n,_),wf;Au(),s=Pp(n,s,l)}else n=m.treeContext,et=An(_.nextSibling),Ot=s,Ne=!0,ts=null,Rn=!1,n!==null&&T0(s,n),s=yu(s,c),s.flags|=4096;return s}return n=bi(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function _u(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Cf(n,s,l,c,d){return ta(s),l=af(n,s,l,c,void 0,d),c=rf(),n!==null&&!gt?(lf(n,s,d),Ti(n,s,d)):(Ne&&c&&Gh(s),s.flags|=1,It(n,s,l,d),s.child)}function Yp(n,s,l,c,d,m){return ta(s),s.updateQueue=null,l=H0(s,c,l,d),B0(n),c=rf(),n!==null&&!gt?(lf(n,s,m),Ti(n,s,m)):(Ne&&c&&Gh(s),s.flags|=1,It(n,s,l,m),s.child)}function Xp(n,s,l,c,d){if(ta(s),s.stateNode===null){var m=Za,_=l.contextType;typeof _=="object"&&_!==null&&(m=Dt(_)),m=new l(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ef,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Wh(s),_=l.contextType,m.context=typeof _=="object"&&_!==null?Dt(_):Za,m.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(bf(s,l,_,c),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Ef.enqueueReplaceState(m,m.state,null),yl(s,c,m,d),pl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){m=s.stateNode;var E=s.memoizedProps,N=la(l,E);m.props=N;var X=m.context,V=l.contextType;_=Za,typeof V=="object"&&V!==null&&(_=Dt(V));var W=l.getDerivedStateFromProps;V=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||X!==_)&&Mp(s,m,c,_),ss=!1;var B=s.memoizedState;m.state=B,yl(s,c,m,d),pl(),X=s.memoizedState,E||B!==X||ss?(typeof W=="function"&&(bf(s,l,W,c),X=s.memoizedState),(N=ss||Ap(s,l,N,c,B,X,_))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),m.props=c,m.state=X,m.context=_,c=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Qh(n,s),_=s.memoizedProps,V=la(l,_),m.props=V,W=s.pendingProps,B=m.context,X=l.contextType,N=Za,typeof X=="object"&&X!==null&&(N=Dt(X)),E=l.getDerivedStateFromProps,(X=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==W||B!==N)&&Mp(s,m,c,N),ss=!1,B=s.memoizedState,m.state=B,yl(s,c,m,d),pl();var H=s.memoizedState;_!==W||B!==H||ss||n!==null&&n.dependencies!==null&&$o(n.dependencies)?(typeof E=="function"&&(bf(s,l,E,c),H=s.memoizedState),(V=ss||Ap(s,l,V,c,B,H,N)||n!==null&&n.dependencies!==null&&$o(n.dependencies))?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,H,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,H,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&B===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&B===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=H),m.props=c,m.state=H,m.context=N,c=V):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&B===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&B===n.memoizedState||(s.flags|=1024),c=!1)}return m=c,_u(n,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&c?(s.child=aa(s,n.child,null,d),s.child=aa(s,null,l,d)):It(n,s,l,d),s.memoizedState=m.state,n=s.child):n=Ti(n,s,d),n}function Bp(n,s,l,c){return $s(),s.flags|=256,It(n,s,l,c),s.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(n){return{baseLanes:n,cachePool:D0()}}function Af(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=mn),n}function Hp(n,s,l){var c=s.pendingProps,d=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(ut.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ne){if(d?ls(s):os(),(n=et)?(n=$y(n,Rn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:es!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},l=w0(n),l.return=s,s.child=l,Ot=s,et=null)):n=null,n===null)throw ns(s);return cd(n)?s.lanes=32:s.lanes=536870912,null}var E=c.children;return c=c.fallback,d?(os(),d=s.mode,E=xu({mode:"hidden",children:E},d),c=Js(c,d,l,null),E.return=s,c.return=s,E.sibling=c,s.child=E,c=s.child,c.memoizedState=Tf(l),c.childLanes=Af(n,_,l),s.memoizedState=Rf,El(null,c)):(ls(s),Mf(s,E))}var N=n.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(m)s.flags&256?(ls(s),s.flags&=-257,s=Lf(n,s,l)):s.memoizedState!==null?(os(),s.child=n.child,s.flags|=128,s=null):(os(),E=c.fallback,d=s.mode,c=xu({mode:"visible",children:c.children},d),E=Js(E,d,l,null),E.flags|=2,c.return=s,E.return=s,c.sibling=E,s.child=c,aa(s,n.child,null,l),c=s.child,c.memoizedState=Tf(l),c.childLanes=Af(n,_,l),s.memoizedState=Rf,s=El(null,c));else if(ls(s),cd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var X=_.dgst;_=X,c=Error(i(419)),c.stack="",c.digest=_,cl({value:c,source:null,stack:null}),s=Lf(n,s,l)}else if(gt||Qa(n,s,l,!1),_=(l&n.childLanes)!==0,gt||_){if(_=We,_!==null&&(c=St(_,l),c!==0&&c!==N.retryLane))throw N.retryLane=c,Qs(n,c),nn(_,n,c),wf;ud(E)||Au(),s=Lf(n,s,l)}else ud(E)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,et=An(E.nextSibling),Ot=s,Ne=!0,ts=null,Rn=!1,n!==null&&T0(s,n),s=Mf(s,c.children),s.flags|=4096);return s}return d?(os(),E=c.fallback,d=s.mode,N=n.child,X=N.sibling,c=bi(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,X!==null?E=bi(X,E):(E=Js(E,d,l,null),E.flags|=2),E.return=s,c.return=s,c.sibling=E,s.child=c,El(null,c),c=s.child,E=n.child.memoizedState,E===null?E=Tf(l):(d=E.cachePool,d!==null?(N=ft._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=D0(),E={baseLanes:E.baseLanes|l,cachePool:d}),c.memoizedState=E,c.childLanes=Af(n,_,l),s.memoizedState=Rf,El(n.child,c)):(ls(s),l=n.child,n=l.sibling,l=bi(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=l,s.memoizedState=null,l)}function Mf(n,s){return s=xu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function xu(n,s){return n=hn(22,n,null,s),n.lanes=0,n}function Lf(n,s,l){return aa(s,n.child,null,l),n=Mf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Vp(n,s,l){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Bh(n.return,s,l)}function Nf(n,s,l,c,d,m){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=d,_.treeForkCount=m)}function Zp(n,s,l){var c=s.pendingProps,d=c.revealOrder,m=c.tail;c=c.children;var _=ut.current,E=(_&2)!==0;if(E?(_=_&1|2,s.flags|=128):_&=1,ne(ut,_),It(n,s,c,l),c=Ne?ul:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vp(n,l,s);else if(n.tag===19)Vp(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(l=s.child,d=null;l!==null;)n=l.alternate,n!==null&&lu(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Nf(s,!1,d,l,m,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&lu(n)===null){s.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}Nf(s,!0,l,null,m,c);break;case"together":Nf(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Ti(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),hs|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Qa(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=bi(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=bi(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Of(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&$o(n)))}function EE(n,s,l){switch(s.tag){case 3:Ve(s,s.stateNode.containerInfo),is(s,ft,n.memoizedState.cache),$s();break;case 27:case 5:we(s);break;case 4:Ve(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nf(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ls(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Hp(n,s,l):(ls(s),n=Ti(n,s,l),n!==null?n.sibling:null);ls(s);break;case 19:var d=(n.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Qa(n,s,l,!1),c=(l&s.childLanes)!==0),d){if(c)return Zp(n,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ne(ut,ut.current),c)break;return null;case 22:return s.lanes=0,Gp(n,s,l,s.pendingProps);case 24:is(s,ft,n.memoizedState.cache)}return Ti(n,s,l)}function Kp(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)gt=!0;else{if(!Of(n,l)&&(s.flags&128)===0)return gt=!1,EE(n,s,l);gt=(n.flags&131072)!==0}else gt=!1,Ne&&(s.flags&1048576)!==0&&R0(s,ul,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=ia(s.elementType),s.type=n,typeof n=="function")kh(n)?(c=la(n,c),s.tag=1,s=Xp(null,s,n,c,l)):(s.tag=0,s=Cf(null,s,n,c,l));else{if(n!=null){var d=n.$$typeof;if(d===A){s.tag=11,s=kp(null,s,n,c,l);break e}else if(d===M){s.tag=14,s=zp(null,s,n,c,l);break e}}throw s=ae(n)||n,Error(i(306,s,""))}}return s;case 0:return Cf(n,s,s.type,s.pendingProps,l);case 1:return c=s.type,d=la(c,s.pendingProps),Xp(n,s,c,d,l);case 3:e:{if(Ve(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;d=m.element,Qh(n,s),yl(s,c,null,l);var _=s.memoizedState;if(c=_.cache,is(s,ft,c),c!==m.cache&&Hh(s,[ft],l,!0),pl(),c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Bp(n,s,c,l);break e}else if(c!==d){d=Sn(Error(i(424)),s),cl(d),s=Bp(n,s,c,l);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,et=An(n.firstChild),Ot=s,Ne=!0,ts=null,Rn=!0,l=G0(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($s(),c===d){s=Ti(n,s,l);break e}It(n,s,c,l)}s=s.child}return s;case 26:return _u(n,s),n===null?(l=a_(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ne||(l=s.type,n=s.pendingProps,c=ju(ge.current).createElement(l),c[Nt]=s,c[Wt]=n,jt(c,l,n),wt(c),s.stateNode=c):s.memoizedState=a_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return we(s),n===null&&Ne&&(c=s.stateNode=n_(s.type,s.pendingProps,ge.current),Ot=s,Rn=!0,d=et,ps(s.type)?(hd=d,et=An(c.firstChild)):et=d),It(n,s,s.pendingProps.children,l),_u(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ne&&((d=c=et)&&(c=JE(c,s.type,s.pendingProps,Rn),c!==null?(s.stateNode=c,Ot=s,et=An(c.firstChild),Rn=!1,d=!0):d=!1),d||ns(s)),we(s),d=s.type,m=s.pendingProps,_=n!==null?n.memoizedProps:null,c=m.children,rd(d,m)?c=null:_!==null&&rd(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=af(n,s,dE,null,null,l),zl._currentValue=d),_u(n,s),It(n,s,c,l),s.child;case 6:return n===null&&Ne&&((n=l=et)&&(l=$E(l,s.pendingProps,Rn),l!==null?(s.stateNode=l,Ot=s,et=null,n=!0):n=!1),n||ns(s)),null;case 13:return Hp(n,s,l);case 4:return Ve(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=aa(s,null,c,l):It(n,s,c,l),s.child;case 11:return kp(n,s,s.type,s.pendingProps,l);case 7:return It(n,s,s.pendingProps,l),s.child;case 8:return It(n,s,s.pendingProps.children,l),s.child;case 12:return It(n,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,is(s,s.type,c.value),It(n,s,c.children,l),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,ta(s),d=Dt(d),c=c(d),s.flags|=1,It(n,s,c,l),s.child;case 14:return zp(n,s,s.type,s.pendingProps,l);case 15:return Fp(n,s,s.type,s.pendingProps,l);case 19:return Zp(n,s,l);case 31:return bE(n,s,l);case 22:return Gp(n,s,l,s.pendingProps);case 24:return ta(s),c=Dt(ft),n===null?(d=Kh(),d===null&&(d=We,m=Vh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),s.memoizedState={parent:c,cache:d},Wh(s),is(s,ft,d)):((n.lanes&l)!==0&&(Qh(n,s),yl(s,null,null,l),pl()),d=n.memoizedState,m=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),is(s,ft,c)):(c=m.cache,is(s,ft,c),c!==d.cache&&Hh(s,[ft],l,!0))),It(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ai(n){n.flags|=4}function Df(n,s,l,c,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(by())n.flags|=8192;else throw sa=iu,qh}else n.flags&=-16777217}function qp(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!c_(s))if(by())n.flags|=8192;else throw sa=iu,qh}function vu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Bt():536870912,n.lanes|=s,ur|=s)}function Sl(n,s){if(!Ne)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function tt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(s)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=l,s}function SE(n,s,l){var c=s.pendingProps;switch(Uh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return l=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wi(ft),te(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Wa(s)?Ai(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yh())),tt(s),null;case 26:var d=s.type,m=s.memoizedState;return n===null?(Ai(s),m!==null?(tt(s),qp(s,m)):(tt(s),Df(s,d,null,c,l))):m?m!==n.memoizedState?(Ai(s),tt(s),qp(s,m)):(tt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ai(s),tt(s),Df(s,d,n,c,l)),null;case 27:if(Zt(s),l=ge.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Ai(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}n=se.current,Wa(s)?A0(s):(n=n_(d,c,l),s.stateNode=n,Ai(s))}return tt(s),null;case 5:if(Zt(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Ai(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return tt(s),null}if(m=se.current,Wa(s))A0(s);else{var _=ju(ge.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?_.createElement(d,{is:c.is}):_.createElement(d)}}m[Nt]=s,m[Wt]=c;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(jt(m,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ai(s)}}return tt(s),Df(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Ai(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=ge.current,Wa(s)){if(n=s.stateNode,l=s.memoizedProps,c=null,d=Ot,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[Nt]=s,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Hy(n.nodeValue,l)),n||ns(s,!0)}else n=ju(n).createTextNode(c),n[Nt]=s,s.stateNode=n}return tt(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(c=Wa(s),l!==null){if(n===null){if(!c)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Nt]=s}else $s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),n=!1}else l=Yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(dn(s),s):(dn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return tt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Wa(s),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Nt]=s}else $s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),d=!1}else d=Yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(dn(s),s):(dn(s),null)}return dn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,n=n!==null&&n.memoizedState!==null,l&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),vu(s,s.updateQueue),tt(s),null);case 4:return te(),n===null&&td(s.stateNode.containerInfo),tt(s),null;case 10:return wi(s.type),tt(s),null;case 19:if(j(ut),c=s.memoizedState,c===null)return tt(s),null;if(d=(s.flags&128)!==0,m=c.rendering,m===null)if(d)Sl(c,!1);else{if(lt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=lu(n),m!==null){for(s.flags|=128,Sl(c,!1),n=m.updateQueue,s.updateQueue=n,vu(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)S0(l,n),l=l.sibling;return ne(ut,ut.current&1|2),Ne&&Ei(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&Mt()>Cu&&(s.flags|=128,d=!0,Sl(c,!1),s.lanes=4194304)}else{if(!d)if(n=lu(m),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,vu(s,n),Sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ne)return tt(s),null}else 2*Mt()-c.renderingStartTime>Cu&&l!==536870912&&(s.flags|=128,d=!0,Sl(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(n=c.last,n!==null?n.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Mt(),n.sibling=null,l=ut.current,ne(ut,d?l&1|2:l&1),Ne&&Ei(s,c.treeForkCount),n):(tt(s),null);case 22:case 23:return dn(s),tf(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),l=s.updateQueue,l!==null&&vu(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),n!==null&&j(na),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),wi(ft),tt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function wE(n,s){switch(Uh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return wi(ft),te(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Zt(s),null;case 31:if(s.memoizedState!==null){if(dn(s),s.alternate===null)throw Error(i(340));$s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(dn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));$s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return j(ut),null;case 4:return te(),null;case 10:return wi(s.type),null;case 22:case 23:return dn(s),tf(),n!==null&&j(na),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return wi(ft),null;case 25:return null;default:return null}}function Wp(n,s){switch(Uh(s),s.tag){case 3:wi(ft),te();break;case 26:case 27:case 5:Zt(s);break;case 4:te();break;case 31:s.memoizedState!==null&&dn(s);break;case 13:dn(s);break;case 19:j(ut);break;case 10:wi(s.type);break;case 22:case 23:dn(s),tf(),n!==null&&j(na);break;case 24:wi(ft)}}function wl(n,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&n)===n){c=void 0;var m=l.create,_=l.inst;c=m(),_.destroy=c}l=l.next}while(l!==d)}}catch(E){Be(s,s.return,E)}}function us(n,s,l){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&n)===n){var _=c.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,d=s;var N=l,X=E;try{X()}catch(V){Be(d,N,V)}}}c=c.next}while(c!==m)}}catch(V){Be(s,s.return,V)}}function Qp(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{P0(s,l)}catch(c){Be(n,n.return,c)}}}function Jp(n,s,l){l.props=la(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){Be(n,s,c)}}function Cl(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(d){Be(n,s,d)}}function ni(n,s){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(d){Be(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Be(n,s,d)}else l.current=null}function $p(n){var s=n.type,l=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(d){Be(n,n.return,d)}}function If(n,s,l){try{var c=n.stateNode;VE(c,n.type,l,s),c[Wt]=s}catch(d){Be(n,n.return,d)}}function ey(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ps(n.type)||n.tag===4}function jf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ey(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ps(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kf(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=xi));else if(c!==4&&(c===27&&ps(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(kf(n,s,l),n=n.sibling;n!==null;)kf(n,s,l),n=n.sibling}function bu(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(c!==4&&(c===27&&ps(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(bu(n,s,l),n=n.sibling;n!==null;)bu(n,s,l),n=n.sibling}function ty(n){var s=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);jt(s,c,l),s[Nt]=n,s[Wt]=l}catch(m){Be(n,n.return,m)}}var Mi=!1,mt=!1,zf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function CE(n,s){if(n=n.containerInfo,sd=Yu,n=g0(n),Mh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var _=0,E=-1,N=-1,X=0,V=0,W=n,B=null;t:for(;;){for(var H;W!==l||d!==0&&W.nodeType!==3||(E=_+d),W!==m||c!==0&&W.nodeType!==3||(N=_+c),W.nodeType===3&&(_+=W.nodeValue.length),(H=W.firstChild)!==null;)B=W,W=H;for(;;){if(W===n)break t;if(B===l&&++X===d&&(E=_),B===m&&++V===c&&(N=_),(H=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=H}l=E===-1||N===-1?null:{start:E,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(ad={focusedElem:n,selectionRange:l},Yu=!1,Ct=s;Ct!==null;)if(s=Ct,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ct=n;else for(;Ct!==null;){switch(s=Ct,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)d=n[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,l=s,d=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var ce=la(l.type,d);n=c.getSnapshotBeforeUpdate(ce,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Be(l,l.return,ye)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)od(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":od(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Ct=n;break}Ct=s.return}}function iy(n,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ni(n,l),c&4&&wl(5,l);break;case 1:if(Ni(n,l),c&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(_){Be(l,l.return,_)}else{var d=la(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Be(l,l.return,_)}}c&64&&Qp(l),c&512&&Cl(l,l.return);break;case 3:if(Ni(n,l),c&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{P0(n,s)}catch(_){Be(l,l.return,_)}}break;case 27:s===null&&c&4&&ty(l);case 26:case 5:Ni(n,l),s===null&&c&4&&$p(l),c&512&&Cl(l,l.return);break;case 12:Ni(n,l);break;case 31:Ni(n,l),c&4&&ry(n,l);break;case 13:Ni(n,l),c&4&&ly(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=IE.bind(null,l),e2(n,l))));break;case 22:if(c=l.memoizedState!==null||Mi,!c){s=s!==null&&s.memoizedState!==null||mt,d=Mi;var m=mt;Mi=c,(mt=s)&&!m?Oi(n,l,(l.subtreeFlags&8772)!==0):Ni(n,l),Mi=d,mt=m}break;case 30:break;default:Ni(n,l)}}function sy(n){var s=n.alternate;s!==null&&(n.alternate=null,sy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&fh(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,Jt=!1;function Li(n,s,l){for(l=l.child;l!==null;)ay(n,s,l),l=l.sibling}function ay(n,s,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Hs,l)}catch{}switch(l.tag){case 26:mt||ni(l,s),Li(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||ni(l,s);var c=nt,d=Jt;ps(l.type)&&(nt=l.stateNode,Jt=!1),Li(n,s,l),Il(l.stateNode),nt=c,Jt=d;break;case 5:mt||ni(l,s);case 6:if(c=nt,d=Jt,nt=null,Li(n,s,l),nt=c,Jt=d,nt!==null)if(Jt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(l.stateNode)}catch(m){Be(l,s,m)}else try{nt.removeChild(l.stateNode)}catch(m){Be(l,s,m)}break;case 18:nt!==null&&(Jt?(n=nt,Qy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),yr(n)):Qy(nt,l.stateNode));break;case 4:c=nt,d=Jt,nt=l.stateNode.containerInfo,Jt=!0,Li(n,s,l),nt=c,Jt=d;break;case 0:case 11:case 14:case 15:us(2,l,s),mt||us(4,l,s),Li(n,s,l);break;case 1:mt||(ni(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Jp(l,s,c)),Li(n,s,l);break;case 21:Li(n,s,l);break;case 22:mt=(c=mt)||l.memoizedState!==null,Li(n,s,l),mt=c;break;default:Li(n,s,l)}}function ry(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{yr(n)}catch(l){Be(s,s.return,l)}}}function ly(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{yr(n)}catch(l){Be(s,s.return,l)}}function RE(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new ny),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new ny),s;default:throw Error(i(435,n.tag))}}function Eu(n,s){var l=RE(n);s.forEach(function(c){if(!l.has(c)){l.add(c);var d=jE.bind(null,n,c);c.then(d,d)}})}function $t(n,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c],m=n,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(ps(E.type)){nt=E.stateNode,Jt=!1;break e}break;case 5:nt=E.stateNode,Jt=!1;break e;case 3:case 4:nt=E.stateNode.containerInfo,Jt=!0;break e}E=E.return}if(nt===null)throw Error(i(160));ay(m,_,d),nt=null,Jt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)oy(s,n),s=s.sibling}var Xn=null;function oy(n,s){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$t(s,n),en(n),c&4&&(us(3,n,n.return),wl(3,n),us(5,n,n.return));break;case 1:$t(s,n),en(n),c&512&&(mt||l===null||ni(l,l.return)),c&64&&Mi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var d=Xn;if($t(s,n),en(n),c&512&&(mt||l===null||ni(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){e:{c=n.type,l=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Jr]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(c),d.head.insertBefore(m,d.querySelector("head > title"))),jt(m,c,l),m[Nt]=n,wt(m),c=m;break e;case"link":var _=o_("link","href",d).get(c+(l.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(E,1);break t}}m=d.createElement(c),jt(m,c,l),d.head.appendChild(m);break;case"meta":if(_=o_("meta","content",d).get(c+(l.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(E,1);break t}}m=d.createElement(c),jt(m,c,l),d.head.appendChild(m);break;default:throw Error(i(468,c))}m[Nt]=n,wt(m),c=m}n.stateNode=c}else u_(d,n.type,n.stateNode);else n.stateNode=l_(d,c,n.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?u_(d,n.type,n.stateNode):l_(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&If(n,n.memoizedProps,l.memoizedProps)}break;case 27:$t(s,n),en(n),c&512&&(mt||l===null||ni(l,l.return)),l!==null&&c&4&&If(n,n.memoizedProps,l.memoizedProps);break;case 5:if($t(s,n),en(n),c&512&&(mt||l===null||ni(l,l.return)),n.flags&32){d=n.stateNode;try{Ua(d,"")}catch(ce){Be(n,n.return,ce)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,If(n,d,l!==null?l.memoizedProps:d)),c&1024&&(zf=!0);break;case 6:if($t(s,n),en(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(ce){Be(n,n.return,ce)}}break;case 3:if(Fu=null,d=Xn,Xn=ku(s.containerInfo),$t(s,n),Xn=d,en(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{yr(s.containerInfo)}catch(ce){Be(n,n.return,ce)}zf&&(zf=!1,uy(n));break;case 4:c=Xn,Xn=ku(n.stateNode.containerInfo),$t(s,n),en(n),Xn=c;break;case 12:$t(s,n),en(n);break;case 31:$t(s,n),en(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Eu(n,c)));break;case 13:$t(s,n),en(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wu=Mt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Eu(n,c)));break;case 22:d=n.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,X=Mi,V=mt;if(Mi=X||d,mt=V||N,$t(s,n),mt=V,Mi=X,en(n),c&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||N||Mi||mt||oa(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){N=l=s;try{if(m=N.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var W=N.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){Be(N,N.return,ce)}}}else if(s.tag===6){if(l===null){N=s;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(ce){Be(N,N.return,ce)}}}else if(s.tag===18){if(l===null){N=s;try{var H=N.stateNode;d?Jy(H,!0):Jy(N.stateNode,!1)}catch(ce){Be(N,N.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Eu(n,l))));break;case 19:$t(s,n),en(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Eu(n,c)));break;case 30:break;case 21:break;default:$t(s,n),en(n)}}function en(n){var s=n.flags;if(s&2){try{for(var l,c=n.return;c!==null;){if(ey(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,m=jf(n);bu(n,m,d);break;case 5:var _=l.stateNode;l.flags&32&&(Ua(_,""),l.flags&=-33);var E=jf(n);bu(n,E,_);break;case 3:case 4:var N=l.stateNode.containerInfo,X=jf(n);kf(n,X,N);break;default:throw Error(i(161))}}catch(V){Be(n,n.return,V)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function uy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;uy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ni(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)iy(n,s.alternate,s),s=s.sibling}function oa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),oa(s);break;case 1:ni(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Jp(s,s.return,l),oa(s);break;case 27:Il(s.stateNode);case 26:case 5:ni(s,s.return),oa(s);break;case 22:s.memoizedState===null&&oa(s);break;case 30:oa(s);break;default:oa(s)}n=n.sibling}}function Oi(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=n,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:Oi(d,m,l),wl(4,m);break;case 1:if(Oi(d,m,l),c=m,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){Be(c,c.return,X)}if(c=m,d=c.updateQueue,d!==null){var E=c.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)U0(N[d],E)}catch(X){Be(c,c.return,X)}}l&&_&64&&Qp(m),Cl(m,m.return);break;case 27:ty(m);case 26:case 5:Oi(d,m,l),l&&c===null&&_&4&&$p(m),Cl(m,m.return);break;case 12:Oi(d,m,l);break;case 31:Oi(d,m,l),l&&_&4&&ry(d,m);break;case 13:Oi(d,m,l),l&&_&4&&ly(d,m);break;case 22:m.memoizedState===null&&Oi(d,m,l),Cl(m,m.return);break;case 30:break;default:Oi(d,m,l)}s=s.sibling}}function Ff(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&hl(l))}function Gf(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&hl(n))}function Bn(n,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cy(n,s,l,c),s=s.sibling}function cy(n,s,l,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(n,s,l,c),d&2048&&wl(9,s);break;case 1:Bn(n,s,l,c);break;case 3:Bn(n,s,l,c),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&hl(n)));break;case 12:if(d&2048){Bn(n,s,l,c),n=s.stateNode;try{var m=s.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Be(s,s.return,N)}}else Bn(n,s,l,c);break;case 31:Bn(n,s,l,c);break;case 13:Bn(n,s,l,c);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?Bn(n,s,l,c):Rl(n,s):m._visibility&2?Bn(n,s,l,c):(m._visibility|=2,rr(n,s,l,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Ff(_,s);break;case 24:Bn(n,s,l,c),d&2048&&Gf(s.alternate,s);break;default:Bn(n,s,l,c)}}function rr(n,s,l,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,_=s,E=l,N=c,X=_.flags;switch(_.tag){case 0:case 11:case 15:rr(m,_,E,N,d),wl(8,_);break;case 23:break;case 22:var V=_.stateNode;_.memoizedState!==null?V._visibility&2?rr(m,_,E,N,d):Rl(m,_):(V._visibility|=2,rr(m,_,E,N,d)),d&&X&2048&&Ff(_.alternate,_);break;case 24:rr(m,_,E,N,d),d&&X&2048&&Gf(_.alternate,_);break;default:rr(m,_,E,N,d)}s=s.sibling}}function Rl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,c=s,d=c.flags;switch(c.tag){case 22:Rl(l,c),d&2048&&Ff(c.alternate,c);break;case 24:Rl(l,c),d&2048&&Gf(c.alternate,c);break;default:Rl(l,c)}s=s.sibling}}var Tl=8192;function lr(n,s,l){if(n.subtreeFlags&Tl)for(n=n.child;n!==null;)hy(n,s,l),n=n.sibling}function hy(n,s,l){switch(n.tag){case 26:lr(n,s,l),n.flags&Tl&&n.memoizedState!==null&&f2(l,Xn,n.memoizedState,n.memoizedProps);break;case 5:lr(n,s,l);break;case 3:case 4:var c=Xn;Xn=ku(n.stateNode.containerInfo),lr(n,s,l),Xn=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Tl,Tl=16777216,lr(n,s,l),Tl=c):lr(n,s,l));break;default:lr(n,s,l)}}function fy(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Al(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Ct=c,gy(c,n)}fy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(n),n=n.sibling}function dy(n){switch(n.tag){case 0:case 11:case 15:Al(n),n.flags&2048&&us(9,n,n.return);break;case 3:Al(n);break;case 12:Al(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Su(n)):Al(n);break;default:Al(n)}}function Su(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Ct=c,gy(c,n)}fy(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:us(8,s,s.return),Su(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Su(s));break;default:Su(s)}n=n.sibling}}function gy(n,s){for(;Ct!==null;){var l=Ct;switch(l.tag){case 0:case 11:case 15:us(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:hl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Ct=c;else e:for(l=n;Ct!==null;){c=Ct;var d=c.sibling,m=c.return;if(sy(c),c===l){Ct=null;break e}if(d!==null){d.return=m,Ct=d;break e}Ct=m}}}var TE={getCacheForType:function(n){var s=Dt(ft),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return Dt(ft).controller.signal}},AE=typeof WeakMap=="function"?WeakMap:Map,Ue=0,We=null,Te=null,Me=0,Xe=0,gn=null,cs=!1,or=!1,Uf=!1,Di=0,lt=0,hs=0,ua=0,Pf=0,mn=0,ur=0,Ml=null,tn=null,Yf=!1,wu=0,my=0,Cu=1/0,Ru=null,fs=null,pt=0,ds=null,cr=null,Ii=0,Xf=0,Bf=null,py=null,Ll=0,Hf=null;function pn(){return(Ue&2)!==0&&Me!==0?Me&-Me:G.T!==null?Qf():Om()}function yy(){if(mn===0)if((Me&536870912)===0||Ne){var n=Qn;Qn<<=1,(Qn&3932160)===0&&(Qn=262144),mn=n}else mn=536870912;return n=fn.current,n!==null&&(n.flags|=32),mn}function nn(n,s,l){(n===We&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(hr(n,0),gs(n,Me,mn,!1)),Et(n,l),((Ue&2)===0||n!==We)&&(n===We&&((Ue&2)===0&&(ua|=l),lt===4&&gs(n,Me,mn,!1)),ii(n))}function _y(n,s,l){if((Ue&6)!==0)throw Error(i(327));var c=!l&&(s&127)===0&&(s&n.expiredLanes)===0||bt(n,s),d=c?NE(n,s):Zf(n,s,!0),m=c;do{if(d===0){or&&!c&&gs(n,s,0,!1);break}else{if(l=n.current.alternate,m&&!ME(l)){d=Zf(n,s,!1),m=!1;continue}if(d===2){if(m=s,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var E=n;d=Ml;var N=E.current.memoizedState.isDehydrated;if(N&&(hr(E,_).flags|=256),_=Zf(E,_,!1),_!==2){if(Uf&&!N){E.errorRecoveryDisabledLanes|=m,ua|=m,d=4;break e}m=tn,tn=d,m!==null&&(tn===null?tn=m:tn.push.apply(tn,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){hr(n,0),gs(n,s,0,!0);break}e:{switch(c=n,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:gs(c,s,mn,!cs);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=wu+300-Mt(),10<d)){if(gs(c,s,mn,!cs),Vs(c,0,!0)!==0)break e;Ii=s,c.timeoutHandle=qy(xy.bind(null,c,l,tn,Ru,Yf,s,mn,ua,ur,cs,m,"Throttled",-0,0),d);break e}xy(c,l,tn,Ru,Yf,s,mn,ua,ur,cs,m,null,-0,0)}}break}while(!0);ii(n)}function xy(n,s,l,c,d,m,_,E,N,X,V,W,B,H){if(n.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},hy(s,m,W);var ce=(m&62914560)===m?wu-Mt():(m&4194048)===m?my-Mt():0;if(ce=d2(W,ce),ce!==null){Ii=m,n.cancelPendingCommit=ce(Ty.bind(null,n,s,m,l,c,d,_,E,N,V,W,null,B,H)),gs(n,m,_,!X);return}}Ty(n,s,m,l,c,d,_,E,N)}function ME(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var d=l[c],m=d.getSnapshot;d=d.value;try{if(!cn(m(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gs(n,s,l,c){s&=~Pf,s&=~ua,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var d=s;0<d;){var m=31-Lt(d),_=1<<m;c[m]=-1,d&=~_}l!==0&&xn(n,l,s)}function Tu(){return(Ue&6)===0?(Nl(0),!1):!0}function Vf(){if(Te!==null){if(Xe===0)var n=Te.return;else n=Te,Si=ea=null,of(n),tr=null,dl=0,n=Te;for(;n!==null;)Wp(n.alternate,n),n=n.return;Te=null}}function hr(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,qE(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Ii=0,Vf(),We=n,Te=l=bi(n.current,null),Me=s,Xe=0,gn=null,cs=!1,or=bt(n,s),Uf=!1,ur=mn=Pf=ua=hs=lt=0,tn=Ml=null,Yf=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var d=31-Lt(c),m=1<<d;s|=n[d],c&=~m}return Di=s,Ko(),l}function vy(n,s){Se=null,G.H=bl,s===er||s===nu?(s=k0(),Xe=3):s===qh?(s=k0(),Xe=4):Xe=s===wf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gn=s,Te===null&&(lt=1,pu(n,Sn(s,n.current)))}function by(){var n=fn.current;return n===null?!0:(Me&4194048)===Me?Tn===null:(Me&62914560)===Me||(Me&536870912)!==0?n===Tn:!1}function Ey(){var n=G.H;return G.H=bl,n===null?bl:n}function Sy(){var n=G.A;return G.A=TE,n}function Au(){lt=4,cs||(Me&4194048)!==Me&&fn.current!==null||(or=!0),(hs&134217727)===0&&(ua&134217727)===0||We===null||gs(We,Me,mn,!1)}function Zf(n,s,l){var c=Ue;Ue|=2;var d=Ey(),m=Sy();(We!==n||Me!==s)&&(Ru=null,hr(n,s)),s=!1;var _=lt;e:do try{if(Xe!==0&&Te!==null){var E=Te,N=gn;switch(Xe){case 8:Vf(),_=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(s=!0);var X=Xe;if(Xe=0,gn=null,fr(n,E,N,X),l&&or){_=0;break e}break;default:X=Xe,Xe=0,gn=null,fr(n,E,N,X)}}LE(),_=lt;break}catch(V){vy(n,V)}while(!0);return s&&n.shellSuspendCounter++,Si=ea=null,Ue=c,G.H=d,G.A=m,Te===null&&(We=null,Me=0,Ko()),_}function LE(){for(;Te!==null;)wy(Te)}function NE(n,s){var l=Ue;Ue|=2;var c=Ey(),d=Sy();We!==n||Me!==s?(Ru=null,Cu=Mt()+500,hr(n,s)):or=bt(n,s);e:do try{if(Xe!==0&&Te!==null){s=Te;var m=gn;t:switch(Xe){case 1:Xe=0,gn=null,fr(n,s,m,1);break;case 2:case 9:if(I0(m)){Xe=0,gn=null,Cy(s);break}s=function(){Xe!==2&&Xe!==9||We!==n||(Xe=7),ii(n)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:I0(m)?(Xe=0,gn=null,Cy(s)):(Xe=0,gn=null,fr(n,s,m,7));break;case 5:var _=null;switch(Te.tag){case 26:_=Te.memoizedState;case 5:case 27:var E=Te;if(_?c_(_):E.stateNode.complete){Xe=0,gn=null;var N=E.sibling;if(N!==null)Te=N;else{var X=E.return;X!==null?(Te=X,Mu(X)):Te=null}break t}}Xe=0,gn=null,fr(n,s,m,5);break;case 6:Xe=0,gn=null,fr(n,s,m,6);break;case 8:Vf(),lt=6;break e;default:throw Error(i(462))}}OE();break}catch(V){vy(n,V)}while(!0);return Si=ea=null,G.H=c,G.A=d,Ue=l,Te!==null?0:(We=null,Me=0,Ko(),lt)}function OE(){for(;Te!==null&&!Qi();)wy(Te)}function wy(n){var s=Kp(n.alternate,n,Di);n.memoizedProps=n.pendingProps,s===null?Mu(n):Te=s}function Cy(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=Yp(l,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=Yp(l,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:of(s);default:Wp(l,s),s=Te=S0(s,Di),s=Kp(l,s,Di)}n.memoizedProps=n.pendingProps,s===null?Mu(n):Te=s}function fr(n,s,l,c){Si=ea=null,of(s),tr=null,dl=0;var d=s.return;try{if(vE(n,d,s,l,Me)){lt=1,pu(n,Sn(l,n.current)),Te=null;return}}catch(m){if(d!==null)throw Te=d,m;lt=1,pu(n,Sn(l,n.current)),Te=null;return}s.flags&32768?(Ne||c===1?n=!0:or||(Me&536870912)!==0?n=!1:(cs=n=!0,(c===2||c===9||c===3||c===6)&&(c=fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ry(s,n)):Mu(s)}function Mu(n){var s=n;do{if((s.flags&32768)!==0){Ry(s,cs);return}n=s.return;var l=SE(s.alternate,s,Di);if(l!==null){Te=l;return}if(s=s.sibling,s!==null){Te=s;return}Te=s=n}while(s!==null);lt===0&&(lt=5)}function Ry(n,s){do{var l=wE(n.alternate,n);if(l!==null){l.flags&=32767,Te=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Te=n;return}Te=n=l}while(n!==null);lt=6,Te=null}function Ty(n,s,l,c,d,m,_,E,N){n.cancelPendingCommit=null;do Lu();while(pt!==0);if((Ue&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Ih,Pn(n,l,m,_,E,N),n===We&&(Te=We=null,Me=0),cr=s,ds=n,Ii=l,Xf=m,Bf=d,py=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kE(Da,function(){return Oy(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,d=Z.p,Z.p=2,_=Ue,Ue|=4;try{CE(n,s,l)}finally{Ue=_,Z.p=d,G.T=c}}pt=1,Ay(),My(),Ly()}}function Ay(){if(pt===1){pt=0;var n=ds,s=cr,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var c=Z.p;Z.p=2;var d=Ue;Ue|=4;try{oy(s,n);var m=ad,_=g0(n.containerInfo),E=m.focusedElem,N=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&d0(E.ownerDocument.documentElement,E)){if(N!==null&&Mh(E)){var X=N.start,V=N.end;if(V===void 0&&(V=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(V,E.value.length);else{var W=E.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var H=B.getSelection(),ce=E.textContent.length,ye=Math.min(N.start,ce),qe=N.end===void 0?ye:Math.min(N.end,ce);!H.extend&&ye>qe&&(_=qe,qe=ye,ye=_);var F=f0(E,ye),I=f0(E,qe);if(F&&I&&(H.rangeCount!==1||H.anchorNode!==F.node||H.anchorOffset!==F.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var Y=W.createRange();Y.setStart(F.node,F.offset),H.removeAllRanges(),ye>qe?(H.addRange(Y),H.extend(I.node,I.offset)):(Y.setEnd(I.node,I.offset),H.addRange(Y))}}}}for(W=[],H=E;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var q=W[E];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Yu=!!sd,ad=sd=null}finally{Ue=d,Z.p=c,G.T=l}}n.current=s,pt=2}}function My(){if(pt===2){pt=0;var n=ds,s=cr,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var c=Z.p;Z.p=2;var d=Ue;Ue|=4;try{iy(n,s.alternate,s)}finally{Ue=d,Z.p=c,G.T=l}}pt=3}}function Ly(){if(pt===4||pt===3){pt=0,ht();var n=ds,s=cr,l=Ii,c=py;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?pt=5:(pt=0,cr=ds=null,Ny(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(fs=null),Qr(l),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Hs,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=G.T,d=Z.p,Z.p=2,G.T=null;try{for(var m=n.onRecoverableError,_=0;_<c.length;_++){var E=c[_];m(E.value,{componentStack:E.stack})}}finally{G.T=s,Z.p=d}}(Ii&3)!==0&&Lu(),ii(n),d=n.pendingLanes,(l&261930)!==0&&(d&42)!==0?n===Hf?Ll++:(Ll=0,Hf=n):Ll=0,Nl(0)}}function Ny(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,hl(s)))}function Lu(){return Ay(),My(),Ly(),Oy()}function Oy(){if(pt!==5)return!1;var n=ds,s=Xf;Xf=0;var l=Qr(Ii),c=G.T,d=Z.p;try{Z.p=32>l?32:l,G.T=null,l=Bf,Bf=null;var m=ds,_=Ii;if(pt=0,cr=ds=null,Ii=0,(Ue&6)!==0)throw Error(i(331));var E=Ue;if(Ue|=4,dy(m.current),cy(m,m.current,_,l),Ue=E,Nl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Hs,m)}catch{}return!0}finally{Z.p=d,G.T=c,Ny(n,s)}}function Dy(n,s,l){s=Sn(l,s),s=Sf(n.stateNode,s,2),n=rs(n,s,2),n!==null&&(Et(n,2),ii(n))}function Be(n,s,l){if(n.tag===3)Dy(n,n,l);else for(;s!==null;){if(s.tag===3){Dy(s,n,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fs===null||!fs.has(c))){n=Sn(l,n),l=Ip(2),c=rs(s,l,2),c!==null&&(jp(l,c,s,n),Et(c,2),ii(c));break}}s=s.return}}function Kf(n,s,l){var c=n.pingCache;if(c===null){c=n.pingCache=new AE;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(l)||(Uf=!0,d.add(l),n=DE.bind(null,n,s,l),s.then(n,n))}function DE(n,s,l){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,We===n&&(Me&l)===l&&(lt===4||lt===3&&(Me&62914560)===Me&&300>Mt()-wu?(Ue&2)===0&&hr(n,0):Pf|=l,ur===Me&&(ur=0)),ii(n)}function Iy(n,s){s===0&&(s=Bt()),n=Qs(n,s),n!==null&&(Et(n,s),ii(n))}function IE(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Iy(n,l)}function jE(n,s){var l=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Iy(n,l)}function kE(n,s){return Gn(n,s)}var Nu=null,dr=null,qf=!1,Ou=!1,Wf=!1,ms=0;function ii(n){n!==dr&&n.next===null&&(dr===null?Nu=dr=n:dr=dr.next=n),Ou=!0,qf||(qf=!0,FE())}function Nl(n,s){if(!Wf&&Ou){Wf=!0;do for(var l=!1,c=Nu;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var m=0;else{var _=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-Lt(42|n)+1)-1,m&=d&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Fy(c,m))}else m=Me,m=Vs(c,c===We?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||bt(c,m)||(l=!0,Fy(c,m));c=c.next}while(l);Wf=!1}}function zE(){jy()}function jy(){Ou=qf=!1;var n=0;ms!==0&&KE()&&(n=ms);for(var s=Mt(),l=null,c=Nu;c!==null;){var d=c.next,m=ky(c,s);m===0?(c.next=null,l===null?Nu=d:l.next=d,d===null&&(dr=l)):(l=c,(n!==0||(m&3)!==0)&&(Ou=!0)),c=d}pt!==0&&pt!==5||Nl(n),ms!==0&&(ms=0)}function ky(n,s){for(var l=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-Lt(m),E=1<<_,N=d[_];N===-1?((E&l)===0||(E&c)!==0)&&(d[_]=yi(E,s)):N<=s&&(n.expiredLanes|=E),m&=~E}if(s=We,l=Me,l=Vs(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===s&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&qn(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||bt(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(c!==null&&qn(c),Qr(l)){case 2:case 8:l=Bs;break;case 32:l=Da;break;case 268435456:l=Kr;break;default:l=Da}return c=zy.bind(null,n),l=Gn(l,c),n.callbackPriority=s,n.callbackNode=l,s}return c!==null&&c!==null&&qn(c),n.callbackPriority=2,n.callbackNode=null,2}function zy(n,s){if(pt!==0&&pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Lu()&&n.callbackNode!==l)return null;var c=Me;return c=Vs(n,n===We?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(_y(n,c,s),ky(n,Mt()),n.callbackNode!=null&&n.callbackNode===l?zy.bind(null,n):null)}function Fy(n,s){if(Lu())return null;_y(n,s,!0)}function FE(){WE(function(){(Ue&6)!==0?Gn(Xs,zE):jy()})}function Qf(){if(ms===0){var n=Ja;n===0&&(n=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),ms=n}return ms}function Gy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Uo(""+n)}function Uy(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function GE(n,s,l,c,d){if(s==="submit"&&l&&l.stateNode===d){var m=Gy((d[Wt]||null).action),_=c.submitter;_&&(s=(s=_[Wt]||null)?Gy(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var E=new Bo("action","action",null,c,d);n.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ms!==0){var N=_?Uy(d,_):new FormData(d);yf(l,{pending:!0,data:N,method:d.method,action:m},null,N)}}else typeof m=="function"&&(E.preventDefault(),N=_?Uy(d,_):new FormData(d),yf(l,{pending:!0,data:N,method:d.method,action:m},m,N))},currentTarget:d}]})}}for(var Jf=0;Jf<Dh.length;Jf++){var $f=Dh[Jf],UE=$f.toLowerCase(),PE=$f[0].toUpperCase()+$f.slice(1);Yn(UE,"on"+PE)}Yn(y0,"onAnimationEnd"),Yn(_0,"onAnimationIteration"),Yn(x0,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(iE,"onTransitionRun"),Yn(sE,"onTransitionStart"),Yn(aE,"onTransitionCancel"),Yn(v0,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Py(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var _=c.length-1;0<=_;_--){var E=c[_],N=E.instance,X=E.currentTarget;if(E=E.listener,N!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=X;try{m(d)}catch(V){Zo(V)}d.currentTarget=null,m=N}else for(_=0;_<c.length;_++){if(E=c[_],N=E.instance,X=E.currentTarget,E=E.listener,N!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=X;try{m(d)}catch(V){Zo(V)}d.currentTarget=null,m=N}}}}function Ae(n,s){var l=s[hh];l===void 0&&(l=s[hh]=new Set);var c=n+"__bubble";l.has(c)||(Yy(s,n,2,!1),l.add(c))}function ed(n,s,l){var c=0;s&&(c|=4),Yy(l,n,c,s)}var Du="_reactListening"+Math.random().toString(36).slice(2);function td(n){if(!n[Du]){n[Du]=!0,jm.forEach(function(l){l!=="selectionchange"&&(YE.has(l)||ed(l,!1,n),ed(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Du]||(s[Du]=!0,ed("selectionchange",!1,s))}}function Yy(n,s,l,c){switch(y_(s)){case 2:var d=p2;break;case 8:d=y2;break;default:d=pd}l=d.bind(null,s,l,n),d=void 0,!vh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,l,{capture:!0,passive:d}):n.addEventListener(s,l,!0):d!==void 0?n.addEventListener(s,l,{passive:d}):n.addEventListener(s,l,!1)}function nd(n,s,l,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var E=c.stateNode.containerInfo;if(E===d)break;if(_===4)for(_=c.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;E!==null;){if(_=ja(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){c=m=_;continue e}E=E.parentNode}}c=c.return}Zm(function(){var X=m,V=_h(l),W=[];e:{var B=b0.get(n);if(B!==void 0){var H=Bo,ce=n;switch(n){case"keypress":if(Yo(l)===0)break e;case"keydown":case"keyup":H=jb;break;case"focusin":ce="focus",H=wh;break;case"focusout":ce="blur",H=wh;break;case"beforeblur":case"afterblur":H=wh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Fb;break;case y0:case _0:case x0:H=Rb;break;case v0:H=Ub;break;case"scroll":case"scrollend":H=bb;break;case"wheel":H=Yb;break;case"copy":case"cut":case"paste":H=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Jm;break;case"toggle":case"beforetoggle":H=Bb}var ye=(s&4)!==0,qe=!ye&&(n==="scroll"||n==="scrollend"),F=ye?B!==null?B+"Capture":null:B;ye=[];for(var I=X,Y;I!==null;){var q=I;if(Y=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||Y===null||F===null||(q=el(I,F),q!=null&&ye.push(Dl(I,q,Y))),qe)break;I=I.return}0<ye.length&&(B=new H(B,ce,null,l,V),W.push({event:B,listeners:ye}))}}if((s&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",B&&l!==yh&&(ce=l.relatedTarget||l.fromElement)&&(ja(ce)||ce[Ia]))break e;if((H||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ce=l.relatedTarget||l.toElement,H=X,ce=ce?ja(ce):null,ce!==null&&(qe=o(ce),ye=ce.tag,ce!==qe||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(H=null,ce=X),H!==ce)){if(ye=Wm,q="onMouseLeave",F="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Jm,q="onPointerLeave",F="onPointerEnter",I="pointer"),qe=H==null?B:$r(H),Y=ce==null?B:$r(ce),B=new ye(q,I+"leave",H,l,V),B.target=qe,B.relatedTarget=Y,q=null,ja(V)===X&&(ye=new ye(F,I+"enter",ce,l,V),ye.target=Y,ye.relatedTarget=qe,q=ye),qe=q,H&&ce)t:{for(ye=XE,F=H,I=ce,Y=0,q=F;q;q=ye(q))Y++;q=0;for(var de=I;de;de=ye(de))q++;for(;0<Y-q;)F=ye(F),Y--;for(;0<q-Y;)I=ye(I),q--;for(;Y--;){if(F===I||I!==null&&F===I.alternate){ye=F;break t}F=ye(F),I=ye(I)}ye=null}else ye=null;H!==null&&Xy(W,B,H,ye,!1),ce!==null&&qe!==null&&Xy(W,qe,ce,ye,!0)}}e:{if(B=X?$r(X):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ze=r0;else if(s0(B))if(l0)ze=eE;else{ze=Jb;var he=Qb}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?X&&ph(X.elementType)&&(ze=r0):ze=$b;if(ze&&(ze=ze(n,X))){a0(W,ze,l,V);break e}he&&he(n,B,X),n==="focusout"&&X&&B.type==="number"&&X.memoizedProps.value!=null&&mh(B,"number",B.value)}switch(he=X?$r(X):window,n){case"focusin":(s0(he)||he.contentEditable==="true")&&(Ba=he,Lh=X,ol=null);break;case"focusout":ol=Lh=Ba=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,m0(W,l,V);break;case"selectionchange":if(nE)break;case"keydown":case"keyup":m0(W,l,V)}var Ce;if(Rh)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Xa?n0(n,l)&&(Le="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&($m&&l.locale!=="ko"&&(Xa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Xa&&(Ce=Km()):($i=V,bh="value"in $i?$i.value:$i.textContent,Xa=!0)),he=Iu(X,Le),0<he.length&&(Le=new Qm(Le,n,null,l,V),W.push({event:Le,listeners:he}),Ce?Le.data=Ce:(Ce=i0(l),Ce!==null&&(Le.data=Ce)))),(Ce=Vb?Zb(n,l):Kb(n,l))&&(Le=Iu(X,"onBeforeInput"),0<Le.length&&(he=new Qm("onBeforeInput","beforeinput",null,l,V),W.push({event:he,listeners:Le}),he.data=Ce)),GE(W,n,X,l,V)}Py(W,s)})}function Dl(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Iu(n,s){for(var l=s+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=el(n,l),d!=null&&c.unshift(Dl(n,d,m)),d=el(n,s),d!=null&&c.push(Dl(n,d,m))),n.tag===3)return c;n=n.return}return[]}function XE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xy(n,s,l,c,d){for(var m=s._reactName,_=[];l!==null&&l!==c;){var E=l,N=E.alternate,X=E.stateNode;if(E=E.tag,N!==null&&N===c)break;E!==5&&E!==26&&E!==27||X===null||(N=X,d?(X=el(l,m),X!=null&&_.unshift(Dl(l,X,N))):d||(X=el(l,m),X!=null&&_.push(Dl(l,X,N)))),l=l.return}_.length!==0&&n.push({event:s,listeners:_})}var BE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function By(n){return(typeof n=="string"?n:""+n).replace(BE,`
`).replace(HE,"")}function Hy(n,s){return s=By(s),By(n)===s}function Ke(n,s,l,c,d,m){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ua(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ua(n,""+c);break;case"className":Fo(n,"class",c);break;case"tabIndex":Fo(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fo(n,l,c);break;case"style":Hm(n,c,m);break;case"data":if(s!=="object"){Fo(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Uo(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&Ke(n,s,"name",d.name,d,null),Ke(n,s,"formEncType",d.formEncType,d,null),Ke(n,s,"formMethod",d.formMethod,d,null),Ke(n,s,"formTarget",d.formTarget,d,null)):(Ke(n,s,"encType",d.encType,d,null),Ke(n,s,"method",d.method,d,null),Ke(n,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Uo(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=xi);break;case"onScroll":c!=null&&Ae("scroll",n);break;case"onScrollEnd":c!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=Uo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),zo(n,"popover",c);break;case"xlinkActuate":_i(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_i(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_i(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_i(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_i(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_i(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_i(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_i(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_i(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xb.get(l)||l,zo(n,l,c))}}function id(n,s,l,c,d,m){switch(l){case"style":Hm(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?Ua(n,c):(typeof c=="number"||typeof c=="bigint")&&Ua(n,""+c);break;case"onScroll":c!=null&&Ae("scroll",n);break;case"onScrollEnd":c!=null&&Ae("scrollend",n);break;case"onClick":c!=null&&(n.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!km.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),m=n[Wt]||null,m=m!=null?m[l]:null,typeof m=="function"&&n.removeEventListener(s,m,d),typeof c=="function")){typeof m!="function"&&m!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,c,d);break e}l in n?n[l]=c:c===!0?n.setAttribute(l,""):zo(n,l,c)}}}function jt(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var c=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var _=l[m];if(_!=null)switch(m){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,m,_,l,null)}}d&&Ke(n,s,"srcSet",l.srcSet,l,null),c&&Ke(n,s,"src",l.src,l,null);return;case"input":Ae("invalid",n);var E=m=_=d=null,N=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var V=l[c];if(V!=null)switch(c){case"name":d=V;break;case"type":_=V;break;case"checked":N=V;break;case"defaultChecked":X=V;break;case"value":m=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:Ke(n,s,c,V,l,null)}}Pm(n,m,E,N,X,_,d,!1);return;case"select":Ae("invalid",n),c=_=m=null;for(d in l)if(l.hasOwnProperty(d)&&(E=l[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":c=E;default:Ke(n,s,d,E,l,null)}s=m,l=_,n.multiple=!!c,s!=null?Ga(n,!!c,s,!1):l!=null&&Ga(n,!!c,l,!0);return;case"textarea":Ae("invalid",n),m=d=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(E=l[_],E!=null))switch(_){case"value":c=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ke(n,s,_,E,l,null)}Xm(n,c,d,m);return;case"option":for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null)&&(N==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":Ke(n,s,N,c,l,null));return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(c=0;c<Ol.length;c++)Ae(Ol[c],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ke(n,s,X,c,l,null)}return;default:if(ph(s)){for(V in l)l.hasOwnProperty(V)&&(c=l[V],c!==void 0&&id(n,s,V,c,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(c=l[E],c!=null&&Ke(n,s,E,c,l,null))}function VE(n,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,E=null,N=null,X=null,V=null;for(H in l){var W=l[H];if(l.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=W;default:c.hasOwnProperty(H)||Ke(n,s,H,null,c,W)}}for(var B in c){var H=c[B];if(W=l[B],c.hasOwnProperty(B)&&(H!=null||W!=null))switch(B){case"type":m=H;break;case"name":d=H;break;case"checked":X=H;break;case"defaultChecked":V=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==W&&Ke(n,s,B,H,c,W)}}gh(n,_,E,N,X,V,m,d);return;case"select":H=_=E=B=null;for(m in l)if(N=l[m],l.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":H=N;default:c.hasOwnProperty(m)||Ke(n,s,m,null,c,N)}for(d in c)if(m=c[d],N=l[d],c.hasOwnProperty(d)&&(m!=null||N!=null))switch(d){case"value":B=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==N&&Ke(n,s,d,m,c,N)}s=E,l=_,c=H,B!=null?Ga(n,!!l,B,!1):!!c!=!!l&&(s!=null?Ga(n,!!l,s,!0):Ga(n,!!l,l?[]:"",!1));return;case"textarea":H=B=null;for(E in l)if(d=l[E],l.hasOwnProperty(E)&&d!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ke(n,s,E,null,c,d)}for(_ in c)if(d=c[_],m=l[_],c.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":B=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&Ke(n,s,_,d,c,m)}Ym(n,B,H);return;case"option":for(var ce in l)B=l[ce],l.hasOwnProperty(ce)&&B!=null&&!c.hasOwnProperty(ce)&&(ce==="selected"?n.selected=!1:Ke(n,s,ce,null,c,B));for(N in c)B=c[N],H=l[N],c.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?n.selected=B&&typeof B!="function"&&typeof B!="symbol":Ke(n,s,N,B,c,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in l)B=l[ye],l.hasOwnProperty(ye)&&B!=null&&!c.hasOwnProperty(ye)&&Ke(n,s,ye,null,c,B);for(X in c)if(B=c[X],H=l[X],c.hasOwnProperty(X)&&B!==H&&(B!=null||H!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,s));break;default:Ke(n,s,X,B,c,H)}return;default:if(ph(s)){for(var qe in l)B=l[qe],l.hasOwnProperty(qe)&&B!==void 0&&!c.hasOwnProperty(qe)&&id(n,s,qe,void 0,c,B);for(V in c)B=c[V],H=l[V],!c.hasOwnProperty(V)||B===H||B===void 0&&H===void 0||id(n,s,V,B,c,H);return}}for(var F in l)B=l[F],l.hasOwnProperty(F)&&B!=null&&!c.hasOwnProperty(F)&&Ke(n,s,F,null,c,B);for(W in c)B=c[W],H=l[W],!c.hasOwnProperty(W)||B===H||B==null&&H==null||Ke(n,s,W,B,c,H)}function Vy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var d=l[c],m=d.transferSize,_=d.initiatorType,E=d.duration;if(m&&E&&Vy(_)){for(_=0,E=d.responseEnd,c+=1;c<l.length;c++){var N=l[c],X=N.startTime;if(X>E)break;var V=N.transferSize,W=N.initiatorType;V&&Vy(W)&&(N=N.responseEnd,_+=V*(N<E?1:(E-X)/(N-X)))}if(--c,s+=8*(m+_)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var sd=null,ad=null;function ju(n){return n.nodeType===9?n:n.ownerDocument}function Zy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function rd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ld=null;function KE(){var n=window.event;return n&&n.type==="popstate"?n===ld?!1:(ld=n,!0):(ld=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,WE=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(n){return Wy.resolve(null).then(n).catch(QE)}:qy;function QE(n){setTimeout(function(){throw n})}function ps(n){return n==="head"}function Qy(n,s){var l=s,c=0;do{var d=l.nextSibling;if(n.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(c===0){n.removeChild(d),yr(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Il(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Il(l);for(var m=l.firstChild;m;){var _=m.nextSibling,E=m.nodeName;m[Jr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=_}}else l==="body"&&Il(n.ownerDocument.body);l=d}while(l);yr(s)}function Jy(n,s){var l=n;n=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=c}while(l)}function od(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":od(l),fh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function JE(n,s,l,c){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Jr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=An(n.nextSibling),n===null)break}return null}function $E(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=An(n.nextSibling),n===null))return null;return n}function $y(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=An(n.nextSibling),n===null))return null;return n}function ud(n){return n.data==="$?"||n.data==="$~"}function cd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function e2(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function An(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var hd=null;function e_(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return An(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function t_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function n_(n,s,l){switch(s=ju(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Il(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);fh(n)}var Mn=new Map,i_=new Set;function ku(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ji=Z.d;Z.d={f:t2,r:n2,D:i2,C:s2,L:a2,m:r2,X:o2,S:l2,M:u2};function t2(){var n=ji.f(),s=Tu();return n||s}function n2(n){var s=ka(n);s!==null&&s.tag===5&&s.type==="form"?vp(s):ji.r(n)}var gr=typeof document>"u"?null:document;function s_(n,s,l){var c=gr;if(c&&typeof s=="string"&&s){var d=bn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),i_.has(d)||(i_.add(d),n={rel:n,crossOrigin:l,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),jt(s,"link",n),wt(s),c.head.appendChild(s)))}}function i2(n){ji.D(n),s_("dns-prefetch",n,null)}function s2(n,s){ji.C(n,s),s_("preconnect",n,s)}function a2(n,s,l){ji.L(n,s,l);var c=gr;if(c&&n&&s){var d='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+bn(l.imageSizes)+'"]')):d+='[href="'+bn(n)+'"]';var m=d;switch(s){case"style":m=mr(n);break;case"script":m=pr(n)}Mn.has(m)||(n=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Mn.set(m,n),c.querySelector(d)!==null||s==="style"&&c.querySelector(jl(m))||s==="script"&&c.querySelector(kl(m))||(s=c.createElement("link"),jt(s,"link",n),wt(s),c.head.appendChild(s)))}}function r2(n,s){ji.m(n,s);var l=gr;if(l&&n){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(n)+'"]',m=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=pr(n)}if(!Mn.has(m)&&(n=y({rel:"modulepreload",href:n},s),Mn.set(m,n),l.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(kl(m)))return}c=l.createElement("link"),jt(c,"link",n),wt(c),l.head.appendChild(c)}}}function l2(n,s,l){ji.S(n,s,l);var c=gr;if(c&&n){var d=za(c).hoistableStyles,m=mr(n);s=s||"default";var _=d.get(m);if(!_){var E={loading:0,preload:null};if(_=c.querySelector(jl(m)))E.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Mn.get(m))&&fd(n,l);var N=_=c.createElement("link");wt(N),jt(N,"link",n),N._p=new Promise(function(X,V){N.onload=X,N.onerror=V}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zu(_,s,c)}_={type:"stylesheet",instance:_,count:1,state:E},d.set(m,_)}}}function o2(n,s){ji.X(n,s);var l=gr;if(l&&n){var c=za(l).hoistableScripts,d=pr(n),m=c.get(d);m||(m=l.querySelector(kl(d)),m||(n=y({src:n,async:!0},s),(s=Mn.get(d))&&dd(n,s),m=l.createElement("script"),wt(m),jt(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function u2(n,s){ji.M(n,s);var l=gr;if(l&&n){var c=za(l).hoistableScripts,d=pr(n),m=c.get(d);m||(m=l.querySelector(kl(d)),m||(n=y({src:n,async:!0,type:"module"},s),(s=Mn.get(d))&&dd(n,s),m=l.createElement("script"),wt(m),jt(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function a_(n,s,l,c){var d=(d=ge.current)?ku(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=mr(l.href),l=za(d).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=mr(l.href);var m=za(d).hoistableStyles,_=m.get(n);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=d.querySelector(jl(n)))&&!m._p&&(_.instance=m,_.state.loading=5),Mn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Mn.set(n,l),m||c2(d,n,l,_.state))),s&&c===null)throw Error(i(528,""));return _}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pr(l),l=za(d).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function mr(n){return'href="'+bn(n)+'"'}function jl(n){return'link[rel="stylesheet"]['+n+"]"}function r_(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function c2(n,s,l,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),jt(s,"link",l),wt(s),n.head.appendChild(s))}function pr(n){return'[src="'+bn(n)+'"]'}function kl(n){return"script[async]"+n}function l_(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+bn(l.href)+'"]');if(c)return s.instance=c,wt(c),c;var d=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),wt(c),jt(c,"style",d),zu(c,l.precedence,n),s.instance=c;case"stylesheet":d=mr(l.href);var m=n.querySelector(jl(d));if(m)return s.state.loading|=4,s.instance=m,wt(m),m;c=r_(l),(d=Mn.get(d))&&fd(c,d),m=(n.ownerDocument||n).createElement("link"),wt(m);var _=m;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),jt(m,"link",c),s.state.loading|=4,zu(m,l.precedence,n),s.instance=m;case"script":return m=pr(l.src),(d=n.querySelector(kl(m)))?(s.instance=d,wt(d),d):(c=l,(d=Mn.get(m))&&(c=y({},l),dd(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),wt(d),jt(d,"link",c),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,zu(c,l.precedence,n));return s.instance}function zu(n,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,m=d,_=0;_<c.length;_++){var E=c[_];if(E.dataset.precedence===s)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function fd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function dd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Fu=null;function o_(n,s,l){if(Fu===null){var c=new Map,d=Fu=new Map;d.set(l,c)}else d=Fu,c=d.get(l),c||(c=new Map,d.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var m=l[d];if(!(m[Jr]||m[Nt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=n+_;var E=c.get(_);E?E.push(m):c.set(_,[m])}}return c}function u_(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function h2(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function c_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function f2(n,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=mr(c.href),m=s.querySelector(jl(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Gu.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=m,wt(m);return}m=s.ownerDocument||s,c=r_(c),(d=Mn.get(d))&&fd(c,d),m=m.createElement("link"),wt(m);var _=m;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),jt(m,"link",c),l.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Gu.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var gd=0;function d2(n,s){return n.stylesheets&&n.count===0&&Pu(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var c=setTimeout(function(){if(n.stylesheets&&Pu(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&gd===0&&(gd=62500*ZE());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Pu(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>gd?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Uu=null;function Pu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Uu=new Map,s.forEach(g2,n),Uu=null,Gu.call(n))}function g2(n,s){if(!(s.state.loading&4)){var l=Uu.get(n);if(l)var c=l.get(null);else{l=new Map,Uu.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}d=s.instance,_=d.getAttribute("data-precedence"),m=l.get(_)||c,m===c&&l.set(null,d),l.set(_,d),this.count++,c=Gu.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var zl={$$typeof:z,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function m2(n,s,l,c,d,m,_,E,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function h_(n,s,l,c,d,m,_,E,N,X,V,W){return n=new m2(n,s,l,_,N,X,V,W,E),s=1,m===!0&&(s|=24),m=hn(3,null,null,s),n.current=m,m.stateNode=n,s=Vh(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:s},Wh(m),n}function f_(n){return n?(n=Za,n):Za}function d_(n,s,l,c,d,m){d=f_(d),c.context===null?c.context=d:c.pendingContext=d,c=as(s),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=rs(n,c,s),l!==null&&(nn(l,n,s),ml(l,n,s))}function g_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function md(n,s){g_(n,s),(n=n.alternate)&&g_(n,s)}function m_(n){if(n.tag===13||n.tag===31){var s=Qs(n,67108864);s!==null&&nn(s,n,67108864),md(n,67108864)}}function p_(n){if(n.tag===13||n.tag===31){var s=pn();s=un(s);var l=Qs(n,s);l!==null&&nn(l,n,s),md(n,s)}}var Yu=!0;function p2(n,s,l,c){var d=G.T;G.T=null;var m=Z.p;try{Z.p=2,pd(n,s,l,c)}finally{Z.p=m,G.T=d}}function y2(n,s,l,c){var d=G.T;G.T=null;var m=Z.p;try{Z.p=8,pd(n,s,l,c)}finally{Z.p=m,G.T=d}}function pd(n,s,l,c){if(Yu){var d=yd(c);if(d===null)nd(n,s,c,Xu,l),__(n,c);else if(x2(d,n,s,l,c))c.stopPropagation();else if(__(n,c),s&4&&-1<_2.indexOf(n)){for(;d!==null;){var m=ka(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=$n(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-Lt(_);E.entanglements[1]|=N,_&=~N}ii(m),(Ue&6)===0&&(Cu=Mt()+500,Nl(0))}}break;case 31:case 13:E=Qs(m,2),E!==null&&nn(E,m,2),Tu(),md(m,2)}if(m=yd(c),m===null&&nd(n,s,c,Xu,l),m===d)break;d=m}d!==null&&c.stopPropagation()}else nd(n,s,c,null,l)}}function yd(n){return n=_h(n),_d(n)}var Xu=null;function _d(n){if(Xu=null,n=ja(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=u(s),n!==null)return n;n=null}else if(l===31){if(n=h(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Xu=n,null}function y_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Xs:return 2;case Bs:return 8;case Da:case jo:return 32;case Kr:return 268435456;default:return 32}default:return 32}}var xd=!1,ys=null,_s=null,xs=null,Fl=new Map,Gl=new Map,vs=[],_2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(n,s){switch(n){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(s.pointerId)}}function Ul(n,s,l,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=ka(s),s!==null&&m_(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function x2(n,s,l,c,d){switch(s){case"focusin":return ys=Ul(ys,n,s,l,c,d),!0;case"dragenter":return _s=Ul(_s,n,s,l,c,d),!0;case"mouseover":return xs=Ul(xs,n,s,l,c,d),!0;case"pointerover":var m=d.pointerId;return Fl.set(m,Ul(Fl.get(m)||null,n,s,l,c,d)),!0;case"gotpointercapture":return m=d.pointerId,Gl.set(m,Ul(Gl.get(m)||null,n,s,l,c,d)),!0}return!1}function x_(n){var s=ja(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){n.blockedOn=s,Dm(n.priority,function(){p_(l)});return}}else if(s===31){if(s=h(l),s!==null){n.blockedOn=s,Dm(n.priority,function(){p_(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=yd(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);yh=c,l.target.dispatchEvent(c),yh=null}else return s=ka(l),s!==null&&m_(s),n.blockedOn=l,!1;s.shift()}return!0}function v_(n,s,l){Bu(n)&&l.delete(s)}function v2(){xd=!1,ys!==null&&Bu(ys)&&(ys=null),_s!==null&&Bu(_s)&&(_s=null),xs!==null&&Bu(xs)&&(xs=null),Fl.forEach(v_),Gl.forEach(v_)}function Hu(n,s){n.blockedOn===s&&(n.blockedOn=null,xd||(xd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,v2)))}var Vu=null;function b_(n){Vu!==n&&(Vu=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vu===n&&(Vu=null);for(var s=0;s<n.length;s+=3){var l=n[s],c=n[s+1],d=n[s+2];if(typeof c!="function"){if(_d(c||l)===null)continue;break}var m=ka(l);m!==null&&(n.splice(s,3),s-=3,yf(m,{pending:!0,data:d,method:l.method,action:c},c,d))}}))}function yr(n){function s(N){return Hu(N,n)}ys!==null&&Hu(ys,n),_s!==null&&Hu(_s,n),xs!==null&&Hu(xs,n),Fl.forEach(s),Gl.forEach(s);for(var l=0;l<vs.length;l++){var c=vs[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<vs.length&&(l=vs[0],l.blockedOn===null);)x_(l),l.blockedOn===null&&vs.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var d=l[c],m=l[c+1],_=d[Wt]||null;if(typeof m=="function")_||b_(l);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[Wt]||null)E=_.formAction;else if(_d(d)!==null)continue}else E=_.action;typeof E=="function"?l[c+1]=E:(l.splice(c,3),c-=3),b_(l)}}}function E_(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function vd(n){this._internalRoot=n}Zu.prototype.render=vd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=pn();d_(l,c,n,s,null,null)},Zu.prototype.unmount=vd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;d_(n.current,2,null,n,null,null),Tu(),s[Ia]=null}};function Zu(n){this._internalRoot=n}Zu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Om();n={blockedOn:null,target:n,priority:s};for(var l=0;l<vs.length&&s!==0&&s<vs[l].priority;l++);vs.splice(l,0,n),l===0&&x_(n)}};var S_=e.version;if(S_!=="19.2.4")throw Error(i(527,S_,"19.2.4"));Z.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var b2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Hs=Ku.inject(b2),Gt=Ku}catch{}}return Yl.createRoot=function(n,s){if(!r(n))throw Error(i(299));var l=!1,c="",d=Lp,m=Np,_=Op;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=h_(n,1,!1,null,null,l,c,null,d,m,_,E_),n[Ia]=s.current,td(n),new vd(s)},Yl.hydrateRoot=function(n,s,l){if(!r(n))throw Error(i(299));var c=!1,d="",m=Lp,_=Np,E=Op,N=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),s=h_(n,1,!0,s,l??null,c,d,N,m,_,E,E_),s.context=f_(null),l=s.current,c=pn(),c=un(c),d=as(c),d.callback=null,rs(l,d,c),l=c,s.current.lanes=l,Et(s,l),ii(s),n[Ia]=s.current,td(n),new Zu(s)},Yl.version="19.2.4",Yl}var D_;function O2(){if(D_)return Sd.exports;D_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sd.exports=N2(),Sd.exports}var D2=O2();var I_="popstate";function I2(a={}){function e(r,o){let{pathname:u="/",search:h="",hash:f=""}=Ta(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),lg("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof o=="string"?o:ao(o))}function i(r,o){kn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return k2(e,t,i,a)}function at(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function kn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j2(){return Math.random().toString(36).substring(2,10)}function j_(a,e){return{usr:a.state,key:a.key,idx:e}}function lg(a,e,t=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:t,key:e&&e.key||i||j2()}}function ao({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function Ta(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function k2(a,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,g=p();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function p(){return(u.state||{idx:null}).idx}function y(){h="POP";let w=p(),R=w==null?null:w-g;g=w,f&&f({action:h,location:C.location,delta:R})}function v(w,R){h="PUSH";let T=lg(C.location,w,R);t&&t(T,w),g=p()+1;let z=j_(T,g),A=C.createHref(T);try{u.pushState(z,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(A)}o&&f&&f({action:h,location:C.location,delta:1})}function b(w,R){h="REPLACE";let T=lg(C.location,w,R);t&&t(T,w),g=p();let z=j_(T,g),A=C.createHref(T);u.replaceState(z,"",A),o&&f&&f({action:h,location:C.location,delta:0})}function S(w){return z2(w)}let C={get action(){return h},get location(){return a(r,u)},listen(w){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(I_,y),f=w,()=>{r.removeEventListener(I_,y),f=null}},createHref(w){return e(r,w)},createURL:S,encodeLocation(w){let R=S(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:b,go(w){return u.go(w)}};return C}function z2(a,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:ao(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function s1(a,e,t="/"){return F2(a,e,t,!1)}function F2(a,e,t,i){let r=typeof e=="string"?Ta(e):e,o=Vi(r.pathname||"/",t);if(o==null)return null;let u=a1(a);G2(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=W2(o);h=K2(u[f],g,i)}return h}function a1(a,e=[],t=[],i="",r=!1){let o=(u,h,f=r,g)=>{let p={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;at(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=Ui([i,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),a1(u.children,e,v,y,f)),!(u.path==null&&!u.index)&&e.push({path:y,score:V2(y,u.index),routesMeta:v})};return a.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of r1(u.path))o(u,h,!0,f)}),e}function r1(a){let e=a.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=r1(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>a.startsWith("/")&&f===""?"/":f)}function G2(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:Z2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var U2=/^:[\w-]+$/,P2=3,Y2=2,X2=1,B2=10,H2=-2,k_=a=>a==="*";function V2(a,e){let t=a.split("/"),i=t.length;return t.some(k_)&&(i+=H2),e&&(i+=Y2),t.filter(r=>!k_(r)).reduce((r,o)=>r+(U2.test(o)?P2:o===""?X2:B2),i)}function Z2(a,e){return a.length===e.length&&a.slice(0,-1).every((i,r)=>i===e[r])?a[a.length-1]-e[e.length-1]:0}function K2(a,e,t=!1){let{routesMeta:i}=a,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},p),v=f.route;if(!y&&g&&t&&!i[i.length-1].route.index&&(y=yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(r,y.params),u.push({params:r,pathname:Ui([o,y.pathname]),pathnameBase:eS(Ui([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Ui([o,y.pathnameBase]))}return u}function yc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,i]=q2(a.path,a.caseSensitive,a.end),r=e.match(t);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:p,isOptional:y},v)=>{if(p==="*"){let S=h[v]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=h[v];return y&&!b?g[p]=void 0:g[p]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:a}}function q2(a,e=!1,t=!0){kn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function W2(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Vi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=a.charAt(t);return i&&i!=="/"?null:a.slice(t)||"/"}var Q2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function J2(a,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof a=="string"?Ta(a):a,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=z_(t.substring(1),"/"):o=z_(t,e)):o=e,{pathname:o,search:tS(i),hash:nS(r)}}function z_(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Td(a,e,t,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $2(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function l1(a){let e=$2(a);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function o1(a,e,t,i=!1){let r;typeof a=="string"?r=Ta(a):(r={...a},at(!r.pathname||!r.pathname.includes("?"),Td("?","pathname","search",r)),at(!r.pathname||!r.pathname.includes("#"),Td("#","pathname","hash",r)),at(!r.search||!r.search.includes("#"),Td("#","search","hash",r)));let o=a===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=t;else{let y=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}h=y>=0?e[y]:"/"}let f=J2(r,h),g=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||p)&&(f.pathname+="/"),f}var Ui=a=>a.join("/").replace(/\/\/+/g,"/"),eS=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,nS=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,iS=class{constructor(a,e,t,i=!1){this.status=a,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function sS(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function aS(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function c1(a,e){let t=a;if(typeof t!="string"||!Q2.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(u1)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Vi(u.pathname,e);u.origin===o.origin&&h!=null?t=h+u.search+u.hash:r=!0}catch{kn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h1=["POST","PUT","PATCH","DELETE"];new Set(h1);var rS=["GET",...h1];new Set(rS);var Yr=k.createContext(null);Yr.displayName="DataRouter";var Fc=k.createContext(null);Fc.displayName="DataRouterState";var lS=k.createContext(!1),f1=k.createContext({isTransitioning:!1});f1.displayName="ViewTransition";var oS=k.createContext(new Map);oS.displayName="Fetchers";var uS=k.createContext(null);uS.displayName="Await";var Fn=k.createContext(null);Fn.displayName="Navigation";var bo=k.createContext(null);bo.displayName="Location";var Zi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Ig=k.createContext(null);Ig.displayName="RouteError";var d1="REACT_ROUTER_ERROR",cS="REDIRECT",hS="ROUTE_ERROR_RESPONSE";function fS(a){if(a.startsWith(`${d1}:${cS}:{`))try{let e=JSON.parse(a.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dS(a){if(a.startsWith(`${d1}:${hS}:{`))try{let e=JSON.parse(a.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iS(e.status,e.statusText,e.data)}catch{}}function gS(a,{relative:e}={}){at(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=k.useContext(Fn),{hash:r,pathname:o,search:u}=So(a,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ui([t,o])),i.createHref({pathname:h,search:u,hash:r})}function Eo(){return k.useContext(bo)!=null}function Ps(){return at(Eo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(bo).location}var g1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m1(a){k.useContext(Fn).static||k.useLayoutEffect(a)}function p1(){let{isDataRoute:a}=k.useContext(Zi);return a?TS():mS()}function mS(){at(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let a=k.useContext(Yr),{basename:e,navigator:t}=k.useContext(Fn),{matches:i}=k.useContext(Zi),{pathname:r}=Ps(),o=JSON.stringify(l1(i)),u=k.useRef(!1);return m1(()=>{u.current=!0}),k.useCallback((f,g={})=>{if(kn(u.current,g1),!u.current)return;if(typeof f=="number"){t.go(f);return}let p=o1(f,JSON.parse(o),r,g.relative==="path");a==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ui([e,p.pathname])),(g.replace?t.replace:t.push)(p,g.state,g)},[e,t,o,r,a])}k.createContext(null);function So(a,{relative:e}={}){let{matches:t}=k.useContext(Zi),{pathname:i}=Ps(),r=JSON.stringify(l1(t));return k.useMemo(()=>o1(a,JSON.parse(r),i,e==="path"),[a,r,i,e])}function pS(a,e){return y1(a,e)}function y1(a,e,t,i,r){at(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Fn),{matches:u}=k.useContext(Zi),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",y=h&&h.route;{let T=y&&y.path||"";x1(g,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Ps(),b;if(e){let T=typeof e=="string"?Ta(e):e;at(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=v;let S=b.pathname||"/",C=S;if(p!=="/"){let T=p.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=s1(a,{pathname:C});kn(y||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),kn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=bS(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Ui([p,o.encodeLocation?o.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Ui([p,o.encodeLocation?o.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),u,t,i,r);return e&&R?k.createElement(bo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function yS(){let a=RS(),e=sS(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:r},t):null,u)}var _S=k.createElement(yS,null),_1=class extends k.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const t=dS(a.digest);t&&(a=t)}let e=a!==void 0?k.createElement(Zi.Provider,{value:this.props.routeContext},k.createElement(Ig.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?k.createElement(xS,{error:a},e):e}};_1.contextType=lS;var Ad=new WeakMap;function xS({children:a,error:e}){let{basename:t}=k.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=fS(e.digest);if(i){let r=Ad.get(e);if(r)throw r;let o=c1(i.location,t);if(u1&&!Ad.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Ad.set(e,u),u}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return a}function vS({routeContext:a,match:e,children:t}){let i=k.useContext(Yr);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Zi.Provider,{value:a},t)}function bS(a,e=[],t=null,i=null,r=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let o=a,u=t?.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:v,errors:b}=t,S=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let g=t&&i?(p,y)=>{i(p,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:aS(t.matches),errorInfo:y})}:void 0;return o.reduceRight((p,y,v)=>{let b,S=!1,C=null,w=null;t&&(b=u&&y.route.id?u[y.route.id]:void 0,C=y.route.errorElement||_S,h&&(f<0&&v===0?(x1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):f===v&&(S=!0,w=y.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,v+1)),T=()=>{let z;return b?z=C:S?z=w:y.route.Component?z=k.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=p,k.createElement(vS,{match:y,routeContext:{outlet:p,matches:R,isDataRoute:t!=null},children:z})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?k.createElement(_1,{location:t.location,revalidation:t.revalidation,component:C,error:b,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:g}):T()},null)}function jg(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ES(a){let e=k.useContext(Yr);return at(e,jg(a)),e}function SS(a){let e=k.useContext(Fc);return at(e,jg(a)),e}function wS(a){let e=k.useContext(Zi);return at(e,jg(a)),e}function kg(a){let e=wS(a),t=e.matches[e.matches.length-1];return at(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function CS(){return kg("useRouteId")}function RS(){let a=k.useContext(Ig),e=SS("useRouteError"),t=kg("useRouteError");return a!==void 0?a:e.errors?.[t]}function TS(){let{router:a}=ES("useNavigate"),e=kg("useNavigate"),t=k.useRef(!1);return m1(()=>{t.current=!0}),k.useCallback(async(r,o={})=>{kn(t.current,g1),t.current&&(typeof r=="number"?await a.navigate(r):await a.navigate(r,{fromRouteId:e,...o}))},[a,e])}var F_={};function x1(a,e,t){!e&&!F_[a]&&(F_[a]=!0,kn(!1,t))}k.memo(AS);function AS({routes:a,future:e,state:t,onError:i}){return y1(a,void 0,t,i,e)}function hc(a){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MS({basename:a="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:u}){at(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:u,future:{}}),[h,r,o,u]);typeof t=="string"&&(t=Ta(t));let{pathname:g="/",search:p="",hash:y="",state:v=null,key:b="default"}=t,S=k.useMemo(()=>{let C=Vi(g,h);return C==null?null:{location:{pathname:C,search:p,hash:y,state:v,key:b},navigationType:i}},[h,g,p,y,v,b,i]);return kn(S!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(Fn.Provider,{value:f},k.createElement(bo.Provider,{children:e,value:S}))}function LS({children:a,location:e}){return pS(og(a),e)}function og(a,e=[]){let t=[];return k.Children.forEach(a,(i,r)=>{if(!k.isValidElement(i))return;let o=[...e,r];if(i.type===k.Fragment){t.push.apply(t,og(i.props.children,o));return}at(i.type===hc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=og(i.props.children,o)),t.push(u)}),t}var fc="get",dc="application/x-www-form-urlencoded";function Gc(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function NS(a){return Gc(a)&&a.tagName.toLowerCase()==="button"}function OS(a){return Gc(a)&&a.tagName.toLowerCase()==="form"}function DS(a){return Gc(a)&&a.tagName.toLowerCase()==="input"}function IS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function jS(a,e){return a.button===0&&(!e||e==="_self")&&!IS(a)}function ug(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,t)=>{let i=a[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function kS(a,e){let t=ug(a);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(o=>{t.append(r,o)})}),t}var qu=null;function zS(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var FS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(a){return a!=null&&!FS.has(a)?(kn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dc}"`),null):a}function GS(a,e){let t,i,r,o,u;if(OS(a)){let h=a.getAttribute("action");i=h?Vi(h,e):null,t=a.getAttribute("method")||fc,r=Md(a.getAttribute("enctype"))||dc,o=new FormData(a)}else if(NS(a)||DS(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=a.getAttribute("formaction")||h.getAttribute("action");if(i=f?Vi(f,e):null,t=a.getAttribute("formmethod")||h.getAttribute("method")||fc,r=Md(a.getAttribute("formenctype"))||Md(h.getAttribute("enctype"))||dc,o=new FormData(h,a),!zS()){let{name:g,type:p,value:y}=a;if(p==="image"){let v=g?`${g}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else g&&o.append(g,y)}}else{if(Gc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fc,i=null,r=dc,u=a}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zg(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function US(a,e,t,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&Vi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function PS(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YS(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function XS(a,e,t){let i=await Promise.all(a.map(async r=>{let o=e.routes[r.route.id];if(o){let u=await PS(o,t);return u.links?u.links():[]}return[]}));return ZS(i.flat(1).filter(YS).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function G_(a,e,t,i,r,o){let u=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>t[g].pathname!==f.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?e.filter((f,g)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function BS(a,e,{includeHydrateFallback:t}={}){return HS(a.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function HS(a){return[...new Set(a)]}function VS(a){let e={},t=Object.keys(a).sort();for(let i of t)e[i]=a[i];return e}function ZS(a,e){let t=new Set;return new Set(e),a.reduce((i,r)=>{let o=JSON.stringify(VS(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function v1(){let a=k.useContext(Yr);return zg(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function KS(){let a=k.useContext(Fc);return zg(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Fg=k.createContext(void 0);Fg.displayName="FrameworkContext";function b1(){let a=k.useContext(Fg);return zg(a,"You must render this element inside a <HydratedRouter> element"),a}function qS(a,e){let t=k.useContext(Fg),[i,r]=k.useState(!1),[o,u]=k.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:p,onTouchStart:y}=e,v=k.useRef(null);k.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let C=R=>{R.forEach(T=>{u(T.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[a]),k.useEffect(()=>{if(i){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[i]);let b=()=>{r(!0)},S=()=>{r(!1),u(!1)};return t?a!=="intent"?[o,v,{}]:[o,v,{onFocus:Xl(h,b),onBlur:Xl(f,S),onMouseEnter:Xl(g,b),onMouseLeave:Xl(p,S),onTouchStart:Xl(y,b)}]:[!1,v,{}]}function Xl(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function WS({page:a,...e}){let{router:t}=v1(),i=k.useMemo(()=>s1(t.routes,a,t.basename),[t.routes,a,t.basename]);return i?k.createElement(JS,{page:a,matches:i,...e}):null}function QS(a){let{manifest:e,routeModules:t}=b1(),[i,r]=k.useState([]);return k.useEffect(()=>{let o=!1;return XS(a,e,t).then(u=>{o||r(u)}),()=>{o=!0}},[a,e,t]),i}function JS({page:a,matches:e,...t}){let i=Ps(),{future:r,manifest:o,routeModules:u}=b1(),{basename:h}=v1(),{loaderData:f,matches:g}=KS(),p=k.useMemo(()=>G_(a,e,g,o,i,"data"),[a,e,g,o,i]),y=k.useMemo(()=>G_(a,e,g,o,i,"assets"),[a,e,g,o,i]),v=k.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let C=new Set,w=!1;if(e.forEach(T=>{let z=o.routes[T.route.id];!z||!z.hasLoader||(!p.some(A=>A.route.id===T.route.id)&&T.route.id in f&&u[T.route.id]?.shouldRevalidate||z.hasClientLoader?w=!0:C.add(T.route.id))}),C.size===0)return[];let R=US(a,h,r.unstable_trailingSlashAwareDataRequests,"data");return w&&C.size>0&&R.searchParams.set("_routes",e.filter(T=>C.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[h,r.unstable_trailingSlashAwareDataRequests,f,i,o,p,e,a,u]),b=k.useMemo(()=>BS(y,o),[y,o]),S=QS(y);return k.createElement(k.Fragment,null,v.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),S.map(({key:C,link:w})=>k.createElement("link",{key:C,nonce:t.nonce,...w,crossOrigin:w.crossOrigin??t.crossOrigin})))}function $S(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ew&&(window.__reactRouterVersion="7.13.0")}catch{}function tw({basename:a,children:e,unstable_useTransitions:t,window:i}){let r=k.useRef();r.current==null&&(r.current=I2({window:i,v5Compat:!0}));let o=r.current,[u,h]=k.useState({action:o.action,location:o.location}),f=k.useCallback(g=>{t===!1?h(g):k.startTransition(()=>h(g))},[t]);return k.useLayoutEffect(()=>o.listen(f),[o,f]),k.createElement(MS,{basename:a,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t})}var E1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S1=k.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:v,...b},S){let{basename:C,unstable_useTransitions:w}=k.useContext(Fn),R=typeof g=="string"&&E1.test(g),T=c1(g,C);g=T.to;let z=gS(g,{relative:r}),[A,O,D]=qS(i,b),M=aw(g,{replace:u,state:h,target:f,preventScrollReset:p,relative:r,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function P(J){e&&e(J),J.defaultPrevented||M(J)}let U=k.createElement("a",{...b,...D,href:T.absoluteURL||z,onClick:T.isExternal||o?e:P,ref:$S(S,O),target:f,"data-discover":!R&&t==="render"?"true":void 0});return A&&!R?k.createElement(k.Fragment,null,U,k.createElement(WS,{page:z})):U});S1.displayName="Link";var nw=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...g},p){let y=So(u,{relative:g.relative}),v=Ps(),b=k.useContext(Fc),{navigator:S,basename:C}=k.useContext(Fn),w=b!=null&&hw(y)&&h===!0,R=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,T=v.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(T=T.toLowerCase(),z=z?z.toLowerCase():null,R=R.toLowerCase()),z&&C&&(z=Vi(z,C)||z);const A=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let O=T===R||!r&&T.startsWith(R)&&T.charAt(A)==="/",D=z!=null&&(z===R||!r&&z.startsWith(R)&&z.charAt(R.length)==="/"),M={isActive:O,isPending:D,isTransitioning:w},P=O?e:void 0,U;typeof i=="function"?U=i(M):U=[i,O?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(M):o;return k.createElement(S1,{...g,"aria-current":P,className:U,ref:p,style:J,to:u,viewTransition:h},typeof f=="function"?f(M):f)});nw.displayName="NavLink";var iw=k.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:u=fc,action:h,onSubmit:f,relative:g,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:v,...b},S)=>{let{unstable_useTransitions:C}=k.useContext(Fn),w=uw(),R=cw(h,{relative:g}),T=u.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&E1.test(h),A=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let D=O.nativeEvent.submitter,M=D?.getAttribute("formmethod")||u,P=()=>w(D||O.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:r,state:o,relative:g,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:v});C&&t!==!1?k.startTransition(()=>P()):P()};return k.createElement("form",{ref:S,method:T,action:R,onSubmit:i?f:A,...b,"data-discover":!z&&a==="render"?"true":void 0})});iw.displayName="Form";function sw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w1(a){let e=k.useContext(Yr);return at(e,sw(a)),e}function aw(a,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let g=p1(),p=Ps(),y=So(a,{relative:o});return k.useCallback(v=>{if(jS(v,e)){v.preventDefault();let b=t!==void 0?t:ao(p)===ao(y),S=()=>g(a,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});f?k.startTransition(()=>S()):S()}},[p,g,y,t,i,e,a,r,o,u,h,f])}function rw(a){kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(ug(a)),t=k.useRef(!1),i=Ps(),r=k.useMemo(()=>kS(i.search,t.current?null:e.current),[i.search]),o=p1(),u=k.useCallback((h,f)=>{const g=ug(typeof h=="function"?h(new URLSearchParams(r)):h);t.current=!0,o("?"+g,f)},[o,r]);return[r,u]}var lw=0,ow=()=>`__${String(++lw)}__`;function uw(){let{router:a}=w1("useSubmit"),{basename:e}=k.useContext(Fn),t=CS(),i=a.fetch,r=a.navigate;return k.useCallback(async(o,u={})=>{let{action:h,method:f,encType:g,formData:p,body:y}=GS(o,e);if(u.navigate===!1){let v=u.fetcherKey||ow();await i(v,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||f,formEncType:u.encType||g,flushSync:u.flushSync})}else await r(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||f,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,r,e,t])}function cw(a,{relative:e}={}){let{basename:t}=k.useContext(Fn),i=k.useContext(Zi);at(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...So(a||".",{relative:e})},u=Ps();if(a==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(p=>p==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let p=h.toString();o.search=p?`?${p}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ui([t,o.pathname])),ao(o)}function hw(a,{relative:e}={}){let t=k.useContext(f1);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=w1("useViewTransitionState"),r=So(a,{relative:e});if(!t.isTransitioning)return!1;let o=Vi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Vi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yc(r.pathname,u)!=null||yc(r.pathname,o)!=null}const sn={ADD:"add",REMOVE:"remove"},Ir={PROPERTYCHANGE:"propertychange"},be={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Uc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function fw(a,e,t){let i,r;t=t||Pi;let o=0,u=a.length,h=!1;for(;o<u;)i=o+(u-o>>1),r=+t(a[i],e),r<0?o=i+1:(u=i,h=!r);return h?o:~o}function Pi(a,e){return a>e?1:a<e?-1:0}function dw(a,e){return a<e?1:a>e?-1:0}function Pc(a,e,t){if(a[0]<=e)return 0;const i=a.length;if(e<=a[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){const o=a[r];if(o===e)return r;if(o<e)return t(e,a[r-1],o)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(a[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(a[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(a[r]==e)return r;if(a[r]<e)return a[r-1]-e<e-a[r]?r-1:r}return i-1}function gw(a,e,t){for(;e<t;){const i=a[e];a[e]=a[t],a[t]=i,++e,--t}}function ui(a,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)a[a.length]=t[r]}function Ys(a,e){const t=a.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(a[i]!==e[i])return!1;return!0}function mw(a,e,t){const i=e||Pi;return a.every(function(r,o){if(o===0)return!0;const u=i(a[o-1],r);return!(u>0||u===0)})}function ro(){return!0}function Yc(){return!1}function lo(){}function C1(a){let e,t,i;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==i||!Ys(r,t))&&(i=this,t=r,e=a.apply(this,arguments)),e}}function R1(a){function e(){let t;try{t=a()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function wo(a){for(const e in a)delete a[e]}function Sa(a){let e;for(e in a)return!1;return!e}class fi{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Co extends Uc{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const o=t?new fi(e):e;o.target||(o.target=this.eventTarget_||this);const u=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in u||(u[i]=0,h[i]=0),++u[i];let f;for(let g=0,p=r.length;g<p;++g)if("handleEvent"in r[g]?f=r[g].handleEvent(o):f=r[g].call(this,o),f===!1||o.propagationStopped){f=!1;break}if(--u[i]===0){let g=h[i];for(delete h[i];g--;)this.removeEventListener(i,lo);delete u[i]}return f}disposeInternal(){this.listeners_&&wo(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=lo,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}function je(a,e,t,i,r){if(r){const u=t;t=function(h){return a.removeEventListener(e,t),u.call(i??this,h)}}else i&&i!==a&&(t=t.bind(i));const o={target:a,type:e,listener:t};return a.addEventListener(e,t),o}function _c(a,e,t,i){return je(a,e,t,i,!0)}function Qe(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),wo(a))}class Ro extends Co{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(be.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=je(this,e[o],t);return r}return je(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=_c(this,e[o],t)}else i=_c(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)pw(i);else if(Array.isArray(e))for(let r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}Ro.prototype.on;Ro.prototype.once;Ro.prototype.un;function pw(a){if(Array.isArray(a))for(let e=0,t=a.length;e<t;++e)Qe(a[e]);else Qe(a)}function ve(){throw new Error("Unimplemented abstract method.")}let yw=0;function Ge(a){return a.ol_uid||(a.ol_uid=String(++yw))}class U_ extends fi{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class di extends Ro{constructor(e){super(),this.on,this.once,this.un,Ge(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new U_(i,e,t)),i=Ir.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new U_(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const r=this.values_||(this.values_={});if(i)r[e]=t;else{const o=r[e];r[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Sa(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const P_={LENGTH:"length"};class Wu extends fi{constructor(e,t,i){super(e),this.element=t,this.index=i}}class Nn extends di{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let i=1,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(P_.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Wu(sn.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Wu(sn.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Wu(sn.REMOVE,r,e)),this.dispatchEvent(new Wu(sn.ADD,t,e))}updateLength_(){this.set(P_.LENGTH,this.array_.length)}assertUnique_(e,t){const i=this.array_;for(let r=0,o=i.length;r<o;++r)if(i[r]===e&&r!==t)throw new Error("Duplicate item added to a unique collection")}}class Rr extends fi{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class As extends Rr{constructor(e,t,i,r,o,u){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=u}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ot={SINGLECLICK:"singleclick",CLICK:be.CLICK,DBLCLICK:be.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},wa=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",_w=wa.includes("safari")&&!wa.includes("chrom");_w&&(wa.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(wa));const xw=wa.includes("webkit")&&!wa.includes("edge"),T1=wa.includes("macintosh"),vw=typeof devicePixelRatio<"u"?devicePixelRatio:1,On=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Gg=typeof Image<"u"&&Image.prototype.decode,A1=typeof createImageBitmap=="function",M1=(function(){let a=!1;try{const e=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return a})(),cg={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class bw extends Co{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=je(i,cg.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=je(i,cg.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(be.TOUCHMOVE,this.boundHandleTouchMove_,M1?{passive:!1}:!1)}emulateClick_(e){let t=new As(ot.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new As(ot.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new As(ot.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==ot.POINTERUP||t.type==ot.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==ot.POINTERDOWN||t.type==ot.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new As(ot.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Qe),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new As(ot.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(je(i,ot.POINTERMOVE,this.handlePointerMove_,this),je(i,ot.POINTERUP,this.handlePointerUp_,this),je(this.element_,ot.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(je(this.element_.getRootNode(),ot.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new As(ot.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new As(ot.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Qe(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(be.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Qe(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Qe),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ms={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Pt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},me={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Ye(a,e){if(!a)throw new Error(e)}const xc=1/0;class Ew{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,wo(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Ye(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=xc?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,o=t[e],u=i[e],h=e;for(;e<r>>1;){const f=this.getLeftChildIndex_(e),g=this.getRightChildIndex_(e),p=g<r&&i[g]<i[f]?g:f;t[e]=t[p],i[e]=i[p],e=p}t[e]=o,i[e]=u,this.siftDown_(h,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,o=i[t],u=r[t];for(;t>e;){const h=this.getParentIndex_(t);if(r[h]>u)i[t]=i[h],r[t]=r[h],t=h;else break}i[t]=o,r[t]=u}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const o=t.length;let u,h,f;for(h=0;h<o;++h)u=t[h],f=e(u),f==xc?delete this.queuedElements_[this.keyFunction_(u)]:(i[r]=f,t[r++]=u);t.length=r,i.length=r,this.heapify_()}}class Sw extends Ew{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(be.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===me.LOADED||i===me.ERROR||i===me.EMPTY){i!==me.ERROR&&t.removeEventListener(be.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()===me.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}}function ww(a,e,t,i,r){if(!a||!(t in a.wantedTiles)||!a.wantedTiles[t][e.getKey()])return xc;const o=a.viewState.center,u=i[0]-o[0],h=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(u*u+h*h)/r}const Tt={ANIMATING:0,INTERACTING:1},Hn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function it(a,e,t){return Math.min(Math.max(a,e),t)}function Cw(a,e,t,i,r,o){const u=r-t,h=o-i;if(u!==0||h!==0){const f=((a-t)*u+(e-i)*h)/(u*u+h*h);f>1?(t=r,i=o):f>0&&(t+=u*f,i+=h*f)}return va(a,e,t,i)}function va(a,e,t,i){const r=t-a,o=i-e;return r*r+o*o}function Rw(a){const e=a.length;for(let i=0;i<e;i++){let r=i,o=Math.abs(a[i][i]);for(let h=i+1;h<e;h++){const f=Math.abs(a[h][i]);f>o&&(o=f,r=h)}if(o===0)return null;const u=a[r];a[r]=a[i],a[i]=u;for(let h=i+1;h<e;h++){const f=-a[h][i]/a[i][i];for(let g=i;g<e+1;g++)i==g?a[h][g]=0:a[h][g]+=f*a[i][g]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=a[i][e]/a[i][i];for(let r=i-1;r>=0;r--)a[r][e]-=a[r][i]*t[i]}return t}function Y_(a){return a*180/Math.PI}function ks(a){return a*Math.PI/180}function ba(a,e){const t=a%e;return t*e<0?t+e:t}function yn(a,e,t){return a+t*(e-a)}function Xc(a,e){const t=Math.pow(10,e);return Math.round(a*t)/t}function Qu(a,e){return Math.floor(Xc(a,e))}function Ns(a,e){return Math.ceil(Xc(a,e))}function hg(a,e,t){if(a>=e&&a<t)return a;const i=t-e;return((a-e)%i+i)%i+e}function X_(a,e,t){return(function(i,r,o,u,h){if(!i)return;if(!r&&!e)return i;const f=e?0:o[0]*r,g=e?0:o[1]*r,p=h?h[0]:0,y=h?h[1]:0;let v=a[0]+f/2+p,b=a[2]-f/2+p,S=a[1]+g/2+y,C=a[3]-g/2+y;v>b&&(v=(b+v)/2,b=v),S>C&&(S=(C+S)/2,C=S);let w=it(i[0],v,b),R=it(i[1],S,C);if(u&&t&&r){const T=30*r;w+=-T*Math.log(1+Math.max(0,v-i[0])/T)+T*Math.log(1+Math.max(0,i[0]-b)/T),R+=-T*Math.log(1+Math.max(0,S-i[1])/T)+T*Math.log(1+Math.max(0,i[1]-C)/T)}return[w,R]})}function Tw(a){return a}const Rt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function B_(a){const e=zn();for(let t=0,i=a.length;t<i;++t)no(e,a[t]);return e}function Ug(a,e,t){return t?(t[0]=a[0]-e,t[1]=a[1]-e,t[2]=a[2]+e,t[3]=a[3]+e,t):[a[0]-e,a[1]-e,a[2]+e,a[3]+e]}function L1(a,e){return e?(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e):a.slice()}function Aa(a,e,t){let i,r;return e<a[0]?i=a[0]-e:a[2]<e?i=e-a[2]:i=0,t<a[1]?r=a[1]-t:a[3]<t?r=t-a[3]:r=0,i*i+r*r}function Ca(a,e){return Pg(a,e[0],e[1])}function Os(a,e){return a[0]<=e[0]&&e[2]<=a[2]&&a[1]<=e[1]&&e[3]<=a[3]}function Pg(a,e,t){return a[0]<=e&&e<=a[2]&&a[1]<=t&&t<=a[3]}function fg(a,e){const t=a[0],i=a[1],r=a[2],o=a[3],u=e[0],h=e[1];let f=Rt.UNKNOWN;return u<t?f=f|Rt.LEFT:u>r&&(f=f|Rt.RIGHT),h<i?f=f|Rt.BELOW:h>o&&(f=f|Rt.ABOVE),f===Rt.UNKNOWN&&(f=Rt.INTERSECTING),f}function zn(){return[1/0,1/0,-1/0,-1/0]}function Fs(a,e,t,i,r){return r?(r[0]=a,r[1]=e,r[2]=t,r[3]=i,r):[a,e,t,i]}function To(a){return Fs(1/0,1/0,-1/0,-1/0,a)}function N1(a,e){const t=a[0],i=a[1];return Fs(t,i,t,i,e)}function Yg(a,e,t,i,r){const o=To(r);return D1(o,a,e,t,i)}function jr(a,e){return a[0]==e[0]&&a[2]==e[2]&&a[1]==e[1]&&a[3]==e[3]}function O1(a,e){return e[0]<a[0]&&(a[0]=e[0]),e[2]>a[2]&&(a[2]=e[2]),e[1]<a[1]&&(a[1]=e[1]),e[3]>a[3]&&(a[3]=e[3]),a}function no(a,e){e[0]<a[0]&&(a[0]=e[0]),e[0]>a[2]&&(a[2]=e[0]),e[1]<a[1]&&(a[1]=e[1]),e[1]>a[3]&&(a[3]=e[1])}function D1(a,e,t,i,r){for(;t<i;t+=r)Aw(a,e[t],e[t+1]);return a}function Aw(a,e,t){a[0]=Math.min(a[0],e),a[1]=Math.min(a[1],t),a[2]=Math.max(a[2],e),a[3]=Math.max(a[3],t)}function I1(a,e){let t;return t=e(Bc(a)),t||(t=e(Hc(a)),t)||(t=e(Vc(a)),t)||(t=e(Ma(a)),t)?t:!1}function dg(a){let e=0;return Xr(a)||(e=ke(a)*xt(a)),e}function Bc(a){return[a[0],a[1]]}function Hc(a){return[a[2],a[1]]}function ci(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function Mw(a,e){let t;if(e==="bottom-left")t=Bc(a);else if(e==="bottom-right")t=Hc(a);else if(e==="top-left")t=Ma(a);else if(e==="top-right")t=Vc(a);else throw new Error("Invalid corner");return t}function vc(a,e,t,i,r){const[o,u,h,f,g,p,y,v]=j1(a,e,t,i);return Fs(Math.min(o,h,g,y),Math.min(u,f,p,v),Math.max(o,h,g,y),Math.max(u,f,p,v),r)}function j1(a,e,t,i){const r=e*i[0]/2,o=e*i[1]/2,u=Math.cos(t),h=Math.sin(t),f=r*u,g=r*h,p=o*u,y=o*h,v=a[0],b=a[1];return[v-f+y,b-g-p,v-f-y,b-g+p,v+f-y,b+g+p,v+f+y,b+g-p,v-f+y,b-g-p]}function xt(a){return a[3]-a[1]}function Yi(a,e,t){const i=t||zn();return Yt(a,e)?(a[0]>e[0]?i[0]=a[0]:i[0]=e[0],a[1]>e[1]?i[1]=a[1]:i[1]=e[1],a[2]<e[2]?i[2]=a[2]:i[2]=e[2],a[3]<e[3]?i[3]=a[3]:i[3]=e[3]):To(i),i}function Ma(a){return[a[0],a[3]]}function Vc(a){return[a[2],a[3]]}function ke(a){return a[2]-a[0]}function Yt(a,e){return a[0]<=e[2]&&a[2]>=e[0]&&a[1]<=e[3]&&a[3]>=e[1]}function Xr(a){return a[2]<a[0]||a[3]<a[1]}function Lw(a,e){return e?(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e):a}function Nw(a,e,t){let i=!1;const r=fg(a,e),o=fg(a,t);if(r===Rt.INTERSECTING||o===Rt.INTERSECTING)i=!0;else{const u=a[0],h=a[1],f=a[2],g=a[3],p=e[0],y=e[1],v=t[0],b=t[1],S=(b-y)/(v-p);let C,w;o&Rt.ABOVE&&!(r&Rt.ABOVE)&&(C=v-(b-g)/S,i=C>=u&&C<=f),!i&&o&Rt.RIGHT&&!(r&Rt.RIGHT)&&(w=b-(v-f)*S,i=w>=h&&w<=g),!i&&o&Rt.BELOW&&!(r&Rt.BELOW)&&(C=v-(b-h)/S,i=C>=u&&C<=f),!i&&o&Rt.LEFT&&!(r&Rt.LEFT)&&(w=b-(v-u)*S,i=w>=h&&w<=g)}return i}function k1(a,e){const t=e.getExtent(),i=ci(a);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const r=ke(t),u=Math.floor((i[0]-t[0])/r)*r;a[0]-=u,a[2]-=u}return a}function z1(a,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[i[0],a[1],i[2],a[3]]];k1(a,e);const r=ke(i);if(ke(a)>r&&!t)return[[i[0],a[1],i[2],a[3]]];if(a[0]<i[0])return[[a[0]+r,a[1],i[2],a[3]],[i[0],a[1],a[2],a[3]]];if(a[2]>i[2])return[[a[0],a[1],i[2],a[3]],[i[0],a[1],a[2]-r,a[3]]]}return[a]}function Ow(a,e){return a[0]+=+e[0],a[1]+=+e[1],a}function bc(a,e){let t=!0;for(let i=a.length-1;i>=0;--i)if(a[i]!=e[i]){t=!1;break}return t}function Xg(a,e){const t=Math.cos(e),i=Math.sin(e),r=a[0]*t-a[1]*i,o=a[1]*t+a[0]*i;return a[0]=r,a[1]=o,a}function Dw(a,e){return a[0]*=e,a[1]*=e,a}function F1(a,e){if(e.canWrapX()){const t=ke(e.getExtent()),i=Iw(a,e,t);i&&(a[0]-=i*t)}return a}function Iw(a,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(a[0]<i[0]||a[0]>i[2])&&(t=t||ke(i),r=Math.floor((a[0]-i[0])/t)),r}function G1(a){return Math.pow(a,3)}function Br(a){return 1-G1(1-a)}function jw(a){return 3*a*a-2*a*a*a}function kw(a){return a}const zw=63710088e-1;function H_(a,e,t){t=t||zw;const i=ks(a[1]),r=ks(e[1]),o=(r-i)/2,u=ks(e[0]-a[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(u)*Math.sin(u)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function U1(...a){console.warn(...a)}const Bg={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Hg{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Bg[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Ao=6378137,Lr=Math.PI*Ao,Fw=[-Lr,-Lr,Lr,Lr],Gw=[-180,-85,180,85],Ju=Ao*Math.log(Math.tan(Math.PI/2));class _r extends Hg{constructor(e){super({code:e,units:"m",extent:Fw,global:!0,worldExtent:Gw,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Ao)}})}}const V_=[new _r("EPSG:3857"),new _r("EPSG:102100"),new _r("EPSG:102113"),new _r("EPSG:900913"),new _r("http://www.opengis.net/def/crs/EPSG/0/3857"),new _r("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Uw(a,e,t,i){const r=a.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=a.slice():e=new Array(r));for(let o=0;o<r;o+=i){e[o]=Lr*a[o]/180;let u=Ao*Math.log(Math.tan(Math.PI*(+a[o+1]+90)/360));u>Ju?u=Ju:u<-Ju&&(u=-Ju),e[o+1]=u}return e}function Pw(a,e,t,i){const r=a.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=a.slice():e=new Array(r));for(let o=0;o<r;o+=i)e[o]=180*a[o]/Lr,e[o+1]=360*Math.atan(Math.exp(a[o+1]/Ao))/Math.PI-90;return e}const Yw=6378137,Z_=[-180,-90,180,90],Xw=Math.PI*Yw/180;class ca extends Hg{constructor(e,t){super({code:e,units:"degrees",extent:Z_,axisOrientation:t,global:!0,metersPerUnit:Xw,worldExtent:Z_})}}const K_=[new ca("CRS:84"),new ca("EPSG:4326","neu"),new ca("urn:ogc:def:crs:OGC:1.3:CRS84"),new ca("urn:ogc:def:crs:OGC:2:84"),new ca("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ca("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ca("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let gg={};function Bw(a){return gg[a]||gg[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Hw(a,e){gg[a]=e}let Nr={};function oo(a,e,t){const i=a.getCode(),r=e.getCode();i in Nr||(Nr[i]={}),Nr[i][r]=t}function Ld(a,e){return a in Nr&&e in Nr[a]?Nr[a][e]:null}const Ec=.9996,jn=.00669438,Zc=jn*jn,Kc=Zc*jn,pa=jn/(1-jn),q_=Math.sqrt(1-jn),kr=(1-q_)/(1+q_),P1=kr*kr,Vg=P1*kr,Zg=Vg*kr,Y1=Zg*kr,X1=1-jn/4-3*Zc/64-5*Kc/256,Vw=3*jn/8+3*Zc/32+45*Kc/1024,Zw=15*Zc/256+45*Kc/1024,Kw=35*Kc/3072,qw=3/2*kr-27/32*Vg+269/512*Y1,Ww=21/16*P1-55/32*Zg,Qw=151/96*Vg-417/128*Y1,Jw=1097/512*Zg,Sc=6378137;function $w(a,e,t){const i=a-5e5,u=(t.north?e:e-1e7)/Ec/(Sc*X1),h=u+qw*Math.sin(2*u)+Ww*Math.sin(4*u)+Qw*Math.sin(6*u)+Jw*Math.sin(8*u),f=Math.sin(h),g=f*f,p=Math.cos(h),y=f/p,v=y*y,b=v*v,S=1-jn*g,C=Math.sqrt(1-jn*g),w=Sc/C,R=(1-jn)/S,T=pa*p**2,z=T*T,A=i/(w*Ec),O=A*A,D=O*A,M=D*A,P=M*A,U=P*A,J=h-y/R*(O/2-M/24*(5+3*v+10*T-4*z-9*pa))+U/720*(61+90*v+298*T+45*b-252*pa-3*z);let Q=(A-D/6*(1+2*v+T)+P/120*(5-2*T+28*v-3*z+8*pa+24*b))/p;return Q=hg(Q+ks(B1(t.number)),-Math.PI,Math.PI),[Y_(Q),Y_(J)]}const W_=-80,Q_=84,eC=-180,tC=180;function nC(a,e,t){a=hg(a,eC,tC),e<W_?e=W_:e>Q_&&(e=Q_);const i=ks(e),r=Math.sin(i),o=Math.cos(i),u=r/o,h=u*u,f=h*h,g=ks(a),p=B1(t.number),y=ks(p),v=Sc/Math.sqrt(1-jn*r**2),b=pa*o**2,S=o*hg(g-y,-Math.PI,Math.PI),C=S*S,w=C*S,R=w*S,T=R*S,z=T*S,A=Sc*(X1*i-Vw*Math.sin(2*i)+Zw*Math.sin(4*i)-Kw*Math.sin(6*i)),O=Ec*v*(S+w/6*(1-h+b)+T/120*(5-18*h+f+72*b-58*pa))+5e5;let D=Ec*(A+v*u*(C/2+R/24*(5-h+9*b+4*b**2)+z/720*(61-58*h+f+600*b-330*pa)));return t.north||(D+=1e7),[O,D]}function B1(a){return(a-1)*6-180+3}const iC=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function H1(a){let e=0;for(const r of iC){const o=a.match(r);if(o){e=parseInt(o[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function J_(a,e){return function(t,i,r,o){const u=t.length;r=r>1?r:2,o=o??r,i||(r>2?i=t.slice():i=new Array(u));for(let h=0;h<u;h+=o){const f=t[h],g=t[h+1],p=a(f,g,e);i[h]=p[0],i[h+1]=p[1]}return i}}function sC(a){return H1(a)?new Hg({code:a,units:"m"}):null}function aC(a){const e=H1(a.getCode());return e?{forward:J_(nC,e),inverse:J_($w,e)}:null}const rC=[aC],lC=[sC];let mg=!0;function V1(a){mg=!1}function Kg(a,e){if(e!==void 0){for(let t=0,i=a.length;t<i;++t)e[t]=a[t];e=e}else e=a.slice();return e}function pg(a){Hw(a.getCode(),a),oo(a,a,Kg)}function oC(a){a.forEach(pg)}function st(a){if(typeof a!="string")return a;const e=Bw(a);if(e)return e;for(const t of lC){const i=t(a);if(i)return i}return null}function $_(a,e,t,i){a=st(a);let r;const o=a.getPointResolutionFunc();if(o)r=o(e,t);else{const u=a.getUnits();if(u=="degrees"&&!i||i=="degrees")r=e;else{const h=Wg(a,st("EPSG:4326"));if(!h&&u!=="degrees")r=e*a.getMetersPerUnit();else{let g=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];g=h(g,g,2);const p=H_(g.slice(0,2),g.slice(2,4)),y=H_(g.slice(4,6),g.slice(6,8));r=(p+y)/2}const f=a.getMetersPerUnit();f!==void 0&&(r/=f)}}return r}function ex(a){oC(a),a.forEach(function(e){a.forEach(function(t){e!==t&&oo(e,t,Kg)})})}function uC(a,e,t,i){a.forEach(function(r){e.forEach(function(o){oo(r,o,t),oo(o,r,i)})})}function qg(a,e){return a?typeof a=="string"?st(a):a:st(e)}function cC(a){return(function(e,t,i,r){const o=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(o);for(let u=0;u<o;u+=r){const h=a(e.slice(u,u+i)),f=h.length;for(let g=0,p=r;g<p;++g)t[u+g]=g>=f?e[u+g]:h[g]}return t})}function da(a,e){return V1(),qc(a,"EPSG:4326","EPSG:3857")}function hC(a,e){const t=qc(a,"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=ba(i+180,360)-180),t}function Ea(a,e){if(a===e)return!0;const t=a.getUnits()===e.getUnits();return(a.getCode()===e.getCode()||Wg(a,e)===Kg)&&t}function Wg(a,e){const t=a.getCode(),i=e.getCode();let r=Ld(t,i);if(r)return r;let o=null,u=null;for(const f of rC)o||(o=f(a)),u||(u=f(e));if(!o&&!u)return null;const h="EPSG:4326";if(u)if(o)r=Nd(o.inverse,u.forward);else{const f=Ld(t,h);f&&(r=Nd(f,u.forward))}else{const f=Ld(h,i);f&&(r=Nd(o.inverse,f))}return r&&(pg(a),pg(e),oo(a,e,r)),r}function Nd(a,e){return function(t,i,r,o){return i=a(t,i,r,o),e(i,i,r,o)}}function uo(a,e){const t=st(a),i=st(e);return Wg(t,i)}function qc(a,e,t){const i=uo(e,t);if(!i){const r=st(e).getCode(),o=st(t).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(a,void 0,a.length)}function yg(a,e){return a}function Fi(a,e){return mg&&!bc(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(mg=!1,U1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function Z1(a,e){return a}function li(a,e){return a}function fC(){ex(V_),ex(K_),uC(K_,V_,Uw,Pw)}fC();new Array(6);function Zn(){return[1,0,0,1,0,0]}function dC(a,e){return a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=e[4],a[5]=e[5],a}function _t(a,e){const t=e[0],i=e[1];return e[0]=a[0]*t+a[2]*i+a[4],e[1]=a[1]*t+a[3]*i+a[5],e}function hi(a,e,t,i,r,o,u,h){const f=Math.sin(o),g=Math.cos(o);return a[0]=i*g,a[1]=r*f,a[2]=-i*f,a[3]=r*g,a[4]=u*i*g-h*i*f+e,a[5]=u*r*f+h*r*g+t,a}function K1(a,e){const t=gC(e);Ye(t!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],o=e[2],u=e[3],h=e[4],f=e[5];return a[0]=u/t,a[1]=-r/t,a[2]=-o/t,a[3]=i/t,a[4]=(o*f-u*h)/t,a[5]=-(i*f-r*h)/t,a}function gC(a){return a[0]*a[3]-a[1]*a[2]}const mC=[1e5,1e5,1e5,1e5,2,2];function pC(a){return"matrix("+a.join(", ")+")"}function _g(a){return a.substring(7,a.length-1).split(",").map(parseFloat)}function yC(a,e){const t=_g(a),i=_g(e);for(let r=0;r<6;++r)if(Math.round((t[r]-i[r])*mC[r])!==0)return!1;return!0}function zs(a,e,t,i,r,o,u){o=o||[],u=u||2;let h=0;for(let f=e;f<t;f+=i){const g=a[f],p=a[f+1];o[h++]=r[0]*g+r[2]*p+r[4],o[h++]=r[1]*g+r[3]*p+r[5];for(let y=2;y<u;y++)o[h++]=a[f+y]}return o&&o.length!=h&&(o.length=h),o}function q1(a,e,t,i,r,o,u){u=u||[];const h=Math.cos(r),f=Math.sin(r),g=o[0],p=o[1];let y=0;for(let v=e;v<t;v+=i){const b=a[v]-g,S=a[v+1]-p;u[y++]=g+b*h-S*f,u[y++]=p+b*f+S*h;for(let C=v+2;C<v+i;++C)u[y++]=a[C]}return u&&u.length!=y&&(u.length=y),u}function _C(a,e,t,i,r,o,u,h){h=h||[];const f=u[0],g=u[1];let p=0;for(let y=e;y<t;y+=i){const v=a[y]-f,b=a[y+1]-g;h[p++]=f+r*v,h[p++]=g+o*b;for(let S=y+2;S<y+i;++S)h[p++]=a[S]}return h&&h.length!=p&&(h.length=p),h}function xC(a,e,t,i,r,o,u){u=u||[];let h=0;for(let f=e;f<t;f+=i){u[h++]=a[f]+r,u[h++]=a[f+1]+o;for(let g=f+2;g<f+i;++g)u[h++]=a[g]}return u&&u.length!=h&&(u.length=h),u}const tx=Zn(),vC=[NaN,NaN];class W1 extends di{constructor(){super(),this.extent_=zn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=C1((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return ve()}closestPointXY(e,t,i,r){return ve()}containsXY(e,t){return this.closestPointXY(e,t,vC,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ve()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&To(t),this.extentRevision_=this.getRevision()}return Lw(this.extent_,e)}rotate(e,t){ve()}scale(e,t,i){ve()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ve()}getType(){return ve()}applyTransform(e){ve()}intersectsExtent(e){return ve()}translate(e,t){ve()}transform(e,t){const i=st(e),r=i.getUnits()=="tile-pixels"?function(o,u,h){const f=i.getExtent(),g=i.getWorldExtent(),p=xt(g)/xt(f);hi(tx,g[0],g[3],p,-p,0,0,0);const y=zs(o,0,o.length,h,tx,u),v=uo(i,t);return v?v(y,y,h):y}:uo(i,t);return this.applyTransform(r),this}}class La extends W1{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Yg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ve()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=nx(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){ve()}setLayout(e,t,i){let r;if(e)r=nx(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=Na(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();q1(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=ci(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();_C(r,0,r.length,o,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();xC(i,0,i.length,r,e,t,i),this.changed()}}}function Na(a){let e;return a==2?e="XY":a==3?e="XYZ":a==4&&(e="XYZM"),e}function nx(a){let e;return a=="XY"?e=2:a=="XYZ"||a=="XYM"?e=3:a=="XYZM"&&(e=4),e}function bC(a,e,t){const i=a.getFlatCoordinates();if(!i)return null;const r=a.getStride();return zs(i,0,i.length,r,e,t)}function Q1(a,e,t,i){let r=0;const o=a[t-i],u=a[t-i+1];let h=0,f=0;for(;e<t;e+=i){const g=a[e]-o,p=a[e+1]-u;r+=f*g-h*p,h=g,f=p}return r/2}function J1(a,e,t,i){let r=0;for(let o=0,u=t.length;o<u;++o){const h=t[o];r+=Q1(a,e,h,i),e=h}return r}function EC(a,e,t,i){let r=0;for(let o=0,u=t.length;o<u;++o){const h=t[o];r+=J1(a,e,h,i),e=h[h.length-1]}return r}function ix(a,e,t,i,r,o,u){const h=a[e],f=a[e+1],g=a[t]-h,p=a[t+1]-f;let y;if(g===0&&p===0)y=e;else{const v=((r-h)*g+(o-f)*p)/(g*g+p*p);if(v>1)y=t;else if(v>0){for(let b=0;b<i;++b)u[b]=yn(a[e+b],a[t+b],v);u.length=i;return}else y=e}for(let v=0;v<i;++v)u[v]=a[y+v];u.length=i}function Qg(a,e,t,i,r){let o=a[e],u=a[e+1];for(e+=i;e<t;e+=i){const h=a[e],f=a[e+1],g=va(o,u,h,f);g>r&&(r=g),o=h,u=f}return r}function Jg(a,e,t,i,r){for(let o=0,u=t.length;o<u;++o){const h=t[o];r=Qg(a,e,h,i,r),e=h}return r}function SC(a,e,t,i,r){for(let o=0,u=t.length;o<u;++o){const h=t[o];r=Jg(a,e,h,i,r),e=h[h.length-1]}return r}function $g(a,e,t,i,r,o,u,h,f,g,p){if(e==t)return g;let y,v;if(r===0){if(v=va(u,h,a[e],a[e+1]),v<g){for(y=0;y<i;++y)f[y]=a[e+y];return f.length=i,v}return g}p=p||[NaN,NaN];let b=e+i;for(;b<t;)if(ix(a,b-i,b,i,u,h,p),v=va(u,h,p[0],p[1]),v<g){for(g=v,y=0;y<i;++y)f[y]=p[y];f.length=i,b+=i}else b+=i*Math.max((Math.sqrt(v)-Math.sqrt(g))/r|0,1);if(o&&(ix(a,t-i,e,i,u,h,p),v=va(u,h,p[0],p[1]),v<g)){for(g=v,y=0;y<i;++y)f[y]=p[y];f.length=i}return g}function em(a,e,t,i,r,o,u,h,f,g,p){p=p||[NaN,NaN];for(let y=0,v=t.length;y<v;++y){const b=t[y];g=$g(a,e,b,i,r,o,u,h,f,g,p),e=b}return g}function wC(a,e,t,i,r,o,u,h,f,g,p){p=p||[NaN,NaN];for(let y=0,v=t.length;y<v;++y){const b=t[y];g=em(a,e,b,i,r,o,u,h,f,g,p),e=b[b.length-1]}return g}function CC(a,e,t,i){for(let r=0,o=t.length;r<o;++r)a[e++]=t[r];return e}function Wc(a,e,t,i){for(let r=0,o=t.length;r<o;++r){const u=t[r];for(let h=0;h<i;++h)a[e++]=u[h]}return e}function Mo(a,e,t,i,r){r=r||[];let o=0;for(let u=0,h=t.length;u<h;++u){const f=Wc(a,e,t[u],i);r[o++]=f,e=f}return r.length=o,r}function $1(a,e,t,i,r){r=r||[];let o=0;for(let u=0,h=t.length;u<h;++u){const f=Mo(a,e,t[u],i,r[o]);f.length===0&&(f[0]=e),r[o++]=f,e=f[f.length-1]}return r.length=o,r}function Ds(a,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let u=e;u<t;u+=i)r[o++]=a.slice(u,u+i);return r.length=o,r}function co(a,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let u=0,h=t.length;u<h;++u){const f=t[u];r[o++]=Ds(a,e,f,i,r[o]),e=f}return r.length=o,r}function xg(a,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let u=0,h=t.length;u<h;++u){const f=t[u];r[o++]=f.length===1&&f[0]===e?[]:co(a,e,f,i,r[o]),e=f[f.length-1]}return r.length=o,r}function Qc(a,e,t,i,r,o,u){const h=(t-e)/i;if(h<3){for(;e<t;e+=i)o[u++]=a[e],o[u++]=a[e+1];return u}const f=new Array(h);f[0]=1,f[h-1]=1;const g=[e,t-i];let p=0;for(;g.length>0;){const y=g.pop(),v=g.pop();let b=0;const S=a[v],C=a[v+1],w=a[y],R=a[y+1];for(let T=v+i;T<y;T+=i){const z=a[T],A=a[T+1],O=Cw(z,A,S,C,w,R);O>b&&(p=T,b=O)}b>r&&(f[(p-e)/i]=1,v+i<p&&g.push(v,p),p+i<y&&g.push(p,y))}for(let y=0;y<h;++y)f[y]&&(o[u++]=a[e+y*i],o[u++]=a[e+y*i+1]);return u}function ev(a,e,t,i,r,o,u,h){for(let f=0,g=t.length;f<g;++f){const p=t[f];u=Qc(a,e,p,i,r,o,u),h.push(u),e=p}return u}function ga(a,e){return e*Math.round(a/e)}function RC(a,e,t,i,r,o,u){if(e==t)return u;let h=ga(a[e],r),f=ga(a[e+1],r);e+=i,o[u++]=h,o[u++]=f;let g,p;do if(g=ga(a[e],r),p=ga(a[e+1],r),e+=i,e==t)return o[u++]=g,o[u++]=p,u;while(g==h&&p==f);for(;e<t;){const y=ga(a[e],r),v=ga(a[e+1],r);if(e+=i,y==g&&v==p)continue;const b=g-h,S=p-f,C=y-h,w=v-f;if(b*w==S*C&&(b<0&&C<b||b==C||b>0&&C>b)&&(S<0&&w<S||S==w||S>0&&w>S)){g=y,p=v;continue}o[u++]=g,o[u++]=p,h=g,f=p,g=y,p=v}return o[u++]=g,o[u++]=p,u}function tm(a,e,t,i,r,o,u,h){for(let f=0,g=t.length;f<g;++f){const p=t[f];u=RC(a,e,p,i,r,o,u),h.push(u),e=p}return u}function TC(a,e,t,i,r,o,u,h){for(let f=0,g=t.length;f<g;++f){const p=t[f],y=[];u=tm(a,e,p,i,r,o,u,y),h.push(y),e=p[p.length-1]}return u}class ho extends La{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new ho(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$g(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return Q1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Ds(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Qc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new ho(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Wc(this.flatCoordinates,0,e,this.stride),this.changed()}}let wc=class tv extends La{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new tv(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const o=this.flatCoordinates,u=va(e,t,o[0],o[1]);if(u<r){const h=this.stride;for(let f=0;f<h;++f)i[f]=o[f];return i.length=h,u}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return N1(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Pg(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=CC(this.flatCoordinates,0,e,this.stride),this.changed()}};function AC(a,e,t,i,r){return!I1(r,function(u){return!ya(a,e,t,i,u[0],u[1])})}function ya(a,e,t,i,r,o){let u=0,h=a[t-i],f=a[t-i+1];for(;e<t;e+=i){const g=a[e],p=a[e+1];f<=o?p>o&&(g-h)*(o-f)-(r-h)*(p-f)>0&&u++:p<=o&&(g-h)*(o-f)-(r-h)*(p-f)<0&&u--,h=g,f=p}return u!==0}function nm(a,e,t,i,r,o){if(t.length===0||!ya(a,e,t[0],i,r,o))return!1;for(let u=1,h=t.length;u<h;++u)if(ya(a,t[u-1],t[u],i,r,o))return!1;return!0}function MC(a,e,t,i,r,o){if(t.length===0)return!1;for(let u=0,h=t.length;u<h;++u){const f=t[u];if(nm(a,e,f,i,r,o))return!0;e=f[f.length-1]}return!1}function im(a,e,t,i,r,o,u){let h,f,g,p,y,v,b;const S=r[o+1],C=[];for(let T=0,z=t.length;T<z;++T){const A=t[T];for(p=a[A-i],v=a[A-i+1],h=e;h<A;h+=i)y=a[h],b=a[h+1],(S<=v&&b<=S||v<=S&&S<=b)&&(g=(S-v)/(b-v)*(y-p)+p,C.push(g)),p=y,v=b}let w=NaN,R=-1/0;for(C.sort(Pi),p=C[0],h=1,f=C.length;h<f;++h){y=C[h];const T=Math.abs(y-p);T>R&&(g=(p+y)/2,nm(a,e,t,i,g,S)&&(w=g,R=T)),p=y}return isNaN(w)&&(w=r[o]),u?(u.push(w,S,R),u):[w,S,R]}function nv(a,e,t,i,r){let o=[];for(let u=0,h=t.length;u<h;++u){const f=t[u];o=im(a,e,f,i,r,2*u,o),e=f[f.length-1]}return o}function iv(a,e,t,i,r){let o;for(e+=i;e<t;e+=i)if(o=r(a.slice(e-i,e),a.slice(e,e+i)),o)return o;return!1}function Jc(a,e,t,i,r,o){return o=o??D1(zn(),a,e,t,i),Yt(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:iv(a,e,t,i,function(u,h){return Nw(r,u,h)}):!1}function LC(a,e,t,i,r){for(let o=0,u=t.length;o<u;++o){if(Jc(a,e,t[o],i,r))return!0;e=t[o]}return!1}function sv(a,e,t,i,r){return!!(Jc(a,e,t,i,r)||ya(a,e,t,i,r[0],r[1])||ya(a,e,t,i,r[0],r[3])||ya(a,e,t,i,r[2],r[1])||ya(a,e,t,i,r[2],r[3]))}function av(a,e,t,i,r){if(!sv(a,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let o=1,u=t.length;o<u;++o)if(AC(a,t[o-1],t[o],i,r)&&!Jc(a,t[o-1],t[o],i,r))return!1;return!0}function NC(a,e,t,i,r){for(let o=0,u=t.length;o<u;++o){const h=t[o];if(av(a,e,h,i,r))return!0;e=h[h.length-1]}return!1}function OC(a,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const o=a[e+r];a[e+r]=a[t-i+r],a[t-i+r]=o}e+=i,t-=i}}function sm(a,e,t,i){let r=0,o=a[t-i],u=a[t-i+1];for(;e<t;e+=i){const h=a[e],f=a[e+1];r+=(h-o)*(f+u),o=h,u=f}return r===0?void 0:r>0}function am(a,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,u=t.length;o<u;++o){const h=t[o],f=sm(a,e,h,i);if(o===0){if(r&&f||!r&&!f)return!1}else if(r&&!f||!r&&f)return!1;e=h}return!0}function rv(a,e,t,i,r){for(let o=0,u=t.length;o<u;++o){const h=t[o];if(!am(a,e,h,i,r))return!1;h.length&&(e=h[h.length-1])}return!0}function Cc(a,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,u=t.length;o<u;++o){const h=t[o],f=sm(a,e,h,i);(o===0?r&&f||!r&&!f:r&&!f||!r&&f)&&OC(a,e,h,i),e=h}return e}function vg(a,e,t,i,r){for(let o=0,u=t.length;o<u;++o)e=Cc(a,e,t[o],i,r);return e}function DC(a,e){const t=[];let i=0,r=0,o;for(let u=0,h=e.length;u<h;++u){const f=e[u],g=sm(a,i,f,2);if(o===void 0&&(o=g),g===o)t.push(e.slice(r,u+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=u+1,i=f}return t}class Gs extends La{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?ui(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Gs(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),em(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return nm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return J1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Cc(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,co(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=ci(this.getExtent());this.flatInteriorPoint_=im(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new wc(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new ho(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let o=0;for(let u=0,h=i.length;u<h;++u){const f=i[u],g=new ho(t.slice(o,f),e);r.push(g),o=f}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;am(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Cc(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=tm(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new Gs(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return av(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Mo(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function sx(a){if(Xr(a))throw new Error("Cannot create polygon from empty extent");const e=a[0],t=a[1],i=a[2],r=a[3],o=[e,t,e,r,i,r,i,t,e,t];return new Gs(o,"XY",[o.length])}function rm(a,e,t,i){const r=ke(e)/t[0],o=xt(e)/t[1];return i?Math.min(a,Math.max(r,o)):Math.min(a,Math.min(r,o))}function lm(a,e,t){let i=Math.min(a,e);const r=50;return i*=Math.log(1+r*Math.max(0,a/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/a-1))/r+1),it(i,t/2,e*2)}function IC(a,e,t,i){return e=e!==void 0?e:!0,(function(r,o,u,h){if(r!==void 0){const f=a[0],g=a[a.length-1],p=t?rm(f,t,u,i):f;if(h)return e?lm(r,p,g):it(r,g,p);const y=Math.min(p,r),v=Math.floor(Pc(a,y,o));return a[v]>p&&v<a.length-1?a[v+1]:a[v]}})}function jC(a,e,t,i,r,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,(function(u,h,f,g){if(u!==void 0){const p=r?rm(e,r,f,o):e;if(g)return i?lm(u,p,t):it(u,t,p);const y=1e-9,v=Math.ceil(Math.log(e/p)/Math.log(a)-y),b=-h*(.5-y)+.5,S=Math.min(p,u),C=Math.floor(Math.log(e/S)/Math.log(a)+b),w=Math.max(v,C),R=e/Math.pow(a,w);return it(R,t,p)}})}function ax(a,e,t,i,r){return t=t!==void 0?t:!0,(function(o,u,h,f){if(o!==void 0){const g=i?rm(a,i,h,r):a;return!t||!f?it(o,e,g):lm(o,g,e)}})}function om(a){if(a!==void 0)return 0}function rx(a){if(a!==void 0)return a}function kC(a){const e=2*Math.PI/a;return(function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t})}function zC(a){const e=ks(5);return(function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t})}const FC=42,um=256,Od=0;class ai extends di{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=qg(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&V1(),e.center&&(e.center=Fi(e.center,this.projection_)),e.extent&&(e.extent=li(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const h in Hn)delete t[h];this.setProperties(t,!0);const i=UC(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=GC(e),o=i.constraint,u=PC(e);this.constraints_={center:r,resolution:o,rotation:u},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution(),u=o/2*(r[3]-t[3]+t[1]-r[1]),h=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+u,i[1]-h])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Fi(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Fi(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const p=arguments[r];p.center&&this.setCenterInternal(p.center),p.zoom!==void 0?this.setZoom(p.zoom):p.resolution&&this.setResolution(p.resolution),p.rotation!==void 0&&this.setRotation(p.rotation)}if(r===t){i&&$u(i,!0);return}let o=Date.now(),u=this.targetCenter_.slice(),h=this.targetResolution_,f=this.targetRotation_;const g=[];for(;r<t;++r){const p=arguments[r],y={start:o,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||jw,callback:i};if(p.center&&(y.sourceCenter=u,y.targetCenter=p.center.slice(),u=y.targetCenter),p.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(p.zoom),h=y.targetResolution):p.resolution&&(y.sourceResolution=h,y.targetResolution=p.resolution,h=y.targetResolution),p.rotation!==void 0){y.sourceRotation=f;const v=ba(p.rotation-f+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=f+v,f=y.targetRotation}YC(y)?y.complete=!0:o+=y.duration,g.push(y)}this.animations_.push(g),this.setHint(Tt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Tt.ANIMATING]>0}getInteracting(){return this.hints_[Tt.INTERACTING]>0}cancelAnimations(){this.setHint(Tt.ANIMATING,-this.hints_[Tt.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&$u(r[0].callback,!1),!e)for(let o=0,u=r.length;o<u;++o){const h=r[o];if(!h.complete){e=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let o=!0;for(let u=0,h=r.length;u<h;++u){const f=r[u];if(f.complete)continue;const g=e-f.start;let p=f.duration>0?g/f.duration:1;p>=1?(f.complete=!0,p=1):o=!1;const y=f.easing(p);if(f.sourceCenter){const v=f.sourceCenter[0],b=f.sourceCenter[1],S=f.targetCenter[0],C=f.targetCenter[1];this.nextCenter_=f.targetCenter;const w=v+y*(S-v),R=b+y*(C-b);this.targetCenter_=[w,R]}if(f.sourceResolution&&f.targetResolution){const v=y===1?f.targetResolution:f.sourceResolution+y*(f.targetResolution-f.sourceResolution);if(f.anchor){const b=this.getViewportSize_(this.getRotation()),S=this.constraints_.resolution(v,0,b,!0);this.targetCenter_=this.calculateCenterZoom(S,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const v=y===1?ba(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+y*(f.targetRotation-f.sourceRotation);if(f.anchor){const b=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(b,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),t=!0,!f.complete)break}if(o){this.animations_[i]=null,this.setHint(Tt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const u=r[0].callback;u&&$u(u,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],Xg(i,e-this.getRotation()),Ow(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){const u=t[0]-e*(t[0]-r[0])/o,h=t[1]-e*(t[1]-r[1])/o;i=[u,h]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&yg(e,this.getProjection())}getCenterInternal(){return this.get(Hn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return Z1(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Ye(t,"The view center is not defined");const i=this.getResolution();Ye(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Ye(r!==void 0,"The view rotation is not defined"),vc(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Hn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(li(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=ke(e)/t[0],r=xt(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return(function(o){return t/Math.pow(e,o*r)})}getRotation(){return this.get(Hn.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/t;return(function(u){return Math.log(i/u)/t/o})}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const u=this.getViewportSizeMinusPadding_();r=Dd(r,this.getViewportSize_(),[u[0]/2+o[3],u[1]/2+o[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){const o=Pc(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const t=it(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,it(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Ye(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ye(!Xr(e),"Cannot fit empty extent provided as `geometry`");const r=li(e,this.getProjection());i=sx(r)}else if(e.getType()==="Circle"){const r=li(e.getExtent(),this.getProjection());i=sx(r),i.rotate(this.getRotation(),ci(r))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),u=e.getStride();let h=1/0,f=1/0,g=-1/0,p=-1/0;for(let y=0,v=o.length;y<v;y+=u){const b=o[y]*i-o[y+1]*r,S=o[y]*r+o[y+1]*i;h=Math.min(h,b),f=Math.min(f,S),g=Math.max(g,b),p=Math.max(p,S)}return[h,f,g,p]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1;let u;t.minResolution!==void 0?u=t.minResolution:t.maxZoom!==void 0?u=this.getResolutionForZoom(t.maxZoom):u=0;const h=this.rotatedExtentForGeometry(e);let f=this.getResolutionForExtentInternal(h,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);f=isNaN(f)?u:Math.max(f,u),f=this.getConstrainedResolution(f,o?0:1);const g=this.getRotation(),p=Math.sin(g),y=Math.cos(g),v=ci(h);v[0]+=(r[1]-r[3])/2*f,v[1]+=(r[0]-r[2])/2*f;const b=v[0]*y-v[1]*p,S=v[1]*y+v[0]*p,C=this.getConstrainedCenter([b,S],f),w=t.callback?t.callback:lo;t.duration!==void 0?this.animateInternal({resolution:f,center:C,duration:t.duration,easing:t.easing},w):(this.targetResolution_=f,this.targetCenter_=C,this.applyTargetState_(!1,!0),$u(w,!0))}centerOn(e,t,i){this.centerOnInternal(Fi(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Dd(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let o;const u=this.padding_;if(u&&e){const h=this.getViewportSizeMinusPadding_(-i),f=Dd(e,r,[h[0]/2+u[3],h[1]/2+u[0]],t,i);o=[e[0]-f[0],e[1]-f[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=yg(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Fi(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Fi(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Fi(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),u=this.constraints_.resolution(this.targetResolution_,0,o,i),h=this.constraints_.center(this.targetCenter_,u,o,i,this.calculateCenterShift(this.targetCenter_,u,r,o));this.get(Hn.ROTATION)!==r&&this.set(Hn.ROTATION,r),this.get(Hn.RESOLUTION)!==u&&(this.set(Hn.RESOLUTION,u),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Hn.CENTER)||!bc(this.get(Hn.CENTER),h))&&this.set(Hn.CENTER,h),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const r=t||0,o=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,r,u),f=this.constraints_.center(this.targetCenter_,h,u,!1,this.calculateCenterShift(this.targetCenter_,h,o,u));if(e===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=f,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!bc(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:f,resolution:h,duration:e,easing:Br,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Tt.INTERACTING,1)}endInteraction(e,t,i){i=i&&Fi(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(Tt.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function $u(a,e){setTimeout(function(){a(e)},0)}function GC(a){if(a.extent!==void 0){const t=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return X_(a.extent,a.constrainOnlyCenter,t)}const e=qg(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,X_(t,!1,!1)}return Tw}function UC(a){let e,t,i,u=a.minZoom!==void 0?a.minZoom:Od,h=a.maxZoom!==void 0?a.maxZoom:28;const f=a.zoomFactor!==void 0?a.zoomFactor:2,g=a.multiWorld!==void 0?a.multiWorld:!1,p=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,y=a.showFullExtent!==void 0?a.showFullExtent:!1,v=qg(a.projection,"EPSG:3857"),b=v.getExtent();let S=a.constrainOnlyCenter,C=a.extent;if(!g&&!C&&v.isGlobal()&&(S=!1,C=b),a.resolutions!==void 0){const w=a.resolutions;t=w[u],i=w[h]!==void 0?w[h]:w[w.length-1],a.constrainResolution?e=IC(w,p,!S&&C,y):e=ax(t,i,p,!S&&C,y)}else{const R=(b?Math.max(ke(b),xt(b)):360*Bg.degrees/v.getMetersPerUnit())/um/Math.pow(2,Od),T=R/Math.pow(2,28-Od);t=a.maxResolution,t!==void 0?u=0:t=R/Math.pow(f,u),i=a.minResolution,i===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?i=t/Math.pow(f,h):i=R/Math.pow(f,h):i=T),h=u+Math.floor(Math.log(t/i)/Math.log(f)),i=t/Math.pow(f,h-u),a.constrainResolution?e=jC(f,t,i,p,!S&&C,y):e=ax(t,i,p,!S&&C,y)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:u,zoomFactor:f}}function PC(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const t=a.constrainRotation;return t===void 0||t===!0?zC():t===!1?rx:typeof t=="number"?kC(t):rx}return om}function YC(a){return!(a.sourceCenter&&a.targetCenter&&!bc(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function Dd(a,e,t,i,r){const o=Math.cos(-r);let u=Math.sin(-r),h=a[0]*o-a[1]*u,f=a[1]*o+a[0]*u;h+=(e[0]/2-t[0])*i,f+=(t[1]-e[1]/2)*i,u=-u;const g=h*o-f*u,p=f*o+h*u;return[g,p]}const ec="ol-hidden",$c="ol-unselectable",cm="ol-control",lx="ol-collapsed",XC=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),ox=["style","variant","weight","size","lineHeight","family"],bg={normal:400,bold:700},Eg=function(a){const e=a.match(XC);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=ox.length;i<r;++i){const o=e[i+1];o!==void 0&&(t[ox[i]]=typeof o=="string"?o.trim():o)}return isNaN(Number(t.weight))&&t.weight in bg&&(t.weight=bg[t.weight]),t.families=t.family.split(/,\s?/).map(i=>i.trim().replace(/^['"]|['"]$/g,"")),t};function vt(a,e,t,i){let r;return t&&t.length?r=t.shift():On?r=new class extends OffscreenCanvas{style={}}(a??300,e??150):r=document.createElement("canvas"),a&&(r.width=a),e&&(r.height=e),r.getContext("2d",i)}let Id;function Rc(){return Id||(Id=vt(1,1)),Id}function eh(a){const e=a.canvas;e.width=1,e.height=1,a.clearRect(0,0,1,1)}function ux(a,e){const t=e.parentNode;t&&t.replaceChild(a,e)}function BC(a){for(;a.lastChild;)a.lastChild.remove()}function HC(a,e){const t=a.childNodes;for(let i=0;;++i){const r=t[i],o=e[i];if(!r&&!o)break;if(r!==o){if(!r){a.appendChild(o);continue}if(!o){a.removeChild(r),--i;continue}a.insertBefore(o,r)}}}function lv(){return new Proxy({childNodes:[],appendChild:function(e){return this.childNodes.push(e),e},remove:function(){},removeChild:function(e){const t=this.childNodes.indexOf(e);if(t===-1)throw new Error("Node to remove was not found");return this.childNodes.splice(t,1),e},insertBefore:function(e,t){const i=this.childNodes.indexOf(t);if(i===-1)throw new Error("Reference node not found");return this.childNodes.splice(i,0,e),e},style:{}},{get(e,t,i){return t==="firstElementChild"?e.childNodes.length>0?e.childNodes[0]:null:Reflect.get(e,t,i)}})}function Is(a){return typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas}class hm extends di{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)Qe(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==lo&&this.listenerKeys.push(je(e,Ms.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class VC extends hm{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",u=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=u):this.collapseLabel_=o;const h=e.label!==void 0?e.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(be.CLICK,this.handleClick_.bind(this),!1);const g=t+" "+$c+" "+cm+(this.collapsed_&&this.collapsible_?" "+lx:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=g,p.appendChild(this.toggleButton_),p.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(r=>R1(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Ys(t,this.renderedAttributions_)){BC(this.ulElement_);for(let r=0,o=t.length;r<o;++r){const u=document.createElement("li");u.innerHTML=t[r],this.ulElement_.appendChild(u)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(lx),this.collapsed_?ux(this.collapseLabel_,this.label_):ux(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class ZC extends hm{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const o=e.tipLabel?e.tipLabel:"Reset rotation",u=document.createElement("button");u.className=t+"-reset",u.setAttribute("type","button"),u.title=o,u.appendChild(this.label_),u.addEventListener(be.CLICK,this.handleClick_.bind(this),!1);const h=t+" "+$c+" "+cm,f=this.element;f.className=h,f.appendChild(u),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ec)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Br}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(ec);!o&&i===0?this.element.classList.add(ec):o&&i!==0&&this.element.classList.remove(ec)}this.label_.style.transform=r}this.rotation_=i}}class KC extends hm{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",u=e.zoomInLabel!==void 0?e.zoomInLabel:"+",h=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",f=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",g=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=r,p.setAttribute("type","button"),p.title=f,p.appendChild(typeof u=="string"?document.createTextNode(u):u),p.addEventListener(be.CLICK,this.handleClick_.bind(this,i),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=g,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(be.CLICK,this.handleClick_.bind(this,-i),!1);const v=t+" "+$c+" "+cm,b=this.element;b.className=v,b.appendChild(p),b.appendChild(y),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const o=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Br})):i.setZoom(o)}}}function ov(a){a=a||{};const e=new Nn;return(a.zoom===void 0||a.zoom)&&e.push(new KC(a.zoomOptions)),(a.rotate===void 0||a.rotate)&&e.push(new ZC(a.rotateOptions)),(a.attribution===void 0||a.attribution)&&e.push(new VC(a.attributionOptions)),e}class qC{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const o=this.points_[t]-this.points_[i],u=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(u,o),this.initialVelocity_=Math.sqrt(o*o+u*u)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const cx={ACTIVE:"active"};class Lo extends di{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(cx.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(cx.ACTIVE,e)}setMap(e){this.map_=e}}function WC(a,e,t){const i=a.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];a.animateInternal({duration:t!==void 0?t:250,easing:kw,center:a.getConstrainedCenter(r)})}}function fm(a,e,t,i){const r=a.getZoom();if(r===void 0)return;const o=a.getConstrainedZoom(r+e),u=a.getResolutionForZoom(o);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:u,anchor:t,duration:i!==void 0?i:250,easing:Br})}class QC extends Lo{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==ot.DBLCLICK){const i=e.originalEvent,r=e.map,o=e.coordinate,u=i.shiftKey?-this.delta_:this.delta_,h=r.getView();fm(h,u,o,this.duration_),i.preventDefault(),t=!0}return!t}}function Sg(a){const e=arguments;return function(t){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](t),!!i);++r);return i}}const JC=function(a){const e=a.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},$C=function(a){const e=a.map.getTargetElement(),t=e.getRootNode(),i=a.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},uv=function(a){const e=a.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?$C(a):!0},eR=ro,cv=function(a){const e=a.originalEvent;return"pointerId"in e&&e.button==0&&!(xw&&T1&&e.ctrlKey)},hv=function(a){const e=a.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},tR=function(a){const e=a.originalEvent;return T1?e.metaKey:e.ctrlKey},nR=function(a){const e=a.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},fv=function(a){const e=a.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},jd=function(a){const e=a.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},iR=function(a){const e=a.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class No extends Lo{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ot.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ot.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==ot.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==ot.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function dm(a){const e=a.length;let t=0,i=0;for(let r=0;r<e;r++)t+=a[r].clientX,i+=a[r].clientY;return{clientX:t/e,clientY:i/e}}class sR extends No{constructor(e){super({stopDown:Yc}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Sg(hv,iR);this.condition_=e.onFocusOnly?Sg(uv,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(dm(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=e.map.getView();Dw(o,h.getResolution()),Xg(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),u=i.getCenterInternal(),h=t.getPixelFromCoordinateInternal(u),f=t.getCoordinateFromPixelInternal([h[0]-r*Math.cos(o),h[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(f),duration:500,easing:Br})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class aR extends No{constructor(e){e=e||{},super({stopDown:Yc}),this.condition_=e.condition?e.condition:JC,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!jd(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===om)return;const r=t.getSize(),o=e.pixel,u=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=u-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=u}handleUpEvent(e){return jd(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return jd(e)&&cv(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class rR extends Uc{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Gs([r])}getGeometry(){return this.geometry_}}const xr={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Bl extends fi{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class lR extends No{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new rR(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??cv,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],o=i[1]-t[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Bl(xr.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Bl(t?xr.BOXEND:xr.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Bl(xr.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Bl(xr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Bl(xr.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class oR extends lR{constructor(e){e=e||{};const t=e.condition?e.condition:nR;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(r),u=i.getResolutionForExtentInternal(o),h=i.getResolution()/u;r=r.clone(),r.scale(h*h)}i.fitInternal(r,{duration:this.duration_,easing:Br})}}const ha={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class uR extends Lo{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return hv(t)&&fv(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==be.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==ha.DOWN||r==ha.LEFT||r==ha.RIGHT||r==ha.UP)){const u=e.map.getView(),h=u.getResolution()*this.pixelDelta_;let f=0,g=0;r==ha.DOWN?g=-h:r==ha.LEFT?f=-h:r==ha.RIGHT?f=h:g=h;const p=[f,g];Xg(p,u.getRotation()),WC(u,p,this.duration_),i.preventDefault(),t=!0}}return!t}}class cR extends Lo{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!tR(t)&&fv(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==be.KEYDOWN||e.type==be.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const o=e.map,u=r==="+"?this.delta_:-this.delta_,h=o.getView();fm(h,u,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}const hR=40,fR=300;class dR extends Lo{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:eR;this.condition_=e.onFocusOnly?Sg(uv,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==be.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:o*=hR;break;case WheelEvent.DOM_DELTA_PAGE:o*=fR;break}if(o===0)return!1;this.lastDelta_=o;const u=Date.now();this.startTime_===void 0&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=i.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=u,!1;this.totalDelta_+=o;const f=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),f),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-it(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),fm(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class gR extends No{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Yc),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const f=o-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=f}this.lastAngle_=o;const u=e.map,h=u.getView();h.getConstraints().rotation!==om&&(this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(dm(this.targetPointers))),this.rotating_&&(u.render(),h.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class mR extends No{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Yc),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,u=i.clientY-r.clientY,h=Math.sqrt(o*o+u*u);this.lastDistance_!==void 0&&(t=this.lastDistance_/h),this.lastDistance_=h;const f=e.map,g=f.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(dm(this.targetPointers))),f.render(),g.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function pR(a){a=a||{};const e=new Nn,t=new qC(-.005,.05,100);return(a.altShiftDragRotate===void 0||a.altShiftDragRotate)&&e.push(new aR),(a.doubleClickZoom===void 0||a.doubleClickZoom)&&e.push(new QC({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan===void 0||a.dragPan)&&e.push(new sR({onFocusOnly:a.onFocusOnly,kinetic:t})),(a.pinchRotate===void 0||a.pinchRotate)&&e.push(new gR),(a.pinchZoom===void 0||a.pinchZoom)&&e.push(new mR({duration:a.zoomDuration})),(a.keyboard===void 0||a.keyboard)&&(e.push(new uR),e.push(new cR({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom===void 0||a.mouseWheelZoom)&&e.push(new dR({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom===void 0||a.shiftDragZoom)&&e.push(new oR({duration:a.zoomDuration})),e}const He={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class dv extends di{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[He.OPACITY]=e.opacity!==void 0?e.opacity:1,Ye(typeof t[He.OPACITY]=="number","Layer opacity must be a number"),t[He.VISIBLE]=e.visible!==void 0?e.visible:!0,t[He.Z_INDEX]=e.zIndex,t[He.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[He.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[He.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[He.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=it(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return ve()}getLayerStatesArray(e){return ve()}getExtent(){return this.get(He.EXTENT)}getMaxResolution(){return this.get(He.MAX_RESOLUTION)}getMinResolution(){return this.get(He.MIN_RESOLUTION)}getMinZoom(){return this.get(He.MIN_ZOOM)}getMaxZoom(){return this.get(He.MAX_ZOOM)}getOpacity(){return this.get(He.OPACITY)}getSourceState(){return ve()}getVisible(){return this.get(He.VISIBLE)}getZIndex(){return this.get(He.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(He.EXTENT,e)}setMaxResolution(e){this.set(He.MAX_RESOLUTION,e)}setMinResolution(e){this.set(He.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(He.MAX_ZOOM,e)}setMinZoom(e){this.set(He.MIN_ZOOM,e)}setOpacity(e){Ye(typeof e=="number","Layer opacity must be a number"),this.set(He.OPACITY,e)}setVisible(e){this.set(He.VISIBLE,e)}setZIndex(e){this.set(He.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Es={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class Ls extends fi{constructor(e,t){super(e),this.layer=t}}const kd={LAYERS:"layers"};class Hr extends dv{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(kd.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Nn(i.slice(),{unique:!0}):Ye(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Nn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Qe),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(je(e,sn.ADD,this.handleLayersAdd_,this),je(e,sn.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Qe);wo(this.listenerKeys_);const t=e.getArray();for(let i=0,r=t.length;i<r;i++){const o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new Ls(Es.ADDLAYER,o))}this.changed()}registerLayerListeners_(e){const t=[je(e,Ir.PROPERTYCHANGE,this.handleLayerChange_,this),je(e,be.CHANGE,this.handleLayerChange_,this)];e instanceof Hr&&t.push(je(e,Es.ADDLAYER,this.handleLayerGroupAdd_,this),je(e,Es.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[Ge(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Ls(Es.ADDLAYER,e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ls(Es.REMOVELAYER,e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Ls(Es.ADDLAYER,t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=Ge(t);this.listenerKeys_[i].forEach(Qe),delete this.listenerKeys_[i],this.dispatchEvent(new Ls(Es.REMOVELAYER,t)),this.changed()}getLayers(){return this.get(kd.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Ls(Es.REMOVELAYER,i[r]))}this.set(kd.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(u){u.getLayerStatesArray(t)});const r=this.getLayerState();let o=r.zIndex;!e&&r.zIndex===void 0&&(o=0);for(let u=i,h=t.length;u<h;u++){const f=t[u];f.opacity*=r.opacity,f.visible=f.visible&&r.visible,f.maxResolution=Math.min(f.maxResolution,r.maxResolution),f.minResolution=Math.max(f.minResolution,r.minResolution),f.minZoom=Math.max(f.minZoom,r.minZoom),f.maxZoom=Math.min(f.maxZoom,r.maxZoom),r.extent!==void 0&&(f.extent!==void 0?f.extent=Yi(f.extent,r.extent):f.extent=r.extent),f.zIndex===void 0&&(f.zIndex=o)}return t}getSourceState(){return"ready"}}const Dn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Oo extends dv{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(He.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(He.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Qe(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=je(e,be.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof ai?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(u=>u.layer===this),!r)return!1}else r=this.getLayerState();const o=this.getExtent();return gm(r,t.viewState)&&(!o||Yt(o,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];const t=this.getSource()?.getAttributions();if(!t)return[];const i=e instanceof ai?e.getViewStateAndExtent():e;let r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(He.MAP,e)}getMapInternal(){return this.get(He.MAP)}setMap(e){this.mapPrecomposeKey_&&(Qe(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Qe(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=je(e,Dn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=je(this,be.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);Ye(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(He.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function gm(a,e){if(!a.visible)return!1;const t=e.resolution;if(t<a.minResolution||t>=a.maxResolution)return!1;const i=e.zoom;return i>a.minZoom&&i<=a.maxZoom}function gv(a,e,t=0,i=a.length-1,r=yR){for(;i>t;){if(i-t>600){const f=i-t+1,g=e-t+1,p=Math.log(f),y=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*y*(f-y)/f)*(g-f/2<0?-1:1),b=Math.max(t,Math.floor(e-g*y/f+v)),S=Math.min(i,Math.floor(e+(f-g)*y/f+v));gv(a,e,b,S,r)}const o=a[e];let u=t,h=i;for(Hl(a,t,e),r(a[i],o)>0&&Hl(a,t,i);u<h;){for(Hl(a,u,h),u++,h--;r(a[u],o)<0;)u++;for(;r(a[h],o)>0;)h--}r(a[t],o)===0?Hl(a,t,h):(h++,Hl(a,h,i)),h<=e&&(t=h+1),e<=h&&(i=h-1)}}function Hl(a,e,t){const i=a[e];a[e]=a[t],a[t]=i}function yR(a,e){return a<e?-1:a>e?1:0}let mv=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!nc(e,t))return i;const r=this.toBBox,o=[];for(;t;){for(let u=0;u<t.children.length;u++){const h=t.children[u],f=t.leaf?r(h):h;nc(e,f)&&(t.leaf?i.push(h):Fd(e,f)?this._all(h,i):o.push(h))}t=o.pop()}return i}collides(e){let t=this.data;if(!nc(e,t))return!1;const i=[];for(;t;){for(let r=0;r<t.children.length;r++){const o=t.children[r],u=t.leaf?this.toBBox(o):o;if(nc(e,u)){if(t.leaf||Fd(e,u))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Tr([]),this}remove(e,t){if(!e)return this;let i=this.data;const r=this.toBBox(e),o=[],u=[];let h,f,g;for(;i||o.length;){if(i||(i=o.pop(),f=o[o.length-1],h=u.pop(),g=!0),i.leaf){const p=_R(e,i.children,t);if(p!==-1)return i.children.splice(p,1),o.push(i),this._condense(o),this}!g&&!i.leaf&&Fd(i,r)?(o.push(i),u.push(h),h=0,f=i,i=i.children[0]):f?(h++,i=f.children[h],g=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){const o=i-t+1;let u=this._maxEntries,h;if(o<=u)return h=Tr(e.slice(t,i+1)),vr(h,this.toBBox),h;r||(r=Math.ceil(Math.log(o)/Math.log(u)),u=Math.ceil(o/Math.pow(u,r-1))),h=Tr([]),h.leaf=!1,h.height=r;const f=Math.ceil(o/u),g=f*Math.ceil(Math.sqrt(u));hx(e,t,i,g,this.compareMinX);for(let p=t;p<=i;p+=g){const y=Math.min(p+g-1,i);hx(e,p,y,f,this.compareMinY);for(let v=p;v<=y;v+=f){const b=Math.min(v+f-1,y);h.children.push(this._build(e,v,b,r-1))}}return vr(h,this.toBBox),h}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let o=1/0,u=1/0,h;for(let f=0;f<t.children.length;f++){const g=t.children[f],p=zd(g),y=bR(e,g)-p;y<u?(u=y,o=p<o?p:o,h=g):y===u&&p<o&&(o=p,h=g)}t=h||t.children[0]}return t}_insert(e,t,i){const r=i?e:this.toBBox(e),o=[],u=this._chooseSubtree(r,this.data,t,o);for(u.children.push(e),Ql(u,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){const i=e[t],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);const u=this._chooseSplitIndex(i,o,r),h=Tr(i.children.splice(u,i.children.length-u));h.height=i.height,h.leaf=i.leaf,vr(i,this.toBBox),vr(h,this.toBBox),t?e[t-1].children.push(h):this._splitRoot(i,h)}_splitRoot(e,t){this.data=Tr([e,t]),this.data.height=e.height+1,this.data.leaf=!1,vr(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,o=1/0,u=1/0;for(let h=t;h<=i-t;h++){const f=Wl(e,0,h,this.toBBox),g=Wl(e,h,i,this.toBBox),p=ER(f,g),y=zd(f)+zd(g);p<o?(o=p,r=h,u=y<u?y:u):p===o&&y<u&&(u=y,r=h)}return r||i-t}_chooseSplitAxis(e,t,i){const r=e.leaf?this.compareMinX:xR,o=e.leaf?this.compareMinY:vR,u=this._allDistMargin(e,t,i,r),h=this._allDistMargin(e,t,i,o);u<h&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);const o=this.toBBox,u=Wl(e,0,t,o),h=Wl(e,i-t,i,o);let f=tc(u)+tc(h);for(let g=t;g<i-t;g++){const p=e.children[g];Ql(u,e.leaf?o(p):p),f+=tc(u)}for(let g=i-t-1;g>=t;g--){const p=e.children[g];Ql(h,e.leaf?o(p):p),f+=tc(h)}return f}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)Ql(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():vr(e[t],this.toBBox)}};function _R(a,e,t){if(!t)return e.indexOf(a);for(let i=0;i<e.length;i++)if(t(a,e[i]))return i;return-1}function vr(a,e){Wl(a,0,a.children.length,e,a)}function Wl(a,e,t,i,r){r||(r=Tr(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<t;o++){const u=a.children[o];Ql(r,a.leaf?i(u):u)}return r}function Ql(a,e){return a.minX=Math.min(a.minX,e.minX),a.minY=Math.min(a.minY,e.minY),a.maxX=Math.max(a.maxX,e.maxX),a.maxY=Math.max(a.maxY,e.maxY),a}function xR(a,e){return a.minX-e.minX}function vR(a,e){return a.minY-e.minY}function zd(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function tc(a){return a.maxX-a.minX+(a.maxY-a.minY)}function bR(a,e){return(Math.max(e.maxX,a.maxX)-Math.min(e.minX,a.minX))*(Math.max(e.maxY,a.maxY)-Math.min(e.minY,a.minY))}function ER(a,e){const t=Math.max(a.minX,e.minX),i=Math.max(a.minY,e.minY),r=Math.min(a.maxX,e.maxX),o=Math.min(a.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,o-i)}function Fd(a,e){return a.minX<=e.minX&&a.minY<=e.minY&&e.maxX<=a.maxX&&e.maxY<=a.maxY}function nc(a,e){return e.minX<=a.maxX&&e.minY<=a.maxY&&e.maxX>=a.minX&&e.maxY>=a.minY}function Tr(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function hx(a,e,t,i,r){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;const u=e+Math.ceil((t-e)/i/2)*i;gv(a,u,e,t,r),o.push(e,u,u,t)}}const mm=[NaN,NaN,NaN,0];let Gd;function SR(){return Gd||(Gd=vt(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Gd}const wR=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,CR=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,RR=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,TR=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function ic(a,e){return a.endsWith("%")?Number(a.substring(0,a.length-1))/e:Number(a)}function io(a){throw new Error('failed to parse "'+a+'" as color')}function pv(a){if(a.toLowerCase().startsWith("rgb")){const o=a.match(CR)||a.match(wR)||a.match(RR);if(o){const u=o[4],h=100/255;return[it(ic(o[1],h)+.5|0,0,255),it(ic(o[2],h)+.5|0,0,255),it(ic(o[3],h)+.5|0,0,255),u!==void 0?it(ic(u,100),0,1):1]}io(a)}if(a.startsWith("#")){if(TR.test(a)){const o=a.substring(1),u=o.length<=4?1:2,h=[0,0,0,255];for(let f=0,g=o.length;f<g;f+=u){let p=parseInt(o.substring(f,f+u),16);u===1&&(p+=p<<4),h[f/u]=p}return h[3]=h[3]/255,h}io(a)}const e=SR();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=a,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=a,e.fillStyle===t&&io(a));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return pv(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=Xc(r[3]/255,3),r}function AR(a){return typeof a=="string"?a:ym(a)}const MR=1024,Vl={};let Ud=0;function LR(a){if(a.length===4)return a;const e=a.slice();return e[3]=1,e}function Pd(a){return a>.0031308?Math.pow(a,1/2.4)*269.025-14.025:a*3294.6}function Yd(a){return a>.2068965?Math.pow(a,3):(a-4/29)*(108/841)}function Xd(a){return a>10.314724?Math.pow((a+14.025)/269.025,2.4):a/3294.6}function Bd(a){return a>.0088564?Math.pow(a,1/3):a/(108/841)+4/29}function fx(a){const e=Xd(a[0]),t=Xd(a[1]),i=Xd(a[2]),r=Bd(e*.222488403+t*.716873169+i*.06060791),o=500*(Bd(e*.452247074+t*.399439023+i*.148375274)-r),u=200*(r-Bd(e*.016863605+t*.117638439+i*.865350722)),h=Math.atan2(u,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+u*u),h<0?h+360:h,a[3]]}function NR(a){const e=(a[0]+16)/116,t=a[1],i=a[2]*Math.PI/180,r=Yd(e),o=Yd(e+t/500*Math.cos(i)),u=Yd(e-t/200*Math.sin(i)),h=Pd(o*3.021973625-r*1.617392459-u*.404875592),f=Pd(o*-.943766287+r*1.916279586+u*.027607165),g=Pd(o*.069407491-r*.22898585+u*1.159737864);return[it(h+.5|0,0,255),it(f+.5|0,0,255),it(g+.5|0,0,255),a[3]]}function pm(a){if(a==="none")return mm;if(Vl.hasOwnProperty(a))return Vl[a];if(Ud>=MR){let t=0;for(const i in Vl)(t++&3)===0&&(delete Vl[i],--Ud)}const e=pv(a);e.length!==4&&io(a);for(const t of e)isNaN(t)&&io(a);return Vl[a]=e,++Ud,e}function zr(a){return Array.isArray(a)?a:pm(a)}function ym(a){let e=a[0];e!=(e|0)&&(e=e+.5|0);let t=a[1];t!=(t|0)&&(t=t+.5|0);let i=a[2];i!=(i|0)&&(i=i+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}function dx(a){return a[0]>0&&a[1]>0}function OR(a,e,t){return t===void 0&&(t=[0,0]),t[0]=a[0]*e+.5|0,t[1]=a[1]*e+.5|0,t}function on(a,e){return Array.isArray(a)?a:(e===void 0?e=[a,a]:(e[0]=a,e[1]=a),e)}let Oa=0;const Vt=1<<Oa++,De=1<<Oa++,an=1<<Oa++,Vn=1<<Oa++,Ra=1<<Oa++,Jl=1<<Oa++,sc=Math.pow(2,Oa)-1,_m={[Vt]:"boolean",[De]:"number",[an]:"string",[Vn]:"color",[Ra]:"number[]",[Jl]:"size"},DR=Object.keys(_m).map(Number).sort(Pi);function IR(a){return a in _m}function $l(a){const e=[];for(const t of DR)eo(a,t)&&e.push(_m[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function eo(a,e){return(a&e)===e}function Ss(a,e){return a===e}class yt{constructor(e,t){if(!IR(e))throw new Error(`literal expressions must have a specific type, got ${$l(e)}`);this.type=e,this.value=t}}class jR{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function yv(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function kt(a,e,t){switch(typeof a){case"boolean":{if(Ss(e,an))return new yt(an,a?"true":"false");if(!eo(e,Vt))throw new Error(`got a boolean, but expected ${$l(e)}`);return new yt(Vt,a)}case"number":{if(Ss(e,Jl))return new yt(Jl,on(a));if(Ss(e,Vt))return new yt(Vt,!!a);if(Ss(e,an))return new yt(an,a.toString());if(!eo(e,De))throw new Error(`got a number, but expected ${$l(e)}`);return new yt(De,a)}case"string":{if(Ss(e,Vn))return new yt(Vn,pm(a));if(Ss(e,Vt))return new yt(Vt,!!a);if(!eo(e,an))throw new Error(`got a string, but expected ${$l(e)}`);return new yt(an,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return VR(a,e,t);for(const i of a)if(typeof i!="number")throw new Error("expected an array of numbers");if(Ss(e,Jl)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new yt(Jl,a)}if(Ss(e,Vn)){if(a.length===3)return new yt(Vn,[...a,1]);if(a.length===4)return new yt(Vn,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!eo(e,Ra))throw new Error(`got an array of numbers, but expected ${$l(e)}`);return new yt(Ra,a)}const K={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},kR={[K.Get]:xe(Re(1,1/0),gx),[K.Var]:xe(Re(1,1),zR),[K.Has]:xe(Re(1,1/0),gx),[K.Id]:xe(FR,br),[K.Concat]:xe(Re(2,1/0),Pe(an)),[K.GeometryType]:xe(GR,br),[K.LineMetric]:xe(br),[K.Resolution]:xe(Hd,br),[K.Zoom]:xe(Hd,br),[K.Time]:xe(Hd,br),[K.Any]:xe(Re(2,1/0),Pe(Vt)),[K.All]:xe(Re(2,1/0),Pe(Vt)),[K.Not]:xe(Re(1,1),Pe(Vt)),[K.Equal]:xe(Re(2,2),Pe(sc)),[K.NotEqual]:xe(Re(2,2),Pe(sc)),[K.GreaterThan]:xe(Re(2,2),Pe(De)),[K.GreaterThanOrEqualTo]:xe(Re(2,2),Pe(De)),[K.LessThan]:xe(Re(2,2),Pe(De)),[K.LessThanOrEqualTo]:xe(Re(2,2),Pe(De)),[K.Multiply]:xe(Re(2,1/0),mx),[K.Coalesce]:xe(Re(2,1/0),mx),[K.Divide]:xe(Re(2,2),Pe(De)),[K.Add]:xe(Re(2,1/0),Pe(De)),[K.Subtract]:xe(Re(2,2),Pe(De)),[K.Clamp]:xe(Re(3,3),Pe(De)),[K.Mod]:xe(Re(2,2),Pe(De)),[K.Pow]:xe(Re(2,2),Pe(De)),[K.Abs]:xe(Re(1,1),Pe(De)),[K.Floor]:xe(Re(1,1),Pe(De)),[K.Ceil]:xe(Re(1,1),Pe(De)),[K.Round]:xe(Re(1,1),Pe(De)),[K.Sin]:xe(Re(1,1),Pe(De)),[K.Cos]:xe(Re(1,1),Pe(De)),[K.Atan]:xe(Re(1,2),Pe(De)),[K.Sqrt]:xe(Re(1,1),Pe(De)),[K.Match]:xe(Re(4,1/0),px,PR),[K.Between]:xe(Re(3,3),Pe(De)),[K.Interpolate]:xe(Re(6,1/0),px,YR),[K.Case]:xe(Re(3,1/0),UR,XR),[K.In]:xe(Re(2,2),BR),[K.Number]:xe(Re(1,1/0),Pe(sc)),[K.String]:xe(Re(1,1/0),Pe(sc)),[K.Array]:xe(Re(1,1/0),Pe(De)),[K.Color]:xe(Re(1,4),Pe(De)),[K.Band]:xe(Re(1,3),Pe(De)),[K.Palette]:xe(Re(2,2),HR),[K.ToString]:xe(Re(1,1),Pe(Vt|De|an|Vn))};function gx(a,e,t){const i=a.length-1,r=new Array(i);for(let o=0;o<i;++o){const u=a[o+1];switch(typeof u){case"number":{r[o]=new yt(De,u);break}case"string":{r[o]=new yt(an,u);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${u}`)}o===0&&t.properties.add(String(u))}return r}function zR(a,e,t){const i=a[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new yt(an,i)]}function FR(a,e,t){t.featureId=!0}function GR(a,e,t){t.geometryType=!0}function Hd(a,e,t){t.mapState=!0}function br(a,e,t){const i=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Re(a,e){return function(t,i,r){const o=t[0],u=t.length-1;if(a===e){if(u!==a){const h=a===1?"":"s";throw new Error(`expected ${a} argument${h} for ${o}, got ${u}`)}}else if(u<a||u>e){const h=e===1/0?`${a} or more`:`${a} to ${e}`;throw new Error(`expected ${h} arguments for ${o}, got ${u}`)}}}function mx(a,e,t){const i=a.length-1,r=new Array(i);for(let o=0;o<i;++o){const u=kt(a[o+1],e,t);r[o]=u}return r}function Pe(a){return function(e,t,i){const r=e.length-1,o=new Array(r);for(let u=0;u<r;++u){const h=kt(e[u+1],a,i);o[u]=h}return o}}function UR(a,e,t){const i=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function px(a,e,t){const i=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function PR(a,e,t){const i=a.length-1,r=an|De|Vt,o=kt(a[1],r,t),u=kt(a[a.length-1],e,t),h=new Array(i-2);for(let f=0;f<i-2;f+=2){try{const g=kt(a[f+2],o.type,t);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+1} of match expression: ${g.message}`)}try{const g=kt(a[f+3],u.type,t);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+2} of match expression: ${g.message}`)}}return[o,...h,u]}function YR(a,e,t){const i=a[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const f=i[1];if(typeof f!="number"||f<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(f)} instead`);r=f;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new yt(De,r);let u;try{u=kt(a[2],De,t)}catch(f){throw new Error(`failed to parse argument 1 in interpolate expression: ${f.message}`)}const h=new Array(a.length-3);for(let f=0;f<h.length;f+=2){try{const g=kt(a[f+3],De,t);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+2} for interpolate expression: ${g.message}`)}try{const g=kt(a[f+4],e,t);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+3} for interpolate expression: ${g.message}`)}}return[o,u,...h]}function XR(a,e,t){const i=kt(a[a.length-1],e,t),r=new Array(a.length-1);for(let o=0;o<r.length-1;o+=2){try{const u=kt(a[o+1],Vt,t);r[o]=u}catch(u){throw new Error(`failed to parse argument ${o} of case expression: ${u.message}`)}try{const u=kt(a[o+2],i.type,t);r[o+1]=u}catch(u){throw new Error(`failed to parse argument ${o+1} of case expression: ${u.message}`)}}return r[r.length-1]=i,r}function BR(a,e,t){let i=a[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=an}else r=De;const o=new Array(i.length);for(let h=0;h<o.length;h++)try{const f=kt(i[h],r,t);o[h]=f}catch(f){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${f.message}`)}return[kt(a[1],r,t),...o]}function HR(a,e,t){let i;try{i=kt(a[1],De,t)}catch(u){throw new Error(`failed to parse first argument in palette expression: ${u.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let u=0;u<o.length;u++){let h;try{h=kt(r[u],Vn,t)}catch(f){throw new Error(`failed to parse color at index ${u} in palette expression: ${f.message}`)}if(!(h instanceof yt))throw new Error(`the palette color at index ${u} must be a literal value`);o[u]=h}return[i,...o]}function xe(...a){return function(e,t,i){const r=e[0];let o;for(let u=0;u<a.length;u++){const h=a[u](e,t,i);if(u==a.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new jR(t,r,...o)}}function VR(a,e,t){const i=a[0],r=kR[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(a,e,t)}function _v(a){if(!a)return"";const e=a.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return _v(a.getGeometries()[0]);default:return""}}function xv(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Ki(a,e,t){const i=kt(a,e,t);return Kn(i)}function Kn(a,e){if(a instanceof yt){if(a.type===Vn&&typeof a.value=="string"){const i=pm(a.value);return function(){return i}}return function(){return a.value}}const t=a.operator;switch(t){case K.Number:case K.String:case K.Coalesce:return ZR(a);case K.Get:case K.Var:case K.Has:return KR(a);case K.Id:return i=>i.featureId;case K.GeometryType:return i=>i.geometryType;case K.Concat:{const i=a.args.map(r=>Kn(r));return r=>"".concat(...i.map(o=>o(r).toString()))}case K.Resolution:return i=>i.resolution;case K.Any:case K.All:case K.Between:case K.In:case K.Not:return WR(a);case K.Equal:case K.NotEqual:case K.LessThan:case K.LessThanOrEqualTo:case K.GreaterThan:case K.GreaterThanOrEqualTo:return qR(a);case K.Multiply:case K.Divide:case K.Add:case K.Subtract:case K.Clamp:case K.Mod:case K.Pow:case K.Abs:case K.Floor:case K.Ceil:case K.Round:case K.Sin:case K.Cos:case K.Atan:case K.Sqrt:return QR(a);case K.Case:return JR(a);case K.Match:return $R(a);case K.Interpolate:return eT(a);case K.ToString:return tT(a);default:throw new Error(`Unsupported operator ${t}`)}}function ZR(a,e){const t=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Kn(a.args[o]);switch(t){case K.Coalesce:return o=>{for(let u=0;u<i;++u){const h=r[u](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case K.Number:case K.String:return o=>{for(let u=0;u<i;++u){const h=r[u](o);if(typeof h===t)return h}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function KR(a,e){const i=a.args[0].value;switch(a.operator){case K.Get:return r=>{const o=a.args;let u=r.properties[i];for(let h=1,f=o.length;h<f;++h){const p=o[h].value;u=u[p]}return u};case K.Var:return r=>r.variables[i];case K.Has:return r=>{const o=a.args;if(!(i in r.properties))return!1;let u=r.properties[i];for(let h=1,f=o.length;h<f;++h){const p=o[h].value;if(!u||!Object.hasOwn(u,p))return!1;u=u[p]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function qR(a,e){const t=a.operator,i=Kn(a.args[0]),r=Kn(a.args[1]);switch(t){case K.Equal:return o=>i(o)===r(o);case K.NotEqual:return o=>i(o)!==r(o);case K.LessThan:return o=>i(o)<r(o);case K.LessThanOrEqualTo:return o=>i(o)<=r(o);case K.GreaterThan:return o=>i(o)>r(o);case K.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${t}`)}}function WR(a,e){const t=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Kn(a.args[o]);switch(t){case K.Any:return o=>{for(let u=0;u<i;++u)if(r[u](o))return!0;return!1};case K.All:return o=>{for(let u=0;u<i;++u)if(!r[u](o))return!1;return!0};case K.Between:return o=>{const u=r[0](o),h=r[1](o),f=r[2](o);return u>=h&&u<=f};case K.In:return o=>{const u=r[0](o);for(let h=1;h<i;++h)if(u===r[h](o))return!0;return!1};case K.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${t}`)}}function QR(a,e){const t=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Kn(a.args[o]);switch(t){case K.Multiply:return o=>{let u=1;for(let h=0;h<i;++h)u*=r[h](o);return u};case K.Divide:return o=>r[0](o)/r[1](o);case K.Add:return o=>{let u=0;for(let h=0;h<i;++h)u+=r[h](o);return u};case K.Subtract:return o=>r[0](o)-r[1](o);case K.Clamp:return o=>{const u=r[0](o),h=r[1](o);if(u<h)return h;const f=r[2](o);return u>f?f:u};case K.Mod:return o=>r[0](o)%r[1](o);case K.Pow:return o=>Math.pow(r[0](o),r[1](o));case K.Abs:return o=>Math.abs(r[0](o));case K.Floor:return o=>Math.floor(r[0](o));case K.Ceil:return o=>Math.ceil(r[0](o));case K.Round:return o=>Math.round(r[0](o));case K.Sin:return o=>Math.sin(r[0](o));case K.Cos:return o=>Math.cos(r[0](o));case K.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case K.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${t}`)}}function JR(a,e){const t=a.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Kn(a.args[r]);return r=>{for(let o=0;o<t-1;o+=2)if(i[o](r))return i[o+1](r);return i[t-1](r)}}function $R(a,e){const t=a.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Kn(a.args[r]);return r=>{const o=i[0](r);for(let u=1;u<t-1;u+=2)if(o===i[u](r))return i[u+1](r);return i[t-1](r)}}function eT(a,e){const t=a.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Kn(a.args[r]);return r=>{const o=i[0](r),u=i[1](r);let h,f;for(let g=2;g<t;g+=2){const p=i[g](r);let y=i[g+1](r);const v=Array.isArray(y);if(v&&(y=LR(y)),p>=u)return g===2?y:v?nT(o,u,h,f,p,y):to(o,u,h,f,p,y);h=p,f=y}return f}}function tT(a,e){const t=a.operator,i=a.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Kn(a.args[o]);if(t===K.ToString)return o=>{const u=r[0](o);return a.args[0].type===Vn?ym(u):u.toString()};throw new Error(`Unsupported convert operator ${t}`)}function to(a,e,t,i,r,o){const u=r-t;if(u===0)return i;const h=e-t,f=a===1?h/u:(Math.pow(a,h)-1)/(Math.pow(a,u)-1);return i+f*(o-i)}function nT(a,e,t,i,r,o){if(r-t===0)return i;const h=fx(i),f=fx(o);let g=f[2]-h[2];g>180?g-=360:g<-180&&(g+=360);const p=[to(a,e,t,h[0],r,f[0]),to(a,e,t,h[1],r,f[1]),h[2]+to(a,e,t,0,r,g),to(a,e,t,i[3],r,o[3])];return NR(p)}const fe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class xm extends Co{constructor(e,t,i,r){super(),this.extent=e,this.pixelRatio_=i,this.resolution=t,this.state=typeof r=="function"?fe.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(be.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==fe.IDLE&&this.loader){this.state=fe.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;R1(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(i=>{"image"in i&&(this.image_=i.image),"extent"in i&&(this.extent=i.extent),"resolution"in i&&(this.resolution=i.resolution),"pixelRatio"in i&&(this.pixelRatio_=i.pixelRatio),(i instanceof HTMLImageElement||A1&&i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement)&&(this.image_=i),this.state=fe.LOADED}).catch(i=>{this.state=fe.ERROR,console.error(i)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function iT(a,e,t){const i=a;let r=!0,o=!1,u=!1;const h=[_c(i,be.LOAD,function(){u=!0,o||e()})];return i.src&&Gg?(o=!0,i.decode().then(function(){r&&e()}).catch(function(f){r&&(u?e():t())})):h.push(_c(i,be.ERROR,t)),function(){r=!1,h.forEach(Qe)}}function sT(a,e){return new Promise((t,i)=>{function r(){u(),t(a)}function o(){u(),i(new Error("Image load error"))}function u(){a.removeEventListener("load",r),a.removeEventListener("error",o)}a.addEventListener("load",r),a.addEventListener("error",o)})}function vv(a,e){return e&&(a.src=e),a.src&&Gg?new Promise((t,i)=>a.decode().then(()=>t(a)).catch(r=>a.complete&&a.width?t(a):i(r))):sT(a)}function bv(a,e){return e&&(a.src=e),a.src&&Gg&&A1?a.decode().then(()=>createImageBitmap(a)).catch(t=>{if(a.complete&&a.width)return a;throw t}):vv(a)}class aT{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const r=Vd(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){const r=Vd(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,o){const u=Vd(e,t,i),h=u in this.cache_;this.cache_[u]=r,o&&(r.getImageState()===fe.IDLE&&r.load(),r.getImageState()===fe.LOADING?r.ready().then(()=>{this.patternCache_[u]=Rc().createPattern(r.getImage(1),"repeat")}):this.patternCache_[u]=Rc().createPattern(r.getImage(1),"repeat")),h||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Vd(a,e,t){const i=t?zr(t):"null";return e+":"+a+":"+i}const In=new aT;let Zl=null;class Ev extends Co{constructor(e,t,i,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?fe.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===fe.LOADED){Zl||(Zl=vt(1,1,void 0,{willReadFrequently:!0})),Zl.drawImage(this.image_,0,0);try{Zl.getImageData(0,0,1,1),this.tainted_=!1}catch{Zl=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(be.CHANGE)}handleImageError_(){this.imageState_=fe.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=fe.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=vt(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===fe.IDLE){this.image_||this.initializeImage_(),this.imageState_=fe.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&vv(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==fe.LOADED)return;const t=this.image_,i=vt(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=AR(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===fe.LOADED||this.imageState_===fe.ERROR)e();else{const t=()=>{(this.imageState_===fe.LOADED||this.imageState_===fe.ERROR)&&(this.removeEventListener(be.CHANGE,t),e())};this.addEventListener(be.CHANGE,t)}})),this.ready_}}function Tc(a,e,t,i,r,o){let u=e===void 0?void 0:In.get(e,t,r);return u||(u=new Ev(a,a&&"src"in a?a.src||void 0:e,t,i,r),In.set(e,t,r,u,o)),o&&u&&!In.getPattern(e,t,r)&&In.set(e,t,r,u,o),u}function oi(a){return a?Array.isArray(a)?ym(a):typeof a=="object"&&"src"in a?rT(a):a:null}function rT(a){if(!a.offset||!a.size)return In.getPattern(a.src,"anonymous",a.color);const e=a.src+":"+a.offset,t=In.getPattern(e,void 0,a.color);if(t)return t;const i=In.get(a.src,"anonymous",null);if(i.getImageState()!==fe.LOADED)return null;const r=vt(a.size[0],a.size[1]);return r.drawImage(i.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),Tc(r.canvas,e,void 0,fe.LOADED,a.color,!0),In.getPattern(e,void 0,a.color)}const Sv="10px sans-serif",rn="#000",Fr="round",Xi=[],Bi=0,Gr="round",fo=10,go="#000",mo="center",Ac="middle",_a=[0,0,0,0],po=1,Ar=new di;let Kl=null,yx;const wg={},lT=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function oT(a,e,t){return`${a} ${e} 16px "${t}"`}const uT=(function(){let e,t;async function i(o){await t.ready;const u=await t.load(o);if(u.length===0)return!1;const h=Eg(o),f=h.families[0].toLowerCase(),g=h.weight;return u.some(p=>{const y=p.family.replace(/^['"]|['"]$/g,"").toLowerCase(),v=bg[p.weight]||p.weight;return y===f&&p.style===h.style&&v==g})}async function r(){await t.ready;let o=!0;const u=Ar.getProperties(),h=Object.keys(u).filter(f=>u[f]<100);for(let f=h.length-1;f>=0;--f){const g=h[f];let p=u[g];p<100&&(await i(g)?(wo(wg),Ar.set(g,100)):(p+=10,Ar.set(g,p,!0),p<100&&(o=!1)))}e=void 0,o||(e=setTimeout(r,100))}return async function(o){t||(t=On?self.fonts:document.fonts);const u=Eg(o);if(!u)return;const h=u.families;let f=!1;for(const g of h){if(lT.has(g))continue;const p=oT(u.style,u.weight,g);Ar.get(p)===void 0&&(Ar.set(p,0,!0),f=!0)}f&&(clearTimeout(e),e=setTimeout(r,100))}})(),cT=(function(){let a;return function(e){let t=wg[e];if(t==null){if(On){const i=Eg(e),r=wv(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=e,document.body.appendChild(a),t=a.offsetHeight,document.body.removeChild(a);wg[e]=t}return t}})();function wv(a,e){return Kl||(Kl=vt(1,1)),a!=yx&&(Kl.font=a,yx=Kl.font),Kl.measureText(e)}function Cv(a,e){return wv(a,e).width}function _x(a,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((r,o)=>Math.max(r,Cv(a,o)),0);return t[e]=i,i}function hT(a,e){const t=[],i=[],r=[];let o=0,u=0,h=0,f=0;for(let g=0,p=e.length;g<=p;g+=2){const y=e[g];if(y===`
`||g===p){o=Math.max(o,u),r.push(u),u=0,h+=f,f=0;continue}const v=e[g+1]||a.font,b=Cv(v,y);t.push(b),u+=b;const S=cT(v);i.push(S),f=Math.max(f,S)}return{width:o,height:h,widths:t,heights:i,lineWidths:r}}function fT(a,e,t,i,r,o,u,h,f,g,p){a.save(),t!==1&&(a.globalAlpha===void 0?a.globalAlpha=y=>y.globalAlpha*=t:a.globalAlpha*=t),e&&a.transform.apply(a,e),i.contextInstructions?(a.translate(f,g),a.scale(p[0],p[1]),dT(i,a)):p[0]<0||p[1]<0?(a.translate(f,g),a.scale(p[0],p[1]),a.drawImage(i,r,o,u,h,0,0,u,h)):a.drawImage(i,r,o,u,h,f,g,u*p[0],h*p[1]),a.restore()}function dT(a,e){const t=a.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class th{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=on(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new th({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ve()}getImage(e){return ve()}getHitDetectionImage(){return ve()}getPixelRatio(e){return 1}getImageState(){return ve()}getImageSize(){return ve()}getOrigin(){return ve()}getSize(){return ve()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=on(e)}listenImageChange(e){ve()}load(){ve()}unlistenImageChange(e){ve()}ready(){return Promise.resolve()}}class nh extends th{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?fe.LOADING:fe.LOADED,this.imageState_===fe.LOADING&&this.ready().then(()=>this.imageState_=fe.LOADED),this.render()}clone(){const e=this.getScale(),t=new nh({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){const t=this.fill_?.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=In.get(i,null,null)?.getImage(1);if(!r){const o=this.renderOptions_,u=Math.ceil(o.size*e),h=vt(u,u);this.draw_(o,h,e),r=h.canvas,In.set(i,null,null,new Ev(r,void 0,null,fe.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const D=r;r=o,o=D}const u=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/u,f=o*Math.sin(h),g=Math.sqrt(o*o-f*f),p=r-g,y=Math.sqrt(f*f+p*p),v=y/f;if(e==="miter"&&v<=i)return v*t;const b=t/2/v,S=t/2*(p/y),w=Math.sqrt((r+b)*(r+b)+S*S)-r;if(this.radius2_===void 0||e==="bevel")return w*2;const R=r*Math.sin(h),T=Math.sqrt(r*r-R*R),z=o-T,O=Math.sqrt(R*R+z*z)/R;if(O<=i){const D=O*t/2-o-r;return 2*Math.max(w,D)}return w*2}createRenderOptions(){let e=Fr,t=Gr,i=0,r=null,o=0,u,h=0;this.stroke_&&(u=oi(this.stroke_.getColor()??go),h=this.stroke_.getWidth()??po,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??Gr,e=this.stroke_.getLineCap()??Fr,i=this.stroke_.getMiterLimit()??fo);const f=this.calculateLineJoinSize_(t,h,i),g=Math.max(this.radius,this.radius2_||0),p=Math.ceil(2*g+f);return{strokeStyle:u,strokeWidth:h,size:p,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=rn),t.fillStyle=oi(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=zr(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=vt(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const o=this.angle_-Math.PI/2,u=2*Math.PI/t;for(let h=0;h<t;h++){const f=o+h*u,g=h%2===0?i:r;e.lineTo(g*Math.cos(f),g*Math.sin(f))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=rn,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class ih extends nh{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new ih({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class Us{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Us({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=Tc(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===fe.IDLE&&t.load(),t.getImageState()===fe.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Ge(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:zr(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function xx(a,e,t,i){return t!==void 0&&i!==void 0?[t/a,i/e]:t!==void 0?t/a:i!==void 0?i/e:1}let Rv=class Tv extends th{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const u=e.img!==void 0?e.img:null;let h=e.src;Ye(!(h!==void 0&&u),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&u&&(h=u.src||Ge(u)),Ye(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Ye(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let f;if(e.src!==void 0?f=fe.IDLE:u!==void 0&&("complete"in u?u.complete?f=u.src?fe.LOADED:fe.IDLE:f=fe.LOADING:f=fe.LOADED),this.color_=e.color!==void 0?zr(e.color):null,this.iconImage_=Tc(u,h,this.crossOrigin_,f,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let g,p;if(e.size)[g,p]=e.size;else{const y=this.getImage(1);if(y.width&&y.height)g=y.width,p=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=e;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const b=this.iconImage_.getSize();this.setScale(xx(b[0],b[1],e.width,e.height))};this.listenImageChange(v);return}}g!==void 0&&this.setScale(xx(g,p,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Tv({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}setSrc(e){this.iconImage_=Tc(null,e,this.crossOrigin_,fe.IDLE,this.color_)}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==fe.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==fe.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(be.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(be.CHANGE,e)}ready(){return this.iconImage_.ready()}};class Vr{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Vr({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Hi{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=vx,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Hi({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=vx,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function gT(a){let e;if(typeof a=="function")e=a;else{let t;Array.isArray(a)?t=a:(Ye(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[a]),e=function(){return t}}return e}let Zd=null;function Av(a,e){if(!Zd){const t=new Us({color:"rgba(255,255,255,0.4)"}),i=new Vr({color:"#3399CC",width:1.25});Zd=[new Hi({image:new ih({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return Zd}function vx(a){return a.getGeometry()}const mT="#333";let pT=class Mv{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=on(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Us({color:mT}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Mv({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()instanceof Us?this.getFill().clone():this.getFill(),stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=on(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}};function yT(a){return!0}function _T(a){const e=yv(),t=xT(a,e),i=xv();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,e.featureId){const u=r.getId();u!==void 0?i.featureId=u:i.featureId=null}return e.geometryType&&(i.geometryType=_v(r.getGeometry())),t(i)}}function bx(a){const e=yv(),t=a.length,i=new Array(t);for(let u=0;u<t;++u)i[u]=Cg(a[u],e);const r=xv(),o=new Array(t);return function(u,h){if(r.properties=u.getPropertiesInternal(),r.resolution=h,e.featureId){const g=u.getId();g!==void 0?r.featureId=g:r.featureId=null}let f=0;for(let g=0;g<t;++g){const p=i[g](r);p&&(o[f]=p,f+=1)}return o.length=f,o}}function xT(a,e){const t=a.length,i=new Array(t);for(let r=0;r<t;++r){const o=a[r],u="filter"in o?Ki(o.filter,Vt,e):yT;let h;if(Array.isArray(o.style)){const f=o.style.length;h=new Array(f);for(let g=0;g<f;++g)h[g]=Cg(o.style[g],e)}else h=[Cg(o.style,e)];i[r]={filter:u,styles:h}}return function(r){const o=[];let u=!1;for(let h=0;h<t;++h){const f=i[h].filter;if(f(r)&&!(a[h].else&&u)){u=!0;for(const g of i[h].styles){const p=g(r);p&&o.push(p)}}}return o}}function Cg(a,e){const t=yo(a,"",e),i=_o(a,"",e),r=vT(a,e),o=bT(a,e),u=ln(a,"z-index",e);if(!t&&!i&&!r&&!o&&!Sa(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const h=new Hi;return function(f){let g=!0;if(t){const p=t(f);p&&(g=!1),h.setFill(p)}if(i){const p=i(f);p&&(g=!1),h.setStroke(p)}if(r){const p=r(f);p&&(g=!1),h.setText(p)}if(o){const p=o(f);p&&(g=!1),h.setImage(p)}return u&&h.setZIndex(u(f)),g?null:h}}function yo(a,e,t){let i;if(e+"fill-pattern-src"in a)i=CT(a,e+"fill-",t);else{if(a[e+"fill-color"]==="none")return o=>null;i=vm(a,e+"fill-color",t)}if(!i)return null;const r=new Us;return function(o){const u=i(o);return u===mm?null:(r.setColor(u),r)}}function _o(a,e,t){const i=ln(a,e+"stroke-width",t),r=vm(a,e+"stroke-color",t);if(!i&&!r)return null;const o=Gi(a,e+"stroke-line-cap",t),u=Gi(a,e+"stroke-line-join",t),h=Lv(a,e+"stroke-line-dash",t),f=ln(a,e+"stroke-line-dash-offset",t),g=ln(a,e+"stroke-miter-limit",t),p=new Vr;return function(y){if(r){const v=r(y);if(v===mm)return null;p.setColor(v)}if(i&&p.setWidth(i(y)),o){const v=o(y);if(v!=="butt"&&v!=="round"&&v!=="square")throw new Error("Expected butt, round, or square line cap");p.setLineCap(v)}if(u){const v=u(y);if(v!=="bevel"&&v!=="round"&&v!=="miter")throw new Error("Expected bevel, round, or miter line join");p.setLineJoin(v)}return h&&p.setLineDash(h(y)),f&&p.setLineDashOffset(f(y)),g&&p.setMiterLimit(g(y)),p}}function vT(a,e){const t="text-",i=Gi(a,t+"value",e);if(!i)return null;const r=yo(a,t,e),o=yo(a,t+"background-",e),u=_o(a,t,e),h=_o(a,t+"background-",e),f=Gi(a,t+"font",e),g=ln(a,t+"max-angle",e),p=ln(a,t+"offset-x",e),y=ln(a,t+"offset-y",e),v=Or(a,t+"overflow",e),b=Gi(a,t+"placement",e),S=ln(a,t+"repeat",e),C=sh(a,t+"scale",e),w=Or(a,t+"rotate-with-view",e),R=ln(a,t+"rotation",e),T=Gi(a,t+"align",e),z=Gi(a,t+"justify",e),A=Gi(a,t+"baseline",e),O=Or(a,t+"keep-upright",e),D=Lv(a,t+"padding",e),M=ah(a,t+"declutter-mode"),P=new pT({declutterMode:M});return function(U){if(P.setText(i(U)),r&&P.setFill(r(U)),o&&P.setBackgroundFill(o(U)),u&&P.setStroke(u(U)),h&&P.setBackgroundStroke(h(U)),f&&P.setFont(f(U)),g&&P.setMaxAngle(g(U)),p&&P.setOffsetX(p(U)),y&&P.setOffsetY(y(U)),v&&P.setOverflow(v(U)),b){const J=b(U);if(J!=="point"&&J!=="line")throw new Error("Expected point or line for text-placement");P.setPlacement(J)}if(S&&P.setRepeat(S(U)),C&&P.setScale(C(U)),w&&P.setRotateWithView(w(U)),R&&P.setRotation(R(U)),T){const J=T(U);if(J!=="left"&&J!=="center"&&J!=="right"&&J!=="end"&&J!=="start")throw new Error("Expected left, right, center, start, or end for text-align");P.setTextAlign(J)}if(z){const J=z(U);if(J!=="left"&&J!=="right"&&J!=="center")throw new Error("Expected left, right, or center for text-justify");P.setJustify(J)}if(A){const J=A(U);if(J!=="bottom"&&J!=="top"&&J!=="middle"&&J!=="alphabetic"&&J!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");P.setTextBaseline(J)}return D&&P.setPadding(D(U)),O&&P.setKeepUpright(O(U)),P}}function bT(a,e){return"icon-src"in a?ET(a,e):"shape-points"in a?ST(a,e):"circle-radius"in a?wT(a,e):null}function ET(a,e){const t="icon-",i=t+"src",r=Nv(a[i],i),o=Mc(a,t+"anchor",e),u=sh(a,t+"scale",e),h=ln(a,t+"opacity",e),f=Mc(a,t+"displacement",e),g=ln(a,t+"rotation",e),p=Or(a,t+"rotate-with-view",e),y=Sx(a,t+"anchor-origin"),v=wx(a,t+"anchor-x-units"),b=wx(a,t+"anchor-y-units"),S=MT(a,t+"color"),C=TT(a,t+"cross-origin"),w=AT(a,t+"offset"),R=Sx(a,t+"offset-origin"),T=Lc(a,t+"width"),z=Lc(a,t+"height"),A=RT(a,t+"size"),O=ah(a,t+"declutter-mode"),D=new Rv({src:r,anchorOrigin:y,anchorXUnits:v,anchorYUnits:b,color:S,crossOrigin:C,offset:w,offsetOrigin:R,height:z,width:T,size:A,declutterMode:O});return function(M){return h&&D.setOpacity(h(M)),f&&D.setDisplacement(f(M)),g&&D.setRotation(g(M)),p&&D.setRotateWithView(p(M)),u&&D.setScale(u(M)),o&&D.setAnchor(o(M)),D}}function ST(a,e){const t="shape-",i=t+"points",r=t+"radius",o=Rg(a[i],i),u=Rg(a[r],r),h=yo(a,t,e),f=_o(a,t,e),g=sh(a,t+"scale",e),p=Mc(a,t+"displacement",e),y=ln(a,t+"rotation",e),v=Or(a,t+"rotate-with-view",e),b=Lc(a,t+"radius2"),S=Lc(a,t+"angle"),C=ah(a,t+"declutter-mode"),w=new nh({points:o,radius:u,radius2:b,angle:S,declutterMode:C});return function(R){return h&&w.setFill(h(R)),f&&w.setStroke(f(R)),p&&w.setDisplacement(p(R)),y&&w.setRotation(y(R)),v&&w.setRotateWithView(v(R)),g&&w.setScale(g(R)),w}}function wT(a,e){const t="circle-",i=yo(a,t,e),r=_o(a,t,e),o=ln(a,t+"radius",e),u=sh(a,t+"scale",e),h=Mc(a,t+"displacement",e),f=ln(a,t+"rotation",e),g=Or(a,t+"rotate-with-view",e),p=ah(a,t+"declutter-mode"),y=new ih({radius:5,declutterMode:p});return function(v){return o&&y.setRadius(o(v)),i&&y.setFill(i(v)),r&&y.setStroke(r(v)),h&&y.setDisplacement(h(v)),f&&y.setRotation(f(v)),g&&y.setRotateWithView(g(v)),u&&y.setScale(u(v)),y}}function ln(a,e,t){if(!(e in a))return;const i=Ki(a[e],De,t);return function(r){return Rg(i(r),e)}}function Gi(a,e,t){if(!(e in a))return null;const i=Ki(a[e],an,t);return function(r){return Nv(i(r),e)}}function CT(a,e,t){const i=Gi(a,e+"pattern-src",t),r=Ex(a,e+"pattern-offset",t),o=Ex(a,e+"pattern-size",t),u=vm(a,e+"color",t);return function(h){return{src:i(h),offset:r&&r(h),size:o&&o(h),color:u&&u(h)}}}function Or(a,e,t){if(!(e in a))return null;const i=Ki(a[e],Vt,t);return function(r){const o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function vm(a,e,t){if(!(e in a))return null;const i=Ki(a[e],Vn,t);return function(r){return Ov(i(r),e)}}function Lv(a,e,t){if(!(e in a))return null;const i=Ki(a[e],Ra,t);return function(r){return Do(i(r),e)}}function Mc(a,e,t){if(!(e in a))return null;const i=Ki(a[e],Ra,t);return function(r){const o=Do(i(r),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function Ex(a,e,t){if(!(e in a))return null;const i=Ki(a[e],Ra,t);return function(r){return Dv(i(r),e)}}function sh(a,e,t){if(!(e in a))return null;const i=Ki(a[e],Ra|De,t);return function(r){return LT(i(r),e)}}function Lc(a,e){const t=a[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function RT(a,e){const t=a[e];if(t!==void 0){if(typeof t=="number")return on(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function TT(a,e){const t=a[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function Sx(a,e){const t=a[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function wx(a,e){const t=a[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function AT(a,e){const t=a[e];if(t!==void 0)return Do(t,e)}function ah(a,e){const t=a[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function MT(a,e){const t=a[e];if(t!==void 0)return Ov(t,e)}function Do(a,e){if(!Array.isArray(a))throw new Error(`Expected an array for ${e}`);const t=a.length;for(let i=0;i<t;++i)if(typeof a[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return a}function Nv(a,e){if(typeof a!="string")throw new Error(`Expected a string for ${e}`);return a}function Rg(a,e){if(typeof a!="number")throw new Error(`Expected a number for ${e}`);return a}function Ov(a,e){if(typeof a=="string")return a;const t=Do(a,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function Dv(a,e){const t=Do(a,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function LT(a,e){return typeof a=="number"?a:Dv(a,e)}const Cx={RENDER_ORDER:"renderOrder"};class Iv extends Oo{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Cx.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new mv(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(Cx.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?Av:e;const t=NT(e);this.styleFunction_=e===null?void 0:gT(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function NT(a){if(a===void 0)return Av;if(!a)return null;if(typeof a=="function"||a instanceof Hi)return a;if(!Array.isArray(a))return bx([a]);if(a.length===0)return[];const e=a.length,t=a[0];if(t instanceof Hi){const r=new Array(e);for(let o=0;o<e;++o){const u=a[o];if(!(u instanceof Hi))throw new Error("Expected a list of style instances");r[o]=u}return r}if("style"in t){const r=new Array(e);for(let o=0;o<e;++o){const u=a[o];if(!("style"in u))throw new Error("Expected a list of rules with a style property");r[o]=u}return _T(r)}return bx(a)}class jv extends fi{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}}class OT extends Uc{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){ve()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;hi(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),K1(r,i)}forEachFeatureAtCoordinate(e,t,i,r,o,u,h,f){let g;const p=t.viewState;function y(A,O,D,M){return o.call(u,O,A?D:null,M)}const v=p.projection,b=F1(e.slice(),v),S=[[0,0]];if(v.canWrapX()&&r){const A=v.getExtent(),O=ke(A);S.push([-O,0],[O,0])}const C=t.layerStatesArray,w=C.length,R=[],T=[];for(let A=0;A<S.length;A++)for(let O=w-1;O>=0;--O){const D=C[O],M=D.layer;if(M.hasRenderer()&&gm(D,p)&&h.call(f,M)){const P=M.getRenderer(),U=M.getSource();if(P&&U){const J=U.getWrapX()?b:e,Q=y.bind(null,D.managed);T[0]=J[0]+S[A][0],T[1]=J[1]+S[A][1],g=P.forEachFeatureAtCoordinate(T,t,i,Q,R)}if(g)return g}}if(R.length===0)return;const z=1/R.length;return R.forEach((A,O)=>A.distanceSq+=O*z),R.sort((A,O)=>A.distanceSq-O.distanceSq),R.some(A=>g=A.callback(A.feature,A.layer,A.geometry)),g}hasFeatureAtCoordinate(e,t,i,r,o,u){return this.forEachFeatureAtCoordinate(e,t,i,r,ro,this,o,u)!==void 0}getMap(){return this.map_}renderFrame(e){ve()}scheduleExpireIconCache(e){In.canExpireCache()&&e.postRenderFunctions.push(DT)}}function DT(a,e){In.expire()}class IT extends OT{constructor(e){super(e),this.fontChangeListenerKey_=je(Ar,Ir.PROPERTYCHANGE,e.redrawText,e),this.element_=On?lv():document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=$c+" ol-layers";const i=e.getViewport();i&&i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new jv(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Qe(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Dn.PRECOMPOSE,e);const t=e.layerStatesArray.sort((g,p)=>g.zIndex-p.zIndex);t.some(g=>g.layer instanceof Iv&&g.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const o=[];let u=null;for(let g=0,p=t.length;g<p;++g){const y=t[g];e.layerIndex=g;const v=y.layer,b=v.getSourceState();if(!gm(y,r)||b!="ready"&&b!="undefined"){v.unrender();continue}const S=v.render(e,u);S&&(S!==u&&(this.children_.push(S),u=S),o.push(y))}this.declutter(e,o),HC(this.element_,this.children_);const f=this.getMap().getTargetElement();if(Is(f)){const g=f.getContext("2d");for(const p of this.children_){const y=p.firstElementChild||p,v=p.style.backgroundColor;if(v&&(!Is(y)||y.width>0)&&(g.fillStyle=v,g.fillRect(0,0,f.width,f.height)),Is(y)&&y.width>0){const b=p.style.opacity||y.style.opacity;g.globalAlpha=b===""?1:Number(b);const S=y.style.transform;if(S)g.setTransform(..._g(S));else{const C=parseFloat(y.style.width)/y.width,w=parseFloat(y.style.height)/y.height;g.setTransform(C,0,0,w,0,0)}g.drawImage(y,0,0)}}g.globalAlpha=1,g.setTransform(1,0,0,1,0,0)}this.dispatchRenderEvent(Dn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const r=t[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}}function kv(a){if(a instanceof Oo){a.setMapInternal(null);return}a instanceof Hr&&a.getLayers().forEach(kv)}function zv(a,e){if(a instanceof Oo){a.setMapInternal(e);return}if(a instanceof Hr){const t=a.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)zv(t[i],e)}}let jT=class extends di{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=kT(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:vw,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Zn(),this.pixelToCoordinateTransform_=Zn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,On||(this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_)),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,On||(this.resizeObserver_=new ResizeObserver(()=>this.updateSize())),this.controls=t.controls||(On?new Nn:ov()),this.interactions=t.interactions||(On?new Nn:pR({onFocusOnly:!0})),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Sw(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Pt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Pt.VIEW,this.handleViewChanged_),this.addChangeListener(Pt.SIZE,this.handleSizeChanged_),this.addChangeListener(Pt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof ai)&&e.view.then(function(r){i.setView(new ai(r))}),this.controls.addEventListener(sn.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(sn.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(sn.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(sn.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(sn.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(sn.REMOVE,r=>{const o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){zv(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_?.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,u=i.layerFilter!==void 0?i.layerFilter:ro,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,h,t,null,u,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(r){r instanceof Hr?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:ro,o=t.hitTolerance!==void 0?t.hitTolerance:0,u=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,u,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],u=i.height/r[1],h="changedTouches"in e?e.changedTouches[0]:e;return[(h.clientX-i.left)/o,(h.clientY-i.top)/u]}getTarget(){return this.get(Pt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return yg(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?_t(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Pt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Nn){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const u=r.layer.getSource();if(u&&u.loading)return!0}return!1}getPixelFromCoordinate(e){const t=Fi(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?_t(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Pt.SIZE)}getView(){return this.get(Pt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return ww(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;const i=new As(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===cg.POINTERDOWN||i===be.WHEEL||i===be.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,u=t.target,h=o instanceof ShadowRoot?o.host===u?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(u)||!h.contains(u))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const u=r[o];if(u.getMap()!==this||!u.getActive()||!this.getTargetElement())continue;if(!u.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,o=r;if(e){const u=e.viewHints;if(u[Tt.ANIMATING]||u[Tt.INTERACTING]){const h=Date.now()-e.time>8;r=h?0:8,o=h?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Dn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Dn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Rr(Ms.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Rr(Ms.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,o=i.length;r<o;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Qe(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(be.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(be.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_&&!Is(this.targetElement_)){this.resizeObserver_?.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{if(Is(t)||t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new IT(this)),!Is(t)){this.mapBrowserEventHandler_=new bw(this,this.moveTolerance_);for(const r in ot)this.mapBrowserEventHandler_.addEventListener(ot[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(be.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(be.WHEEL,this.boundHandleBrowserEvent_,M1?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const r=t.getRootNode();i=r instanceof ShadowRoot?r.host:t}if(this.targetChangeHandlerKeys_=[je(i,be.KEYDOWN,this.handleBrowserEvent,this),je(i,be.KEYPRESS,this.handleBrowserEvent,this)],t instanceof HTMLElement){const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_?.observe(t)}}this.updateSize()}}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Qe(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Qe(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=je(e,Ir.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=je(e,be.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Qe),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ls("addlayer",e)),this.layerGroupPropertyListenerKeys_=[je(e,Ir.PROPERTYCHANGE,this.render,this),je(e,be.CHANGE,this.render,this),je(e,"addlayer",this.handleLayerAdd_,this),je(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){kv(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let o=null;if(t!==void 0&&dx(t)&&i&&i.isDef()){const u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:vc(h.center,h.resolution,h.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:h,viewHints:u,wantedTiles:{},mapId:Ge(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const f=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=vc(h.nextCenter,h.nextResolution,f,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!Xr(this.previousExtent_)&&!jr(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Rr(Ms.MOVESTART,this,r)),this.previousExtent_=To(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Tt.ANIMATING]&&!o.viewHints[Tt.INTERACTING]&&!jr(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Rr(Ms.MOVEEND,this,o)),L1(o.extent,this.previousExtent_))),this.dispatchEvent(new Rr(Ms.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Ms.LOADSTART)||this.hasListener(Ms.LOADEND)||this.hasListener(Dn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Ls("removelayer",t)),this.set(Pt.LAYERGROUP,e)}setSize(e){this.set(Pt.SIZE,e)}setTarget(e){this.set(Pt.TARGET,e)}setView(e){if(!e||e instanceof ai){this.set(Pt.VIEW,e);return}this.set(Pt.VIEW,new ai);const t=this;e.then(function(i){t.setView(new ai(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){let r,o;if(Is(e))r=e.width,o=e.height;else{const u=getComputedStyle(e);r=e.offsetWidth-parseFloat(u.borderLeftWidth)-parseFloat(u.paddingLeft)-parseFloat(u.paddingRight)-parseFloat(u.borderRightWidth),o=e.offsetHeight-parseFloat(u.borderTopWidth)-parseFloat(u.paddingTop)-parseFloat(u.paddingBottom)-parseFloat(u.borderBottomWidth)}!isNaN(r)&&!isNaN(o)&&(t=[Math.max(0,r),Math.max(0,o)],!dx(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&U1("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!Ys(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function kT(a){let e=null;a.keyboardEventTarget!==void 0&&(e=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const t={},i=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new Hr({layers:a.layers});t[Pt.LAYERGROUP]=i,t[Pt.TARGET]=a.target,t[Pt.VIEW]=a.view instanceof ai?a.view:new ai;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new Nn(a.controls.slice()):(Ye(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let o;a.interactions!==void 0&&(Array.isArray(a.interactions)?o=new Nn(a.interactions.slice()):(Ye(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=a.interactions));let u;return a.overlays!==void 0?Array.isArray(a.overlays)?u=new Nn(a.overlays.slice()):(Ye(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),u=a.overlays):u=new Nn,{controls:r,interactions:o,keyboardEventTarget:e,overlays:u,values:t}}class bm extends Co{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(be.CHANGE)}release(){this.setState(me.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==me.EMPTY){if(this.state!==me.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){ve()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=t-i+1e3/60;return r>=this.transition_?1:G1(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Tg(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const zT=new Error("disposed"),FT=[256,256];class Rx extends bm{constructor(e){const t=me.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Tg(this.data_);return e?[e.width,e.height]:FT}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==me.IDLE&&this.state!==me.ERROR)return;this.state=me.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=me.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=me.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(zT),this.controller_=null),super.disposeInternal()}}class Fv extends bm{constructor(e,t,i,r,o,u){super(e,t,u),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_,On?this.image_=new OffscreenCanvas(1,1):(this.image_=new Image,r!==null&&(this.image_.crossOrigin=r)),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=me.LOADED,this.unlistenImage_(),this.changed()}getCrossOrigin(){return this.crossOrigin_}handleImageError_(){this.state=me.ERROR,this.unlistenImage_(),this.image_=GT(),this.changed()}handleImageLoad_(){if(On)this.state=me.LOADED;else{const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=me.LOADED:this.state=me.EMPTY}this.unlistenImage_(),this.changed()}load(){this.state==me.ERROR&&(this.state=me.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==me.IDLE&&(this.state=me.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=iT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function GT(){const a=vt(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class Em{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Er(a,e,t,i,r){return r!==void 0?(r.minX=a,r.maxX=e,r.minY=t,r.maxY=i,r):new Em(a,e,t,i)}let Kd;const Dr=[];function Tx(a,e,t,i,r){a.beginPath(),a.moveTo(0,0),a.lineTo(e,t),a.lineTo(i,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),a.restore()}function qd(a,e){return Math.abs(a[e*4]-210)>2||Math.abs(a[e*4+3]-.75*255)>2}function UT(){if(Kd===void 0){const a=vt(6,6,Dr);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",Tx(a,4,5,4,0),Tx(a,4,5,0,5);const e=a.getImageData(0,0,3,3).data;Kd=qd(e,0)||qd(e,4)||qd(e,8),eh(a),Dr.push(a.canvas)}return Kd}function Ag(a,e,t,i){const r=qc(t,e,a);let o=$_(e,i,t);const u=e.getMetersPerUnit();u!==void 0&&(o*=u);const h=a.getMetersPerUnit();h!==void 0&&(o/=h);const f=a.getExtent();if(!f||Ca(f,r)){const g=$_(a,o,r)/o;isFinite(g)&&g>0&&(o/=g)}return o}function PT(a,e,t,i){const r=ci(t);let o=Ag(a,e,r,i);return(!isFinite(o)||o<=0)&&I1(t,function(u){return o=Ag(a,e,u,i),isFinite(o)&&o>0}),o}function Gv(a,e,t,i,r,o,u,h,f,g,p,y,v,b){const S=vt(Math.round(t*a),Math.round(t*e),Dr);if(y||(S.imageSmoothingEnabled=!1),f.length===0)return S.canvas;S.scale(t,t);function C(O){return Math.round(O*t)/t}S.globalCompositeOperation="lighter";const w=zn();f.forEach(function(O,D,M){O1(w,O.extent)});let R;const T=t/i,z=(y?1:1+Math.pow(2,-24))/T;(!v||f.length!==1||g!==0)&&(R=vt(Math.round(ke(w)*T),Math.round(xt(w)*T),Dr),y||(R.imageSmoothingEnabled=!1),f.forEach(function(O,D,M){if(O.image.width>0&&O.image.height>0){if(O.clipExtent){R.save();const ee=(O.clipExtent[0]-w[0])*T,ie=-(O.clipExtent[3]-w[3])*T,ae=ke(O.clipExtent)*T,ue=xt(O.clipExtent)*T;R.rect(y?ee:Math.round(ee),y?ie:Math.round(ie),y?ae:Math.round(ee+ae)-Math.round(ee),y?ue:Math.round(ie+ue)-Math.round(ie)),R.clip()}const P=(O.extent[0]-w[0])*T,U=-(O.extent[3]-w[3])*T,J=ke(O.extent)*T,Q=xt(O.extent)*T;R.drawImage(O.image,g,g,O.image.width-2*g,O.image.height-2*g,y?P:Math.round(P),y?U:Math.round(U),y?J:Math.round(P+J)-Math.round(P),y?Q:Math.round(U+Q)-Math.round(U)),O.clipExtent&&R.restore()}}));const A=Ma(u);return h.getTriangles().forEach(function(O,D,M){const P=O.source,U=O.target;let J=P[0][0],Q=P[0][1],ee=P[1][0],ie=P[1][1],ae=P[2][0],ue=P[2][1];const G=C((U[0][0]-A[0])/o),Z=C(-(U[0][1]-A[1])/o),$=C((U[1][0]-A[0])/o),re=C(-(U[1][1]-A[1])/o),oe=C((U[2][0]-A[0])/o),L=C(-(U[2][1]-A[1])/o),j=J,ne=Q;J=0,Q=0,ee-=j,ie-=ne,ae-=j,ue-=ne;const se=[[ee,ie,0,0,$-G],[ae,ue,0,0,oe-G],[0,0,ee,ie,re-Z],[0,0,ae,ue,L-Z]],le=Rw(se);if(!le)return;if(S.save(),S.beginPath(),UT()||!y){S.moveTo($,re);const _e=4,Ve=G-$,te=Z-re;for(let we=0;we<_e;we++)S.lineTo($+C((we+1)*Ve/_e),re+C(we*te/(_e-1))),we!=_e-1&&S.lineTo($+C((we+1)*Ve/_e),re+C((we+1)*te/(_e-1)));S.lineTo(oe,L)}else S.moveTo($,re),S.lineTo(G,Z),S.lineTo(oe,L);S.clip(),S.transform(le[0],le[2],le[1],le[3],G,Z),S.translate(w[0]-j,w[3]-ne);let ge;if(R)ge=R.canvas,S.scale(z,-z);else{const _e=f[0],Ve=_e.extent;ge=_e.image,S.scale(ke(Ve)/ge.width,-xt(Ve)/ge.height)}S.drawImage(ge,0,0),S.restore()}),R&&(eh(R),Dr.push(R.canvas)),p&&(S.save(),S.globalCompositeOperation="source-over",S.strokeStyle="black",S.lineWidth=1,h.getTriangles().forEach(function(O,D,M){const P=O.target,U=(P[0][0]-A[0])/o,J=-(P[0][1]-A[1])/o,Q=(P[1][0]-A[0])/o,ee=-(P[1][1]-A[1])/o,ie=(P[2][0]-A[0])/o,ae=-(P[2][1]-A[1])/o;S.beginPath(),S.moveTo(Q,ee),S.lineTo(U,J),S.lineTo(ie,ae),S.closePath(),S.stroke()}),S.restore()),S.canvas}const YT=10,Ax=.25;class Uv{constructor(e,t,i,r,o,u,h){this.sourceProj_=e,this.targetProj_=t;let f={};const g=h?cC(z=>_t(h,qc(z,this.targetProj_,this.sourceProj_))):uo(this.targetProj_,this.sourceProj_);this.transformInv_=function(z){const A=z[0]+"/"+z[1];return f[A]||(f[A]=g(z)),f[A]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ke(r)>=ke(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ke(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ke(this.targetProj_.getExtent()):null;const p=Ma(i),y=Vc(i),v=Hc(i),b=Bc(i),S=this.transformInv_(p),C=this.transformInv_(y),w=this.transformInv_(v),R=this.transformInv_(b),T=YT+(u?Math.max(0,Math.ceil(Math.log2(dg(i)/(u*u*256*256)))):0);if(this.addQuad_(p,y,v,b,S,C,w,R,T),this.wrapsXInSource_){let z=1/0;this.triangles_.forEach(function(A,O,D){z=Math.min(z,A.source[0][0],A.source[1][0],A.source[2][0])}),this.triangles_.forEach(A=>{if(Math.max(A.source[0][0],A.source[1][0],A.source[2][0])-z>this.sourceWorldWidth_/2){const O=[[A.source[0][0],A.source[0][1]],[A.source[1][0],A.source[1][1]],[A.source[2][0],A.source[2][1]]];O[0][0]-z>this.sourceWorldWidth_/2&&(O[0][0]-=this.sourceWorldWidth_),O[1][0]-z>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_),O[2][0]-z>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);const D=Math.min(O[0][0],O[1][0],O[2][0]);Math.max(O[0][0],O[1][0],O[2][0])-D<this.sourceWorldWidth_/2&&(A.source=O)}})}f={}}addTriangle_(e,t,i,r,o,u){this.triangles_.push({source:[r,o,u],target:[e,t,i]})}addQuad_(e,t,i,r,o,u,h,f,g){const p=B_([o,u,h,f]),y=this.sourceWorldWidth_?ke(p)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,b=this.sourceProj_.canWrapX()&&y>.5&&y<1;let S=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const w=B_([e,t,i,r]);S=ke(w)/this.targetWorldWidth_>Ax||S}!b&&this.sourceProj_.isGlobal()&&y&&(S=y>Ax||S)}if(!S&&this.maxSourceExtent_&&isFinite(p[0])&&isFinite(p[1])&&isFinite(p[2])&&isFinite(p[3])&&!Yt(p,this.maxSourceExtent_))return;let C=0;if(!S&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(f[0])||!isFinite(f[1]))){if(g>0)S=!0;else if(C=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(u[0])||!isFinite(u[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(g>0){if(!S){const w=[(e[0]+i[0])/2,(e[1]+i[1])/2],R=this.transformInv_(w);let T;b?T=(ba(o[0],v)+ba(h[0],v))/2-ba(R[0],v):T=(o[0]+h[0])/2-R[0];const z=(o[1]+h[1])/2-R[1];S=T*T+z*z>this.errorThresholdSquared_}if(S){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const w=[(t[0]+i[0])/2,(t[1]+i[1])/2],R=this.transformInv_(w),T=[(r[0]+e[0])/2,(r[1]+e[1])/2],z=this.transformInv_(T);this.addQuad_(e,t,w,T,o,u,R,z,g-1),this.addQuad_(T,w,i,r,z,R,h,f,g-1)}else{const w=[(e[0]+t[0])/2,(e[1]+t[1])/2],R=this.transformInv_(w),T=[(i[0]+r[0])/2,(i[1]+r[1])/2],z=this.transformInv_(T);this.addQuad_(e,w,T,r,o,R,z,f,g-1),this.addQuad_(w,t,i,T,R,u,h,z,g-1)}return}}if(b){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(C&11)==0&&this.addTriangle_(e,i,r,o,h,f),(C&14)==0&&this.addTriangle_(e,i,t,o,h,u),C&&((C&13)==0&&this.addTriangle_(t,r,e,u,f,o),(C&7)==0&&this.addTriangle_(t,r,i,u,f,h))}calculateSourceExtent(){const e=zn();return this.triangles_.forEach(function(t,i,r){const o=t.source;no(e,o[0]),no(e,o[1]),no(e,o[2])}),e}getTriangles(){return this.triangles_}}const Pv=.5;class Yv extends bm{constructor(e,t,i,r,o,u,h,f,g,p,y,v){super(o,me.IDLE,v),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=u||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const b=r.getTileCoordExtent(this.wrappedTileCoord_),S=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const w=S?Yi(b,S):b;if(dg(w)===0){this.state=me.EMPTY;return}const R=e.getExtent();R&&(C?C=Yi(C,R):C=R);const T=r.getResolution(this.wrappedTileCoord_[0]),z=PT(e,i,w,T);if(!isFinite(z)||z<=0){this.state=me.EMPTY;return}const A=p!==void 0?p:Pv;if(this.triangulation_=new Uv(e,i,w,C,z*A,T),this.triangulation_.getTriangles().length===0){this.state=me.EMPTY;return}this.sourceZ_=t.getZForResolution(z);let O=this.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(O[1]=it(O[1],C[1],C[3]),O[3]=it(O[3],C[1],C[3])):O=Yi(O,C)),!dg(O))this.state=me.EMPTY;else{let D=0,M=0;e.canWrapX()&&(D=ke(R),M=Math.floor((O[0]-R[0])/D)),z1(O.slice(),e,!0).forEach(U=>{const J=t.getTileRangeForExtentAndZ(U,this.sourceZ_);for(let Q=J.minX;Q<=J.maxX;Q++)for(let ee=J.minY;ee<=J.maxY;ee++){const ie=g(this.sourceZ_,Q,ee,h);if(ie){const ae=M*D;this.sourceTiles_.push({tile:ie,offset:ae})}}++M}),this.sourceTiles_.length===0&&(this.state=me.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{const i=t.tile;if(i&&i.getState()==me.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;const o=this.clipExtent_?.slice();o&&(o[0]+=t.offset,o[2]+=t.offset),e.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=me.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],u=this.targetTileGrid_.getResolution(t),h=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Gv(r,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),u,f,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=me.LOADED}this.changed()}load(){if(this.state==me.IDLE){this.state=me.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const i=t.getState();if(i==me.IDLE||i==me.LOADING){e++;const r=je(t,be.CHANGE,o=>{const u=t.getState();(u==me.LOADED||u==me.ERROR||u==me.EMPTY)&&(Qe(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==me.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Qe),this.sourcesListenerKeys_=null}release(){this.canvas_&&(eh(this.canvas_.getContext("2d")),Dr.push(this.canvas_),this.canvas_=null),super.release()}}class Mx{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Uc&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Ye(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Ye(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Ye(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function Nc(a,e,t,i){return i!==void 0?(i[0]=a,i[1]=e,i[2]=t,i):[a,e,t]}function XT(a,e,t){return a+"/"+e+"/"+t}function gc(a,e,t,i,r){return`${Ge(a)},${e},${XT(t,i,r)}`}function BT(a){return HT(a[0],a[1],a[2])}function HT(a,e,t){return(e<<a)+t}function VT(a,e){const t=a[0],i=a[1],r=a[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const o=e.getFullTileRange(t);return o?o.containsXY(i,r):!0}class Xv{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Rc(),{get:(e,t)=>{if(typeof Rc()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,i)=>(this.push_(t,i),!0)})}push_(...e){const t=this.instructions_,i=this.zIndex+this.offset_;t[i]||(t[i]=[]),t[i].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){const o=t[i];if(typeof o=="function"){o(e);continue}const u=t[++i];if(typeof e[o]=="function")e[o](...u);else{if(typeof u=="function"){e[o]=u(e);continue}e[o]=u}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const ZT=5;class KT extends Ro{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=ZT}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return ve()}getData(e){return null}prepareFrame(e){return ve()}renderFrame(e,t){return ve()}forEachFeatureAtCoordinate(e,t,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===fe.LOADED||t.getState()===fe.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=fe.LOADED&&t!=fe.ERROR&&e.addEventListener(be.CHANGE,this.boundHandleImageChange_),t==fe.IDLE&&(e.load(),t=e.getState()),t==fe.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Lx=[];let Mr=null;function qT(){Mr=vt(1,1,void 0,{willReadFrequently:!0})}class Sm extends KT{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Zn(),this.pixelTransform=Zn(),this.inversePixelTransform=Zn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){Mr||qT(),Mr.clearRect(0,0,1,1);let r;try{Mr.drawImage(e,t,i,1,1,0,0,1,1),r=Mr.getImageData(0,0,1,1).data}catch{return Mr=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let o,u;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Ys(zr(e.style.backgroundColor),zr(i)))){const h=e.firstElementChild;Is(h)&&(u=h.getContext("2d"))}if(u&&yC(u.canvas.style.transform,t)?(this.container=e,this.context=u,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=On?lv():document.createElement("div"),o.className=r;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",u=vt();const f=u.canvas;o.appendChild(f),h=f.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=u}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=Ma(i),o=Vc(i),u=Hc(i),h=Bc(i);_t(t.coordinateToPixelTransform,r),_t(t.coordinateToPixelTransform,o),_t(t.coordinateToPixelTransform,u),_t(t.coordinateToPixelTransform,h);const f=this.inversePixelTransform;_t(f,r),_t(f,o),_t(f,u),_t(f,h),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.clip()}prepareContainer(e,t){const i=e.extent,r=e.viewState.resolution,o=e.viewState.rotation,u=e.pixelRatio,h=Math.round(ke(i)/r*u),f=Math.round(xt(i)/r*u);hi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,o,-h/2,-f/2),K1(this.inversePixelTransform,this.pixelTransform);const g=pC(this.pixelTransform);if(this.useContainer(t,g,this.getBackground(e)),!this.containerReused){const p=this.context.canvas;p.width!=h||p.height!=f?(p.width=h,p.height=f):this.context.clearRect(0,0,h,f),g!==p.style.transform&&(p.style.transform=g)}}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const o=new jv(e,this.inversePixelTransform,i,t);r.dispatchEvent(o)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Dn.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Dn.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Xv),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Dn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Dn.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,o,u,h){const f=o/2,g=u/2,p=r/t,y=-p,v=-e[0]+h,b=-e[1];return hi(this.tempTransform,f,g,p,y,-i,v,b)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Wd(a,e,t){if(!(t in a))return a[t]=new Set([e]),!0;const i=a[t],r=i.has(e);return r||i.add(e),!r}function WT(a,e,t){const i=a[t];return i?i.delete(e):!1}function Nx(a,e){const t=a.layerStatesArray[a.layerIndex];t.extent&&(e=Yi(e,li(t.extent,a.viewState.projection)));const i=t.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(a.viewState.projection).getExtent();r&&(e=Yi(e,r))}return e}class QT extends Sm{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=zn(),this.tempTileRange_=new Em(0,0,0,0),this.tempTileCoord_=Nc(0,0,0);const i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new Mx(i),this.sourceTileCache_=null,this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getSourceTileCache(){return this.sourceTileCache_||(this.sourceTileCache_=new Mx(512)),this.sourceTileCache_}getOrCreateTile(e,t,i,r){const o=this.tileCache_,h=this.getLayer().getSource(),f=gc(h,h.getKey(),e,t,i);let g;if(o.containsKey(f))g=o.get(f);else{const p=r.viewState.projection,y=h.getProjection();if(g=h.getTile(e,t,i,r.pixelRatio,p,!y||Ea(y,p)?void 0:this.getSourceTileCache()),!g)return null;o.set(f,g)}return g}getTile(e,t,i,r){const o=this.getOrCreateTile(e,t,i,r);return o||null}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=_t(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Ca(o,r))return null;const u=t.viewState,h=i.getRenderSource(),f=h.getTileGridForProjection(u.projection),g=h.getTilePixelRatio(t.pixelRatio);for(let p=f.getZForResolution(u.resolution);p>=f.getMinZoom();--p){const y=f.getTileCoordForCoordAndZ(r,p),v=this.getTile(p,y[1],y[2],t);if(!v||v.getState()!==me.LOADED)continue;const b=f.getOrigin(p),S=on(f.getTileSize(p)),C=f.getResolution(p);let w;if(v instanceof Fv||v instanceof Yv)w=v.getImage();else if(v instanceof Rx){if(w=Tg(v.getData()),!w)continue}else continue;const R=Math.floor(g*((r[0]-b[0])/C-y[1]*S[0])),T=Math.floor(g*((b[1]-r[1])/C-y[2]*S[1])),z=Math.round(g*h.getGutterForProjection(u.projection));return this.getImageData(w,R+z,T+z)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const i=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==i&&(this.renderedSourceRevision_=i,this.renderedSourceKey_===t.getKey()&&(this.tileCache_.clear(),this.sourceTileCache_?.clear())):this.renderedSourceRevision_=i,!0}enqueueTilesForNextExtent(){return!0}enqueueTiles(e,t,i,r,o){const u=e.viewState,h=this.getLayer(),f=h.getRenderSource(),g=f.getTileGridForProjection(u.projection),p=Ge(f);p in e.wantedTiles||(e.wantedTiles[p]={});const y=e.wantedTiles[p],v=h.getMapInternal(),b=Math.max(i-o,g.getMinZoom(),g.getZForResolution(Math.min(h.getMaxResolution(),v?v.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):g.getResolution(0)),f.zDirection)),S=u.rotation,C=S?j1(u.center,u.resolution,S,e.size):void 0;for(let w=i;w>=b;--w){const R=g.getTileRangeForExtentAndZ(t,w,this.tempTileRange_),T=g.getResolution(w);for(let z=R.minX;z<=R.maxX;++z)for(let A=R.minY;A<=R.maxY;++A){if(S&&!g.tileCoordIntersectsViewport([w,z,A],C))continue;const O=this.getTile(w,z,A,e);if(!O||!Wd(r,O,w))continue;const M=O.getKey();if(y[M]=!0,O.getState()===me.IDLE&&!e.tileQueue.isKeyQueued(M)){const P=Nc(w,z,A,this.tempTileCoord_);e.tileQueue.enqueue([O,p,g.getTileCoordCenter(P),T])}}}}findStaleTile_(e,t){const i=this.tileCache_,r=e[0],o=e[1],u=e[2],h=this.getStaleKeys();for(let f=0;f<h.length;++f){const g=gc(this.getLayer().getSource(),h[f],r,o,u);if(i.containsKey(g)){const p=i.peek(g);if(p.getState()===me.LOADED)return p.endTransition(Ge(this)),Wd(t,p,r),!0}}return!1}findAltTiles_(e,t,i,r){const o=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!o)return!1;let u=!0;const h=this.tileCache_,f=this.getLayer().getRenderSource(),g=f.getKey();for(let p=o.minX;p<=o.maxX;++p)for(let y=o.minY;y<=o.maxY;++y){const v=gc(f,g,i,p,y);let b=!1;if(h.containsKey(v)){const S=h.peek(v);S.getState()===me.LOADED&&(Wd(r,S,i),b=!0)}b||(u=!1)}return u}renderFrame(e,t){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,u=r.resolution,h=r.center,f=e.pixelRatio,g=this.getLayer(),p=g.getSource(),y=p.getTileGridForProjection(o),v=y.getZForResolution(u,p.zDirection),b=y.getResolution(v),S=p.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==S&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=S):this.renderedSourceKey_=S;let C=e.extent;const w=p.getTilePixelRatio(f);this.prepareContainer(e,t);const R=this.context.canvas.width,T=this.context.canvas.height,z=i.extent&&li(i.extent);z&&(C=Yi(C,li(i.extent)));const A=b*R/2/w,O=b*T/2/w,D=[h[0]-A,h[1]-O,h[0]+A,h[1]+O],M={};this.renderedTiles.length=0;const P=g.getPreload();if(e.nextExtent&&this.enqueueTilesForNextExtent()){const $=y.getZForResolution(r.nextResolution,p.zDirection),re=Nx(e,e.nextExtent);this.enqueueTiles(e,re,$,M,P)}const U=Nx(e,C);if(this.enqueueTiles(e,U,v,M,0),P>0&&setTimeout(()=>{this.enqueueTiles(e,U,v-1,M,P-1)},0),!(v in M))return this.container;const J=Ge(this),Q=e.time;for(const $ of M[v]){const re=$.getState();if(re===me.EMPTY)continue;const oe=$.tileCoord;if(re===me.LOADED&&$.getAlpha(J,Q)===1){$.endTransition(J);continue}if(re!==me.ERROR&&(this.renderComplete=!1),this.findStaleTile_(oe,M)){WT(M,$,v),e.animate=!0;continue}if(this.findAltTiles_(y,oe,v+1,M))continue;const ne=y.getMinZoom();for(let se=v-1;se>=ne&&!this.findAltTiles_(y,oe,se,M);--se);}const ee=b/u*f/w,ie=this.getRenderContext(e);hi(this.tempTransform,R/2,T/2,ee,ee,0,-R/2,-T/2),i.extent&&this.clipUnrotated(ie,e,z),p.getInterpolate()||(ie.imageSmoothingEnabled=!1),this.preRender(ie,e);const ae=Object.keys(M).map(Number);ae.sort(Pi);let ue;const G=[],Z=[];for(let $=ae.length-1;$>=0;--$){const re=ae[$],oe=p.getTilePixelSize(re,f,o),j=y.getResolution(re)/b,ne=oe[0]*j*ee,se=oe[1]*j*ee,le=y.getTileCoordForCoordAndZ(Ma(D),re),ge=y.getTileCoordExtent(le),_e=_t(this.tempTransform,[w*(ge[0]-D[0])/b,w*(D[3]-ge[3])/b]),Ve=w*p.getGutterForProjection(o);for(const te of M[re]){if(te.getState()!==me.LOADED)continue;const we=te.tileCoord,Zt=le[1]-we[1],gi=Math.round(_e[0]-(Zt-1)*ne),qi=le[2]-we[2],Xt=Math.round(_e[1]-(qi-1)*se),Ft=Math.round(_e[0]-Zt*ne),Kt=Math.round(_e[1]-qi*se),Wi=gi-Ft,mi=Xt-Kt,pi=ae.length===1;let Gn=!1;ue=[Ft,Kt,Ft+Wi,Kt,Ft+Wi,Kt+mi,Ft,Kt+mi];for(let qn=0,Qi=G.length;qn<Qi;++qn)if(!pi&&re<Z[qn]){const ht=G[qn];Yt([Ft,Kt,Ft+Wi,Kt+mi],[ht[0],ht[3],ht[4],ht[7]])&&(Gn||(ie.save(),Gn=!0),ie.beginPath(),ie.moveTo(ue[0],ue[1]),ie.lineTo(ue[2],ue[3]),ie.lineTo(ue[4],ue[5]),ie.lineTo(ue[6],ue[7]),ie.moveTo(ht[6],ht[7]),ie.lineTo(ht[4],ht[5]),ie.lineTo(ht[2],ht[3]),ie.lineTo(ht[0],ht[1]),ie.clip())}G.push(ue),Z.push(re),this.drawTile(te,e,Ft,Kt,Wi,mi,Ve,pi),Gn&&ie.restore(),this.renderedTiles.unshift(te),this.updateUsedTiles(e.usedTiles,p,te)}}if(this.renderedResolution=b,this.extentChanged=!this.renderedExtent_||!jr(this.renderedExtent_,D),this.renderedExtent_=D,this.renderedPixelRatio=f,this.postRender(this.context,e),i.extent&&ie.restore(),ie.imageSmoothingEnabled=!0,this.renderComplete){const $=(re,oe)=>{const L=Ge(p),j=oe.wantedTiles[L],ne=j?Object.keys(j).length:0;this.updateCacheSize(ne),this.tileCache_.expireCache(),this.sourceTileCache_?.expireCache()};e.postRenderFunctions.push($)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,o,u,h,f){let g;if(e instanceof Rx){if(g=Tg(e.getData()),!g)throw new Error("Rendering array data is not yet supported")}else g=this.getTileImage(e);if(!g)return;const p=this.getRenderContext(t),y=Ge(this),v=t.layerStatesArray[t.layerIndex],b=v.opacity*(f?e.getAlpha(y,t.time):1),S=b!==p.globalAlpha;S&&(p.save(),p.globalAlpha=b),p.drawImage(g,h,h,g.width-2*h,g.height-2*h,i,r,o,u),S&&p.restore(),b!==v.opacity?t.animate=!0:f&&e.endTransition(y)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){const r=Ge(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}}const ac={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class JT extends Oo{constructor(e){e=e||{};const t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(ac.PRELOAD)}setPreload(e){this.set(ac.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ac.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ac.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class Ox extends JT{constructor(e){super(e)}createRenderer(){return new QT(this,{cacheSize:this.getCacheSize()})}}class Bv{drawCustom(e,t,i,r,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const pe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},rc=[pe.FILL],js=[pe.STROKE],xa=[pe.BEGIN_PATH],Dx=[pe.CLOSE_PATH];class Io extends Bv{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let u=o.length;for(let h=0,f=e.length;h<f;h+=t)r[0]=e[h],r[1]=e[h+1],Ca(i,r)&&(o[u++]=r[0],o[u++]=r[1]);return u}appendFlatLineCoordinates(e,t,i,r,o,u){const h=this.coordinates;let f=h.length;const g=this.getBufferedMaxExtent();u&&(t+=r);let p=e[t],y=e[t+1];const v=this.tmpCoordinate_;let b=!0,S,C,w;for(S=t+r;S<i;S+=r)v[0]=e[S],v[1]=e[S+1],w=fg(g,v),w!==C?(b&&(h[f++]=p,h[f++]=y,b=!1),h[f++]=v[0],h[f++]=v[1]):w===Rt.INTERSECTING?(h[f++]=v[0],h[f++]=v[1],b=!1):b=!0,p=v[0],y=v[1],C=w;return(o&&b||S===t+r)&&(h[f++]=p,h[f++]=y),f}drawCustomCoordinates_(e,t,i,r,o){for(let u=0,h=i.length;u<h;++u){const f=i[u],g=this.appendFlatLineCoordinates(e,t,f,r,!1,!1);o.push(g),t=f}return t}drawCustom(e,t,i,r,o){this.beginGeometry(e,t,o);const u=e.getType(),h=e.getStride(),f=this.coordinates.length;let g,p,y,v,b;switch(u){case"MultiPolygon":g=e.getOrientedFlatCoordinates(),v=[];const S=e.getEndss();b=0;for(let C=0,w=S.length;C<w;++C){const R=[];b=this.drawCustomCoordinates_(g,b,S[C],h,R),v.push(R)}this.instructions.push([pe.CUSTOM,f,v,e,i,xg,o]),this.hitDetectionInstructions.push([pe.CUSTOM,f,v,e,r||i,xg,o]);break;case"Polygon":case"MultiLineString":y=[],g=u=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),b=this.drawCustomCoordinates_(g,0,e.getEnds(),h,y),this.instructions.push([pe.CUSTOM,f,y,e,i,co,o]),this.hitDetectionInstructions.push([pe.CUSTOM,f,y,e,r||i,co,o]);break;case"LineString":case"Circle":g=e.getFlatCoordinates(),p=this.appendFlatLineCoordinates(g,0,g.length,h,!1,!1),this.instructions.push([pe.CUSTOM,f,p,e,i,Ds,o]),this.hitDetectionInstructions.push([pe.CUSTOM,f,p,e,r||i,Ds,o]);break;case"MultiPoint":g=e.getFlatCoordinates(),p=this.appendFlatPointCoordinates(g,h),p>f&&(this.instructions.push([pe.CUSTOM,f,p,e,i,Ds,o]),this.hitDetectionInstructions.push([pe.CUSTOM,f,p,e,r||i,Ds,o]));break;case"Point":g=e.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),p=this.coordinates.length,this.instructions.push([pe.CUSTOM,f,p,e,i,void 0,o]),this.hitDetectionInstructions.push([pe.CUSTOM,f,p,e,r||i,void 0,o]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[pe.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[pe.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let r,o,u=-1;for(t=0;t<i;++t)r=e[t],o=r[0],o==pe.END_GEOMETRY?u=t:o==pe.BEGIN_GEOMETRY&&(r[2]=t,gw(this.hitDetectionInstructions,u,t),u=-1)}fillStyleToState(e,t={}){if(e){const i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=oi(i||rn)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const i=e.getColor();t.strokeStyle=oi(i||go);const r=e.getLineCap();t.lineCap=r!==void 0?r:Fr;const o=e.getLineDash();t.lineDash=o?o.slice():Xi;const u=e.getLineDashOffset();t.lineDashOffset=u||Bi;const h=e.getLineJoin();t.lineJoin=h!==void 0?h:Gr;const f=e.getWidth();t.lineWidth=f!==void 0?f:po;const g=e.getMiterLimit();t.miterLimit=g!==void 0?g:fo,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){const t=e.fillStyle,i=[pe.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[pe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,r=e.lineCap,o=e.lineDash,u=e.lineDashOffset,h=e.lineJoin,f=e.lineWidth,g=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!Ys(e.currentLineDash,o)||e.currentLineDashOffset!=u||e.currentLineJoin!=h||e.currentLineWidth!=f||e.currentMiterLimit!=g)&&(t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=u,e.currentLineJoin=h,e.currentLineWidth=f,e.currentMiterLimit=g)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[pe.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=L1(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Ug(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class $T extends Io{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Ca(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),o=e.getStride(),u=this.coordinates.length,h=this.appendFlatPointCoordinates(r,o);this.instructions.push([pe.DRAW_IMAGE,u,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,u,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),o=[];for(let f=0,g=r.length;f<g;f+=e.getStride())(!this.maxExtent||Ca(this.maxExtent,r.slice(f,f+2)))&&o.push(r[f],r[f+1]);const u=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([pe.DRAW_IMAGE,u,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,u,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class eA extends Io{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){const o=this.coordinates.length,u=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),h=[pe.MOVE_TO_LINE_TO,o,u];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i}drawLineString(e,t,i){const r=this.state,o=r.strokeStyle,u=r.lineWidth;if(o===void 0||u===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Xi,Bi],xa);const h=e.getFlatCoordinates(),f=e.getStride();this.drawFlatCoordinates_(h,0,h.length,f),this.hitDetectionInstructions.push(js),this.endGeometry(t)}drawMultiLineString(e,t,i){const r=this.state,o=r.strokeStyle,u=r.lineWidth;if(o===void 0||u===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Xi,Bi],xa);const h=e.getEnds(),f=e.getFlatCoordinates(),g=e.getStride();let p=0;for(let y=0,v=h.length;y<v;++y)p=this.drawFlatCoordinates_(f,p,h[y],g);this.hitDetectionInstructions.push(js),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(js),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(js),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(xa)}}class Ix extends Io{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){const o=this.state,u=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,f=i.length;this.instructions.push(xa),this.hitDetectionInstructions.push(xa);for(let g=0;g<f;++g){const p=i[g],y=this.coordinates.length,v=this.appendFlatLineCoordinates(e,t,p,r,!0,!h),b=[pe.MOVE_TO_LINE_TO,y,v];this.instructions.push(b),this.hitDetectionInstructions.push(b),h&&(this.instructions.push(Dx),this.hitDetectionInstructions.push(Dx)),t=p}return u&&(this.instructions.push(rc),this.hitDetectionInstructions.push(rc)),h&&(this.instructions.push(js),this.hitDetectionInstructions.push(js)),t}drawCircle(e,t,i){const r=this.state,o=r.fillStyle,u=r.strokeStyle;if(o===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,rn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Xi,Bi]);const h=e.getFlatCoordinates(),f=e.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,f,!1,!1);const p=[pe.CIRCLE,g];this.instructions.push(xa,p),this.hitDetectionInstructions.push(xa,p),r.fillStyle!==void 0&&(this.instructions.push(rc),this.hitDetectionInstructions.push(rc)),r.strokeStyle!==void 0&&(this.instructions.push(js),this.hitDetectionInstructions.push(js)),this.endGeometry(t)}drawPolygon(e,t,i){const r=this.state,o=r.fillStyle,u=r.strokeStyle;if(o===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,rn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Xi,Bi]);const h=e.getEnds(),f=e.getOrientedFlatCoordinates(),g=e.getStride();this.drawFlatCoordinatess_(f,0,h,g),this.endGeometry(t)}drawMultiPolygon(e,t,i){const r=this.state,o=r.fillStyle,u=r.strokeStyle;if(o===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_FILL_STYLE,rn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([pe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Xi,Bi]);const h=e.getEndss(),f=e.getOrientedFlatCoordinates(),g=e.getStride();let p=0;for(let y=0,v=h.length;y<v;++y)p=this.drawFlatCoordinatess_(f,p,h[y],g);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=ga(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function tA(a,e,t,i,r){const o=[];let u=t,h=0,f=e.slice(t,2);for(;h<a&&u+r<i;){const[g,p]=f.slice(-2),y=e[u+r],v=e[u+r+1],b=Math.sqrt((y-g)*(y-g)+(v-p)*(v-p));if(h+=b,h>=a){const S=(a-h+b)/b,C=yn(g,y,S),w=yn(p,v,S);f.push(C,w),o.push(f),f=[C,w],h==a&&(u+=r),h=0}else if(h<a)f.push(e[u+r],e[u+r+1]),u+=r;else{const S=b-h,C=yn(g,y,S/b),w=yn(p,v,S/b);f.push(C,w),o.push(f),f=[C,w],h=0,u+=r}}return h>0&&o.push(f),o}function nA(a,e,t,i,r){let o=t,u=t,h=0,f=0,g=t,p,y,v,b,S,C,w,R,T,z;for(y=t;y<i;y+=r){const A=e[y],O=e[y+1];S!==void 0&&(T=A-S,z=O-C,b=Math.sqrt(T*T+z*z),w!==void 0&&(f+=v,p=Math.acos((w*T+R*z)/(v*b)),p>a&&(f>h&&(h=f,o=g,u=y),f=0,g=y-r)),v=b,w=T,R=z),S=A,C=O}return f+=b,f>h?[g,y]:[o,u]}const Oc={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class iA extends Io{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[rn]={fillStyle:rn},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const r=this.textFillState_,o=this.textStrokeState_,u=this.textState_;if(this.text_===""||!u||!r&&!o)return;const h=this.coordinates;let f=h.length;const g=e.getType();let p=null,y=e.getStride();if(u.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!Yt(this.maxExtent,e.getExtent()))return;let v;if(p=e.getFlatCoordinates(),g=="LineString")v=[p.length];else if(g=="MultiLineString")v=e.getEnds();else if(g=="Polygon")v=e.getEnds().slice(0,1);else if(g=="MultiPolygon"){const w=e.getEndss();v=[];for(let R=0,T=w.length;R<T;++R)v.push(w[R][0])}this.beginGeometry(e,t,i);const b=u.repeat,S=b?void 0:u.textAlign;let C=0;for(let w=0,R=v.length;w<R;++w){let T;b?T=tA(b*this.resolution,p,C,v[w],y):T=[p.slice(C,v[w])];for(let z=0,A=T.length;z<A;++z){const O=T[z];let D=0,M=O.length;if(S==null){const U=nA(u.maxAngle,O,0,O.length,2);D=U[0],M=U[1]}for(let U=D;U<M;U+=y)h.push(O[U],O[U+1]);const P=h.length;C=v[w],this.drawChars_(f,P),f=P}}this.endGeometry(t)}else{let v=u.overflow?null:[];switch(g){case"Point":case"MultiPoint":p=e.getFlatCoordinates();break;case"LineString":p=e.getFlatMidpoint();break;case"Circle":p=e.getCenter();break;case"MultiLineString":p=e.getFlatMidpoints(),y=2;break;case"Polygon":p=e.getFlatInteriorPoint(),u.overflow||v.push(p[2]/this.resolution),y=3;break;case"MultiPolygon":const A=e.getFlatInteriorPoints();p=[];for(let O=0,D=A.length;O<D;O+=3)u.overflow||v.push(A[O+2]/this.resolution),p.push(A[O],A[O+1]);if(p.length===0)return;y=2;break}const b=this.appendFlatPointCoordinates(p,y);if(b===f)return;if(v&&(b-f)/2!==p.length/y){let A=f/2;v=v.filter((O,D)=>{const M=h[(A+D)*2]===p[D*y]&&h[(A+D)*2+1]===p[D*y+1];return M||--A,M})}this.saveTextStates_();const S=u.backgroundFill?this.createFill(this.fillStyleToState(u.backgroundFill)):null,C=u.backgroundStroke?this.createStroke(this.strokeStyleToState(u.backgroundStroke)):null;this.beginGeometry(e,t,i);let w=u.padding;if(w!=_a&&(u.scale[0]<0||u.scale[1]<0)){let A=u.padding[0],O=u.padding[1],D=u.padding[2],M=u.padding[3];u.scale[0]<0&&(O=-O,M=-M),u.scale[1]<0&&(A=-A,D=-D),w=[A,O,D,M]}const R=this.pixelRatio;this.instructions.push([pe.DRAW_IMAGE,f,b,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,w==_a?_a:w.map(function(A){return A*R}),S,C,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const T=1/R,z=S?S.slice(0):null;z&&(z[1]=rn),this.hitDetectionInstructions.push([pe.DRAW_IMAGE,f,b,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[T,T],NaN,this.declutterMode_,this.declutterImageWithText_,w,z,C,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?rn:this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||mo,justify:t.justify,textBaseline:t.textBaseline||Ac,scale:t.scale});const u=this.fillKey_;i&&(u in this.fillStates||(this.fillStates[u]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,u=this.textKey_,h=this.fillKey_;this.saveTextStates_();const f=this.pixelRatio,g=Oc[r.textBaseline],p=this.textOffsetY_*f,y=this.text_,v=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([pe.DRAW_CHARS,e,t,g,r.overflow,h,r.maxAngle,f,p,o,v*f,y,u,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([pe.DRAW_CHARS,e,t,g,r.overflow,h&&rn,r.maxAngle,f,p,o,v*f,y,u,1/f,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,o;if(!e)this.text_="";else{const u=e.getFill();u?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=oi(u.getColor()||rn)):(r=null,this.textFillState_=r);const h=e.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const C=h.getLineDash(),w=h.getLineDashOffset(),R=h.getWidth(),T=h.getMiterLimit();o.lineCap=h.getLineCap()||Fr,o.lineDash=C?C.slice():Xi,o.lineDashOffset=w===void 0?Bi:w,o.lineJoin=h.getLineJoin()||Gr,o.lineWidth=R===void 0?po:R,o.miterLimit=T===void 0?fo:T,o.strokeStyle=oi(h.getColor()||go)}i=this.textState_;const f=e.getFont()||Sv;uT(f);const g=e.getScaleArray();i.overflow=e.getOverflow(),i.font=f,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Ac,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||_a,i.scale=g===void 0?[1,1]:g;const p=e.getOffsetX(),y=e.getOffsetY(),v=e.getRotateWithView(),b=e.getKeepUpright(),S=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=p===void 0?0:p,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=v===void 0?!1:v,this.textKeepUpright_=b===void 0?!0:b,this.textRotation_=S===void 0?0:S,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Ge(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Ge(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const sA={Circle:Ix,Default:Io,Image:$T,LineString:eA,Polygon:Ix,Text:iA};class aA{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const r in i){const o=i[r].finish();e[t][r]=o}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[t];if(o===void 0){const u=sA[t];o=new u(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o}return o}}function wm(a,e,t,i){let r=a[e],o=a[e+1],u=0;for(let h=e+i;h<t;h+=i){const f=a[h],g=a[h+1];u+=Math.sqrt((f-r)*(f-r)+(g-o)*(g-o)),r=f,o=g}return u}function rA(a,e,t,i,r,o,u,h,f,g,p,y,v=!0){let b=a[e],S=a[e+1],C=0,w=0,R=0,T=0;function z(){C=b,w=S,e+=i,b=a[e],S=a[e+1],T+=R,R=Math.sqrt((b-C)*(b-C)+(S-w)*(S-w))}do z();while(e<t-i&&T+R<o);let A=R===0?0:(o-T)/R;const O=yn(C,b,A),D=yn(w,S,A),M=e-i,P=T,U=o+h*f(g,r,p);for(;e<t-i&&T+R<U;)z();A=R===0?0:(U-T)/R;const J=yn(C,b,A),Q=yn(w,S,A);let ee=!1;if(v)if(y){const Z=[O,D,J,Q];q1(Z,0,4,2,y,Z,Z),ee=Z[0]>Z[2]}else ee=O>J;const ie=Math.PI,ae=[],ue=M+i===e;e=M,R=0,T=P,b=a[e],S=a[e+1];let G;if(ue){z(),G=Math.atan2(S-w,b-C),ee&&(G+=G>0?-ie:ie);const Z=(J+O)/2,$=(Q+D)/2;return ae[0]=[Z,$,(U-o)/2,G,r],ae}r=r.replace(/\n/g," ");for(let Z=0,$=r.length;Z<$;){z();let re=Math.atan2(S-w,b-C);if(ee&&(re+=re>0?-ie:ie),G!==void 0){let le=re-G;if(le+=le>ie?-2*ie:le<-ie?2*ie:0,Math.abs(le)>u)return null}G=re;const oe=Z;let L=0;for(;Z<$;++Z){const le=ee?$-Z-1:Z,ge=h*f(g,r[le],p);if(e+i<t&&T+R<o+L+ge/2)break;L+=ge}if(Z===oe)continue;const j=ee?r.substring($-oe,$-Z):r.substring(oe,Z);A=R===0?0:(o+L/2-T)/R;const ne=yn(C,b,A),se=yn(w,S,A);ae.push([ne,se,L/2,re,j]),o+=L}return ae}const Sr=zn(),ws=[],ki=[],zi=[],Cs=[];function jx(a){return a[3].declutterBox}const kx=new RegExp("[-----]");function Qd(a,e){return e==="start"?e=kx.test(a)?"right":"left":e==="end"&&(e=kx.test(a)?"left":"right"),Oc[e]}function lA(a,e,t){return t>0&&a.push(`
`,""),a.push(e,""),a}function oA(a,e,t){return t%2===0&&(a+=e),a}class uA{constructor(e,t,i,r,o){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Zn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new Xv:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){const o=e+t+i+r;if(this.labels_[o])return this.labels_[o];const u=r?this.strokeStates[r]:null,h=i?this.fillStates[i]:null,f=this.textStates[t],g=this.pixelRatio,p=[f.scale[0]*g,f.scale[1]*g],y=f.justify?Oc[f.justify]:Qd(Array.isArray(e)?e[0]:e,f.textAlign||mo),v=r&&u.lineWidth?u.lineWidth:0,b=Array.isArray(e)?e:String(e).split(`
`).reduce(lA,[]),{width:S,height:C,widths:w,heights:R,lineWidths:T}=hT(f,b),z=S+v,A=[],O=(z+2)*p[0],D=(C+v)*p[1],M={width:O<0?Math.floor(O):Math.ceil(O),height:D<0?Math.floor(D):Math.ceil(D),contextInstructions:A};(p[0]!=1||p[1]!=1)&&A.push("scale",p),r&&(A.push("strokeStyle",u.strokeStyle),A.push("lineWidth",v),A.push("lineCap",u.lineCap),A.push("lineJoin",u.lineJoin),A.push("miterLimit",u.miterLimit),A.push("setLineDash",[u.lineDash]),A.push("lineDashOffset",u.lineDashOffset)),i&&A.push("fillStyle",h.fillStyle),A.push("textBaseline","middle"),A.push("textAlign","center");const P=.5-y;let U=y*z+P*v;const J=[],Q=[];let ee=0,ie=0,ae=0,ue=0,G;for(let Z=0,$=b.length;Z<$;Z+=2){const re=b[Z];if(re===`
`){ie+=ee,ee=0,U=y*z+P*v,++ue;continue}const oe=b[Z+1]||f.font;oe!==G&&(r&&J.push("font",oe),i&&Q.push("font",oe),G=oe),ee=Math.max(ee,R[ae]);const L=[re,U+P*w[ae]+y*(w[ae]-T[ue]),.5*(v+ee)+ie];U+=w[ae],r&&J.push("strokeText",L),i&&Q.push("fillText",L),++ae}return Array.prototype.push.apply(A,J),Array.prototype.push.apply(A,Q),this.labels_[o]=M,M}replayTextBackground_(e,t,i,r,o,u,h){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),u&&(this.alignAndScaleFill_=u[2],e.fillStyle=u[1],this.fill_(e)),h&&(this.setStrokeStyle_(e,h),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,o,u,h,f,g,p,y,v,b,S,C,w){h*=v[0],f*=v[1];let R=i-h,T=r-f;const z=o+g>e?e-g:o,A=u+p>t?t-p:u,O=S[3]+z*v[0]+S[1],D=S[0]+A*v[1]+S[2],M=R-S[3],P=T-S[0];(C||y!==0)&&(ws[0]=M,Cs[0]=M,ws[1]=P,ki[1]=P,ki[0]=M+O,zi[0]=ki[0],zi[1]=P+D,Cs[1]=zi[1]);let U;return y!==0?(U=hi(Zn(),i,r,1,1,y,-i,-r),_t(U,ws),_t(U,ki),_t(U,zi),_t(U,Cs),Fs(Math.min(ws[0],ki[0],zi[0],Cs[0]),Math.min(ws[1],ki[1],zi[1],Cs[1]),Math.max(ws[0],ki[0],zi[0],Cs[0]),Math.max(ws[1],ki[1],zi[1],Cs[1]),Sr)):Fs(Math.min(M,M+O),Math.min(P,P+D),Math.max(M,M+O),Math.max(P,P+D),Sr),b&&(R=Math.round(R),T=Math.round(T)),{drawImageX:R,drawImageY:T,drawImageW:z,drawImageH:A,originX:g,originY:p,declutterBox:{minX:Sr[0],minY:Sr[1],maxX:Sr[2],maxY:Sr[3],value:w},canvasTransform:U,scale:v}}replayImageOrLabel_(e,t,i,r,o,u,h){const f=!!(u||h),g=r.declutterBox,p=h?h[2]*r.scale[0]/2:0;return g.minX-p<=t[0]&&g.maxX+p>=0&&g.minY-p<=t[1]&&g.maxY+p>=0&&(f&&this.replayTextBackground_(e,ws,ki,zi,Cs,u,h),fT(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=_t(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,i,r){const o=this.textStates[t],u=this.createLabel(e,t,r,i),h=this.strokeStates[i],f=this.pixelRatio,g=Qd(Array.isArray(e)?e[0]:e,o.textAlign||mo),p=Oc[o.textBaseline||Ac],y=h&&h.lineWidth?h.lineWidth:0,v=u.width/f-2*o.scale[0],b=g*v+2*(.5-g)*y,S=p*u.height/f+2*(.5-p)*y;return{label:u,anchorX:b,anchorY:S}}execute_(e,t,i,r,o,u,h,f){const g=this.zIndexContext_;let p;this.pixelCoordinates_&&Ys(i,this.renderedTransform_)?p=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),p=zs(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),dC(this.renderedTransform_,i));let y=0;const v=r.length;let b=0,S,C,w,R,T,z,A,O,D,M,P,U,J,Q=0,ee=0;const ie=this.coordinateCache_,ae=this.viewRotation_,ue=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,G={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ae},Z=this.instructions!=r||this.overlaps?0:200;let $,re,oe,L;for(;y<v;){const j=r[y];switch(j[0]){case pe.BEGIN_GEOMETRY:$=j[1],L=j[3],$.getGeometry()?h!==void 0&&!Yt(h,L.getExtent())?y=j[2]+1:++y:y=j[2],g&&(g.zIndex=j[4]);break;case pe.BEGIN_PATH:Q>Z&&(this.fill_(e),Q=0),ee>Z&&(e.stroke(),ee=0),!Q&&!ee&&(e.beginPath(),T=NaN,z=NaN),++y;break;case pe.CIRCLE:b=j[1];const se=p[b],le=p[b+1],ge=p[b+2],_e=p[b+3],Ve=ge-se,te=_e-le,we=Math.sqrt(Ve*Ve+te*te);e.moveTo(se+we,le),e.arc(se,le,we,0,2*Math.PI,!0),++y;break;case pe.CLOSE_PATH:e.closePath(),++y;break;case pe.CUSTOM:b=j[1],S=j[2];const Zt=j[3],gi=j[4],qi=j[5];G.geometry=Zt,G.feature=$,y in ie||(ie[y]=[]);const Xt=ie[y];qi?qi(p,b,S,2,Xt):(Xt[0]=p[b],Xt[1]=p[b+1],Xt.length=2),g&&(g.zIndex=j[6]),gi(Xt,G),++y;break;case pe.DRAW_IMAGE:b=j[1],S=j[2],D=j[3],C=j[4],w=j[5];let Ft=j[6];const Kt=j[7],Wi=j[8],mi=j[9],pi=j[10];let Gn=j[11];const qn=j[12];let Qi=j[13];R=j[14]||"declutter";const ht=j[15];if(!D&&j.length>=20){M=j[19],P=j[20],U=j[21],J=j[22];const bt=this.drawLabelWithPointPlacement_(M,P,U,J);D=bt.label,j[3]=D;const yi=j[23];C=(bt.anchorX-yi)*this.pixelRatio,j[4]=C;const Bt=j[24];w=(bt.anchorY-Bt)*this.pixelRatio,j[5]=w,Ft=D.height,j[6]=Ft,Qi=D.width,j[13]=Qi}let Mt;j.length>25&&(Mt=j[25]);let Zr,Xs,Bs;j.length>17?(Zr=j[16],Xs=j[17],Bs=j[18]):(Zr=_a,Xs=null,Bs=null),pi&&ue?Gn+=ae:!pi&&!ue&&(Gn-=ae);let Da=0;for(;b<S;b+=2){if(Mt&&Mt[Da++]<Qi/this.pixelRatio)continue;const bt=this.calculateImageOrLabelDimensions_(D.width,D.height,p[b],p[b+1],Qi,Ft,C,w,Wi,mi,Gn,qn,o,Zr,!!Xs||!!Bs,$),yi=[e,t,D,bt,Kt,Xs,Bs];if(f){let Bt,qt,Et;if(ht){const $e=S-b;if(!ht[$e]){ht[$e]={args:yi,declutterMode:R};continue}const St=ht[$e];Bt=St.args,qt=St.declutterMode,delete ht[$e],Et=jx(Bt)}let Pn,xn;if(Bt&&(qt!=="declutter"||!f.collides(Et))&&(Pn=!0),(R!=="declutter"||!f.collides(bt.declutterBox))&&(xn=!0),qt==="declutter"&&R==="declutter"){const $e=Pn&&xn;Pn=$e,xn=$e}Pn&&(qt!=="none"&&f.insert(Et),this.replayImageOrLabel_.apply(this,Bt)),xn&&(R!=="none"&&f.insert(bt.declutterBox),this.replayImageOrLabel_.apply(this,yi))}else this.replayImageOrLabel_.apply(this,yi)}++y;break;case pe.DRAW_CHARS:const jo=j[1],Kr=j[2],qr=j[3],uh=j[4];J=j[5];const Hs=j[6],Gt=j[7],Un=j[8];U=j[9];const Lt=j[10];M=j[11],Array.isArray(M)&&(M=M.reduce(oA,"")),P=j[12];const ko=[j[13],j[13]];R=j[14]||"declutter";const ch=j[15],Wr=this.textStates[P],Wn=Wr.font,Qn=[Wr.scale[0]*Gt,Wr.scale[1]*Gt];let Jn;Wn in this.widths_?Jn=this.widths_[Wn]:(Jn={},this.widths_[Wn]=Jn);const $n=wm(p,jo,Kr,2),Vs=Math.abs(Qn[0])*_x(Wn,M,Jn);if(uh||Vs<=$n){const bt=this.textStates[P].textAlign,yi=($n-Vs)*Qd(M,bt),Bt=rA(p,jo,Kr,2,M,yi,Hs,Math.abs(Qn[0]),_x,Wn,Jn,ue?0:this.viewRotation_,ch);e:if(Bt){const qt=[];let Et,Pn,xn,$e,St;if(U)for(Et=0,Pn=Bt.length;Et<Pn;++Et){St=Bt[Et],xn=St[4],$e=this.createLabel(xn,P,"",U),C=St[2]+(Qn[0]<0?-Lt:Lt),w=qr*$e.height+(.5-qr)*2*Lt*Qn[1]/Qn[0]-Un;const un=this.calculateImageOrLabelDimensions_($e.width,$e.height,St[0],St[1],$e.width,$e.height,C,w,0,0,St[3],ko,!1,_a,!1,$);if(f&&R==="declutter"&&f.collides(un.declutterBox))break e;qt.push([e,t,$e,un,1,null,null])}if(J)for(Et=0,Pn=Bt.length;Et<Pn;++Et){St=Bt[Et],xn=St[4],$e=this.createLabel(xn,P,J,""),C=St[2],w=qr*$e.height-Un;const un=this.calculateImageOrLabelDimensions_($e.width,$e.height,St[0],St[1],$e.width,$e.height,C,w,0,0,St[3],ko,!1,_a,!1,$);if(f&&R==="declutter"&&f.collides(un.declutterBox))break e;qt.push([e,t,$e,un,1,null,null])}f&&R!=="none"&&f.load(qt.map(jx));for(let un=0,Qr=qt.length;un<Qr;++un)this.replayImageOrLabel_.apply(this,qt[un])}}++y;break;case pe.END_GEOMETRY:if(u!==void 0){$=j[1];const bt=u($,L,R);if(bt)return bt}++y;break;case pe.FILL:Z?Q++:this.fill_(e),++y;break;case pe.MOVE_TO_LINE_TO:for(b=j[1],S=j[2],re=p[b],oe=p[b+1],e.moveTo(re,oe),T=re+.5|0,z=oe+.5|0,b+=2;b<S;b+=2)re=p[b],oe=p[b+1],A=re+.5|0,O=oe+.5|0,(b==S-2||A!==T||O!==z)&&(e.lineTo(re,oe),T=A,z=O);++y;break;case pe.SET_FILL_STYLE:this.alignAndScaleFill_=j[2],Q&&(this.fill_(e),Q=0,ee&&(e.stroke(),ee=0)),e.fillStyle=j[1],++y;break;case pe.SET_STROKE_STYLE:ee&&(e.stroke(),ee=0),this.setStrokeStyle_(e,j),++y;break;case pe.STROKE:Z?ee++:e.stroke(),++y;break;default:++y;break}}Q&&this.fill_(e),ee&&e.stroke()}execute(e,t,i,r,o,u){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,o,void 0,void 0,u)}executeHitDetection(e,t,i,r,o){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,o)}}const ma=["Polygon","Circle","LineString","Image","Text","Default"],Hv=["Image","Text"],cA=ma.filter(a=>!Hv.includes(a));class hA{constructor(e,t,i,r,o,u,h){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=u,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Zn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const o=e[i];for(const u in o){const h=o[u];r[u]=new uA(this.resolution_,this.pixelRatio_,this.overlaps_,h,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,o,u){r=Math.round(r);const h=r*2+1,f=hi(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=vt(h,h));const p=this.hitDetectionContext_;p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):g||p.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=zn(),no(y,e),Ug(y,t*(this.renderBuffer_+r),y));const v=fA(r);let b;function S(O,D,M){const P=p.getImageData(0,0,h,h).data;for(let U=0,J=v.length;U<J;U++)if(P[v[U]]>0){if(!u||M==="none"||b!=="Image"&&b!=="Text"||u.includes(O)){const Q=(v[U]-3)/4,ee=r-Q%h,ie=r-(Q/h|0),ae=o(O,D,ee*ee+ie*ie);if(ae)return ae}p.clearRect(0,0,h,h);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(Pi);let w,R,T,z,A;for(w=C.length-1;w>=0;--w){const O=C[w].toString();for(T=this.executorsByZIndex_[O],R=ma.length-1;R>=0;--R)if(b=ma[R],z=T[b],z!==void 0&&(A=z.executeHitDetection(p,f,i,S,y),A))return A}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],r=t[1],o=t[2],u=t[3],h=[i,r,i,u,o,u,o,r];return zs(h,0,8,2,e,h),h}isEmpty(){return Sa(this.executorsByZIndex_)}execute(e,t,i,r,o,u,h){const f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(h?dw:Pi),u=u||ma;const g=ma.length;for(let p=0,y=f.length;p<y;++p){const v=f[p].toString(),b=this.executorsByZIndex_[v];for(let S=0,C=u.length;S<C;++S){const w=u[S],R=b[w];if(R!==void 0){const T=h===null?void 0:R.getZIndexContext(),z=T?T.getContext():e,A=this.maxExtent_&&w!=="Image"&&w!=="Text";if(A&&(z.save(),this.clip(z,i)),!T||w==="Text"||w==="Image"?R.execute(z,t,i,r,o,h):T.pushFunction(O=>R.execute(O,t,i,r,o,h)),A&&z.restore(),T){T.offset();const O=f[p]*g+ma.indexOf(w);this.deferredZIndexContexts_[O]||(this.deferredZIndexContexts_[O]=[]),this.deferredZIndexContexts_[O].push(T)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Pi);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[t[i]].length=0}}const Jd={};function fA(a){if(Jd[a]!==void 0)return Jd[a];const e=a*2+1,t=a*a,i=new Array(t+1);for(let o=0;o<=a;++o)for(let u=0;u<=a;++u){const h=o*o+u*u;if(h>t)break;let f=i[h];f||(f=[],i[h]=f),f.push(((a+o)*e+(a+u))*4+3),o>0&&f.push(((a-o)*e+(a+u))*4+3),u>0&&(f.push(((a+o)*e+(a-u))*4+3),o>0&&f.push(((a-o)*e+(a-u))*4+3))}const r=[];for(let o=0,u=i.length;o<u;++o)i[o]&&r.push(...i[o]);return Jd[a]=r,r}class dA extends Bv{constructor(e,t,i,r,o,u,h){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?Xc(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=u,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Zn()}drawImages_(e,t,i,r){if(!this.image_)return;const o=zs(e,t,i,r,this.transform_,this.pixelCoordinates_),u=this.context_,h=this.tmpLocalTransform_,f=u.globalAlpha;this.imageOpacity_!=1&&(u.globalAlpha=f*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let p=0,y=o.length;p<y;p+=2){const v=o[p]-this.imageAnchorX_,b=o[p+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const S=v+this.imageAnchorX_,C=b+this.imageAnchorY_;hi(h,S,C,1,1,g,-S,-C),u.save(),u.transform.apply(u,h),u.translate(S,C),u.scale(this.imageScale_[0],this.imageScale_[1]),u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),u.restore()}else u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,b,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(u.globalAlpha=f)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=zs(e,t,i,r,this.transform_,this.pixelCoordinates_),u=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);t<i;t+=r){const f=o[t]+this.textOffsetX_,g=o[t+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(u.save(),u.translate(f-this.textOffsetX_,g-this.textOffsetY_),u.rotate(h),u.translate(this.textOffsetX_,this.textOffsetY_),u.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&u.strokeText(this.text_,0,0),this.textFillState_&&u.fillText(this.text_,0,0),u.restore()):(this.textStrokeState_&&u.strokeText(this.text_,f,g),this.textFillState_&&u.fillText(this.text_,f,g))}}moveToLineTo_(e,t,i,r,o){const u=this.context_,h=zs(e,t,i,r,this.transform_,this.pixelCoordinates_);u.moveTo(h[0],h[1]);let f=h.length;o&&(f-=2);for(let g=2;g<f;g+=2)u.lineTo(h[g],h[g+1]);return o&&u.closePath(),i}drawRings_(e,t,i,r){for(let o=0,u=i.length;o<u;++o)t=this.moveToLineTo_(e,t,i[o],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=bC(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(i*i+r*r),u=this.context_;u.beginPath(),u.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&u.fill(),this.strokeState_&&u.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Yt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let o=0;const u=e.getEnds(),h=e.getStride();i.beginPath();for(let f=0,g=u.length;f<g;++f)o=this.moveToLineTo_(r,o,u[f],h,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Yt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const o=e.getEndss(),u=e.getStride();t.beginPath();for(let h=0,f=o.length;h<f;++h){const g=o[h];r=this.drawRings_(i,r,g,u)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Ys(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:mo;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:oi(i||rn)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),u=t.getLineDashOffset(),h=t.getLineJoin(),f=t.getWidth(),g=t.getMiterLimit(),p=o||Xi;this.strokeState_={lineCap:r!==void 0?r:Fr,lineDash:this.pixelRatio_===1?p:p.map(y=>y*this.pixelRatio_),lineDashOffset:(u||Bi)*this.pixelRatio_,lineJoin:h!==void 0?h:Gr,lineWidth:(f!==void 0?f:po)*this.pixelRatio_,miterLimit:g!==void 0?g:fo,strokeStyle:oi(i||go)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const u=e.getScaleArray();this.imageScale_=[u[0]*this.pixelRatio_/i,u[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const b=t.getColor();this.textFillState_={fillStyle:oi(b||rn)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const b=i.getColor(),S=i.getLineCap(),C=i.getLineDash(),w=i.getLineDashOffset(),R=i.getLineJoin(),T=i.getWidth(),z=i.getMiterLimit();this.textStrokeState_={lineCap:S!==void 0?S:Fr,lineDash:C||Xi,lineDashOffset:w||Bi,lineJoin:R!==void 0?R:Gr,lineWidth:T!==void 0?T:po,miterLimit:z!==void 0?z:fo,strokeStyle:oi(b||go)}}const r=e.getFont(),o=e.getOffsetX(),u=e.getOffsetY(),h=e.getRotateWithView(),f=e.getRotation(),g=e.getScaleArray(),p=e.getText(),y=e.getTextAlign(),v=e.getTextBaseline();this.textState_={font:r!==void 0?r:Sv,textAlign:y!==void 0?y:mo,textBaseline:v!==void 0?v:Ac},this.text_=p!==void 0?Array.isArray(p)?p.reduce((b,S,C)=>b+=C%2?" ":S,""):p:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=u!==void 0?this.pixelRatio_*u:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=f!==void 0?f:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const ri=.5;function gA(a,e,t,i,r,o,u,h,f){const g=r,p=a[0]*ri,y=a[1]*ri,v=vt(p,y);v.imageSmoothingEnabled=!1;const b=v.canvas,S=new dA(v,ri,r,null,u,h,null),C=t.length,w=Math.floor((256*256*256-1)/C),R={};for(let z=1;z<=C;++z){const A=t[z-1],O=A.getStyleFunction()||i;if(!O)continue;let D=O(A,o);if(!D)continue;Array.isArray(D)||(D=[D]);const P=(z*w).toString(16).padStart(7,"#00000");for(let U=0,J=D.length;U<J;++U){const Q=D[U],ee=Q.getGeometryFunction()(A);if(!ee||!Yt(g,ee.getExtent()))continue;const ie=Q.clone(),ae=ie.getFill();ae&&ae.setColor(P);const ue=ie.getStroke();ue&&(ue.setColor(P),ue.setLineDash(null)),ie.setText(void 0);const G=Q.getImage();if(G){const oe=G.getImageSize();if(!oe)continue;const L=vt(oe[0],oe[1],void 0,{alpha:!1}),j=L.canvas;L.fillStyle=P,L.fillRect(0,0,j.width,j.height),ie.setImage(new Rv({img:j,anchor:G.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:G.getOrigin(),opacity:1,size:G.getSize(),scale:G.getScale(),rotation:G.getRotation(),rotateWithView:G.getRotateWithView()}))}const Z=ie.getZIndex()||0;let $=R[Z];$||($={},R[Z]=$,$.Polygon=[],$.Circle=[],$.LineString=[],$.Point=[]);const re=ee.getType();if(re==="GeometryCollection"){const oe=ee.getGeometriesArrayRecursive();for(let L=0,j=oe.length;L<j;++L){const ne=oe[L];$[ne.getType().replace("Multi","")].push(ne,ie)}}else $[re.replace("Multi","")].push(ee,ie)}}const T=Object.keys(R).map(Number).sort(Pi);for(let z=0,A=T.length;z<A;++z){const O=R[T[z]];for(const D in O){const M=O[D];for(let P=0,U=M.length;P<U;P+=2){S.setStyle(M[P+1]);for(let J=0,Q=e.length;J<Q;++J)S.setTransform(e[J]),S.drawGeometry(M[P])}}}return v.getImageData(0,0,b.width,b.height)}function mA(a,e,t){const i=[];if(t){const r=Math.floor(Math.round(a[0])*ri),o=Math.floor(Math.round(a[1])*ri),u=(it(r,0,t.width-1)+it(o,0,t.height-1)*t.width)*4,h=t.data[u],f=t.data[u+1],p=t.data[u+2]+256*(f+256*h),y=Math.floor((256*256*256-1)/e.length);p&&p%y===0&&i.push(e[p/y-1])}return i}const pA=.5,Vv={Point:wA,LineString:bA,Polygon:RA,MultiPoint:CA,MultiLineString:EA,MultiPolygon:SA,GeometryCollection:vA,Circle:_A};function yA(a,e){return parseInt(Ge(a),10)-parseInt(Ge(e),10)}function zx(a,e){const t=Zv(a,e);return t*t}function Zv(a,e){return pA*a/e}function _A(a,e,t,i,r){const o=t.getFill(),u=t.getStroke();if(o||u){const f=a.getBuilder(t.getZIndex(),"Circle");f.setFillStrokeStyle(o,u),f.drawCircle(e,i,r)}const h=t.getText();if(h&&h.getText()){const f=a.getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i)}}function Fx(a,e,t,i,r,o,u,h){const f=[],g=t.getImage();if(g){let v=!0;const b=g.getImageState();b==fe.LOADED||b==fe.ERROR?v=!1:b==fe.IDLE&&g.load(),v&&f.push(g.ready())}const p=t.getFill();p&&p.loading()&&f.push(p.ready());const y=f.length>0;return y&&Promise.all(f).then(()=>r(null)),xA(a,e,t,i,o,u,h),y}function xA(a,e,t,i,r,o,u){const h=t.getGeometryFunction()(e);if(!h)return;const f=h.simplifyTransformed(i,r);if(t.getRenderer())Kv(a,f,t,e,u);else{const p=Vv[f.getType()];p(a,f,t,e,u,o)}}function Kv(a,e,t,i,r){if(e.getType()=="GeometryCollection"){const u=e.getGeometries();for(let h=0,f=u.length;h<f;++h)Kv(a,u[h],t,i,r);return}a.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function vA(a,e,t,i,r,o){const u=e.getGeometriesArray();let h,f;for(h=0,f=u.length;h<f;++h){const g=Vv[u[h].getType()];g(a,u[h],t,i,r,o)}}function bA(a,e,t,i,r){const o=t.getStroke();if(o){const h=a.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(e,i,r)}const u=t.getText();if(u&&u.getText()){const h=a.getBuilder(t.getZIndex(),"Text");h.setTextStyle(u),h.drawText(e,i,r)}}function EA(a,e,t,i,r){const o=t.getStroke();if(o){const h=a.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(e,i,r)}const u=t.getText();if(u&&u.getText()){const h=a.getBuilder(t.getZIndex(),"Text");h.setTextStyle(u),h.drawText(e,i,r)}}function SA(a,e,t,i,r){const o=t.getFill(),u=t.getStroke();if(u||o){const f=a.getBuilder(t.getZIndex(),"Polygon");f.setFillStrokeStyle(o,u),f.drawMultiPolygon(e,i,r)}const h=t.getText();if(h&&h.getText()){const f=a.getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i,r)}}function wA(a,e,t,i,r,o){const u=t.getImage(),h=t.getText(),f=h&&h.getText(),g=o&&u&&f?{}:void 0;if(u){if(u.getImageState()!=fe.LOADED)return;const p=a.getBuilder(t.getZIndex(),"Image");p.setImageStyle(u,g),p.drawPoint(e,i,r)}if(f){const p=a.getBuilder(t.getZIndex(),"Text");p.setTextStyle(h,g),p.drawText(e,i,r)}}function CA(a,e,t,i,r,o){const u=t.getImage(),h=u&&u.getOpacity()!==0,f=t.getText(),g=f&&f.getText(),p=o&&h&&g?{}:void 0;if(h){if(u.getImageState()!=fe.LOADED)return;const y=a.getBuilder(t.getZIndex(),"Image");y.setImageStyle(u,p),y.drawMultiPoint(e,i,r)}if(g){const y=a.getBuilder(t.getZIndex(),"Text");y.setTextStyle(f,p),y.drawText(e,i,r)}}function RA(a,e,t,i,r){const o=t.getFill(),u=t.getStroke();if(o||u){const f=a.getBuilder(t.getZIndex(),"Polygon");f.setFillStrokeStyle(o,u),f.drawPolygon(e,i,r)}const h=t.getText();if(h&&h.getText()){const f=a.getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i,r)}}class TA extends Sm{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=zn(),this.wrappedRenderedExtent_=zn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const r=t.extent,o=t.viewState,u=o.center,h=o.resolution,f=o.projection,g=o.rotation,p=f.getExtent(),y=this.getLayer().getSource(),v=this.getLayer().getDeclutter(),b=t.pixelRatio,S=t.viewHints,C=!(S[Tt.ANIMATING]||S[Tt.INTERACTING]),w=this.context,R=Math.round(ke(r)/h*b),T=Math.round(xt(r)/h*b),z=y.getWrapX()&&f.canWrapX(),A=z?ke(p):null,O=z?Math.ceil((r[2]-p[2])/A)+1:1;let D=z?Math.floor((r[0]-p[0])/A):0;do{let M=this.getRenderTransform(u,h,0,b,R,T,D*A);t.declutter&&(M=M.slice(0)),e.execute(w,[w.canvas.width,w.canvas.height],M,g,C,i===void 0?ma:i?Hv:cA,i?v&&t.declutter[v]:void 0)}while(++D<O)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=vt(this.context.canvas.width,this.context.canvas.height,Lx))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,eh(this.context),Lx.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,t);const o=this.context,u=this.replayGroup_;let h=u&&!u.isEmpty();if(!h&&!(this.getLayer().hasListener(Dn.PRERENDER)||this.getLayer().hasListener(Dn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,e),r.projection,this.clipped_=!1,h&&i.extent&&this.clipping){const f=li(i.extent);h=Yt(f,e.extent),this.clipped_=h&&!Os(f,e.extent),this.clipped_&&this.clipUnrotated(o,e,f)}return h&&this.renderWorlds(u,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,u=this.renderedRotation_,h=this.renderedProjection_,f=this.wrappedRenderedExtent_,g=this.getLayer(),p=[],y=i[0]*ri,v=i[1]*ri;p.push(this.getRenderTransform(r,o,u,ri,y,v,0).slice());const b=g.getSource(),S=h.getExtent();if(b.getWrapX()&&h.canWrapX()&&!Os(S,f)){let C=f[0];const w=ke(S);let R=0,T;for(;C<S[0];)--R,T=w*R,p.push(this.getRenderTransform(r,o,u,ri,y,v,T).slice()),C+=w;for(R=0,C=f[2];C>S[2];)++R,T=w*R,p.push(this.getRenderTransform(r,o,u,ri,y,v,T).slice()),C-=w}this.hitDetectionImageData_=gA(i,p,this.renderedFeatures_,g.getStyleFunction(),f,o,u,zx(o,this.renderedPixelRatio_))}t(mA(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,o){if(!this.replayGroup_)return;const u=t.viewState.resolution,h=t.viewState.rotation,f=this.getLayer(),g={},p=function(v,b,S){const C=Ge(v),w=g[C];if(w){if(w!==!0&&S<w.distanceSq){if(S===0)return g[C]=!0,o.splice(o.lastIndexOf(w),1),r(v,f,b);w.geometry=b,w.distanceSq=S}}else{if(S===0)return g[C]=!0,r(v,f,b);o.push(g[C]={feature:v,layer:f,geometry:b,distanceSq:S,callback:r})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,u,h,i,p,y?t.declutter?.[y]?.all().map(v=>v.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const r=e.viewHints[Tt.ANIMATING],o=e.viewHints[Tt.INTERACTING],u=t.getUpdateWhileAnimating(),h=t.getUpdateWhileInteracting();if(this.ready&&!u&&r||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=e.extent,g=e.viewState,p=g.projection,y=g.resolution,v=e.pixelRatio,b=t.getRevision(),S=t.getRenderBuffer();let C=t.getRenderOrder();C===void 0&&(C=yA);const w=g.center.slice(),R=Ug(f,S*y),T=R.slice(),z=[R.slice()],A=p.getExtent();if(i.getWrapX()&&p.canWrapX()&&!Os(A,e.extent)){const ae=ke(A),ue=Math.max(ke(R)/2,ae);R[0]=A[0]-ue,R[2]=A[2]+ue,F1(w,p);const G=k1(z[0],p);G[0]<A[0]&&G[2]<A[2]?z.push([G[0]+ae,G[1],G[2]+ae,G[3]]):G[0]>A[0]&&G[2]>A[2]&&z.push([G[0]-ae,G[1],G[2]-ae,G[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==b&&this.renderedRenderOrder_==C&&this.renderedFrameDeclutter_===!!e.declutter&&Os(this.wrappedRenderedExtent_,R))return Ys(this.renderedExtent_,T)||(this.hitDetectionImageData_=null,this.renderedExtent_=T),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const O=new aA(Zv(y,v),R,y,v);let D;for(let ae=0,ue=z.length;ae<ue;++ae)i.loadFeatures(z[ae],y,p);const M=zx(y,v);let P=!0;const U=(ae,ue)=>{let G;const Z=ae.getStyleFunction()||t.getStyleFunction();if(Z&&(G=Z(ae,y)),G){const $=this.renderFeature(ae,M,G,O,D,this.getLayer().getDeclutter(),ue);P=P&&!$}},J=Z1(R),Q=i.getFeaturesInExtent(J);C&&Q.sort(C);for(let ae=0,ue=Q.length;ae<ue;++ae)U(Q[ae],ae);this.renderedFeatures_=Q,this.ready=P;const ee=O.finish(),ie=new hA(R,y,v,i.getOverlaps(),ee,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=y,this.renderedRevision_=b,this.renderedRenderOrder_=C,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=T,this.wrappedRenderedExtent_=R,this.renderedCenter_=w,this.renderedProjection_=p,this.renderedPixelRatio_=v,this.replayGroup_=ie,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,o,u,h){if(!i)return!1;let f=!1;if(Array.isArray(i))for(let g=0,p=i.length;g<p;++g)f=Fx(r,e,i[g],t,this.boundHandleStyleImageChange_,o,u,h)||f;else f=Fx(r,e,i,t,this.boundHandleStyleImageChange_,o,u,h);return f}}class Gx extends Iv{constructor(e){super(e)}createRenderer(){return new TA(this)}}let AA=!1;function MA(a,e,t,i,r,o,u){const h=new XMLHttpRequest;h.open("GET",typeof a=="function"?a(t,i,r):a,!0),e.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=AA,h.onload=function(f){if(!h.status||h.status>=200&&h.status<300){const g=e.getType();try{let p;g=="text"||g=="json"?p=h.responseText:g=="xml"?p=h.responseXML||h.responseText:g=="arraybuffer"&&(p=h.response),p?o(e.readFeatures(p,{extent:t,featureProjection:r}),e.readProjection(p)):u()}catch{u()}}else u()},h.onerror=u,h.send()}function Ux(a,e){return function(t,i,r,o,u){MA(a,e,t,i,r,(h,f)=>{this.addFeatures(h),o!==void 0&&o(h)},()=>{this.changed(),u!==void 0&&u()})}}function LA(a,e){return[[-1/0,-1/0,1/0,1/0]]}class rh extends di{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new rh(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Qe(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=je(e,be.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?NA(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function NA(a){if(typeof a=="function")return a;let e;return Array.isArray(a)?e=a:(Ye(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[a]),function(){return e}}function qv(a,e,t,i){const r=[];let o=zn();for(let u=0,h=t.length;u<h;++u){const f=t[u];o=Yg(a,e,f[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=f[f.length-1]}return r}function Dc(a,e,t,i,r,o,u){let h,f;const g=(t-e)/i;if(g===1)h=e;else if(g===2)h=e,f=r;else if(g!==0){let p=a[e],y=a[e+1],v=0;const b=[0];for(let w=e+i;w<t;w+=i){const R=a[w],T=a[w+1];v+=Math.sqrt((R-p)*(R-p)+(T-y)*(T-y)),b.push(v),p=R,y=T}const S=r*v,C=fw(b,S);C<0?(f=(S-b[-C-2])/(b[-C-1]-b[-C-2]),h=e+(-C-2)*i):h=e+C*i}u=u>1?u:2,o=o||new Array(u);for(let p=0;p<u;++p)o[p]=h===void 0?NaN:f===void 0?a[h+p]:yn(a[h+p],a[h+i+p],f);return o}function Mg(a,e,t,i,r,o){if(t==e)return null;let u;if(r<a[e+i-1])return o?(u=a.slice(e,e+i),u[i-1]=r,u):null;if(a[t-1]<r)return o?(u=a.slice(t-i,t),u[i-1]=r,u):null;if(r==a[e+i-1])return a.slice(e,e+i);let h=e/i,f=t/i;for(;h<f;){const v=h+f>>1;r<a[(v+1)*i-1]?f=v:h=v+1}const g=a[h*i-1];if(r==g)return a.slice((h-1)*i,(h-1)*i+i);const p=a[(h+1)*i-1],y=(r-g)/(p-g);u=[];for(let v=0;v<i-1;++v)u.push(yn(a[(h-1)*i+v],a[h*i+v],y));return u.push(r),u}function OA(a,e,t,i,r,o,u){if(u)return Mg(a,e,t[t.length-1],i,r,o);let h;if(r<a[i-1])return o?(h=a.slice(0,i),h[i-1]=r,h):null;if(a[a.length-1]<r)return o?(h=a.slice(a.length-i),h[i-1]=r,h):null;for(let f=0,g=t.length;f<g;++f){const p=t[f];if(e!=p){if(r<a[e+i-1])return null;if(r<=a[p-1])return Mg(a,e,p,i,r,!1);e=p}}return null}class Ic extends W1{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Qe),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,i=e.length;t<i;++t)this.changeEventsKeys_.push(je(e[t],be.CHANGE,this.changed,this))}clone(){const e=new Ic($d(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<Aa(this.getExtent(),e,t))return r;const o=this.geometries_;for(let u=0,h=o.length;u<h;++u)r=o[u].closestPointXY(e,t,i,r);return r}containsXY(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)if(i[r].containsXY(e,t))return!0;return!1}computeExtent(e){To(e);const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)O1(e,t[i].getExtent());return e}getGeometries(){return $d(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let r=!1;for(let o=0,u=i.length;o<u;++o){const h=i[o],f=h.getSimplifiedGeometry(e);t.push(f),f!==h&&(r=!0)}return r?new Ic(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].rotate(e,t);this.changed()}scale(e,t,i){i||(i=ci(this.getExtent()));const r=this.geometries_;for(let o=0,u=r.length;o<u;++o)r[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray($d(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function $d(a){return a.map(e=>e.clone())}class Ur extends La{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){ui(this.flatCoordinates,e),this.changed()}clone(){const e=new Ur(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$g(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,r))}forEachSegment(e){return iv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,Mg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return Ds(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Dc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return wm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Qc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Ur(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Jc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Wc(this.flatCoordinates,0,e,this.stride),this.changed()}}class jc extends La{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{const r=e,o=[],u=[];for(let f=0,g=r.length;f<g;++f){const p=r[f];ui(o,p.getFlatCoordinates()),u.push(o.length)}const h=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(h,o),this.ends_=u}}appendLineString(e){ui(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new jc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),em(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,r))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,OA(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return co(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Ur(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,r=[];let o=0;for(let u=0,h=t.length;u<h;++u){const f=t[u],g=new Ur(e.slice(o,f),i);r.push(g),o=f}return r}getLength(){const e=this.ends_;let t=0,i=0;for(let r=0,o=e.length;r<o;++r)i+=wm(this.flatCoordinates,t,e[r],this.stride),t=e[r];return i}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const r=this.ends_,o=this.stride;for(let u=0,h=r.length;u<h;++u){const f=r[u],g=Dc(t,i,f,o,.5);ui(e,g),i=f}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=ev(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new jc(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return LC(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Mo(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class lh extends La{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){ui(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new lh(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<Aa(this.getExtent(),e,t))return r;const o=this.flatCoordinates,u=this.stride;for(let h=0,f=o.length;h<f;h+=u){const g=va(e,t,o[h],o[h+1]);if(g<r){r=g;for(let p=0;p<u;++p)i[p]=o[h+p];i.length=u}}return r}getCoordinates(){return Ds(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new wc(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,r=[];for(let o=0,u=e.length;o<u;o+=i){const h=new wc(e.slice(o,o+i),t);r.push(h)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let r=0,o=t.length;r<o;r+=i){const u=t[r],h=t[r+1];if(Pg(e,u,h))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Wc(this.flatCoordinates,0,e,this.stride),this.changed()}}class kc extends La{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,o=[],u=[];for(let h=0,f=r.length;h<f;++h){const g=r[h],p=o.length,y=g.getEnds();for(let v=0,b=y.length;v<b;++v)y[v]+=p;ui(o,g.getFlatCoordinates()),u.push(y)}t=r.length===0?this.getLayout():r[0].getLayout(),e=o,i=u}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;ui(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,o=t.length;r<o;++r)t[r]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();const i=new kc(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(SC(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),wC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return MC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return EC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),vg(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,xg(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=qv(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=nv(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new lh(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;rv(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=vg(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=TC(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new kc(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(t!==0)for(let o=0,u=i.length;o<u;++o)i[o]-=t;return new Gs(this.flatCoordinates.slice(t,r),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,r=[];let o=0;for(let u=0,h=i.length;u<h;++u){const f=i[u].slice(),g=f[f.length-1];if(o!==0)for(let y=0,v=f.length;y<v;++y)f[y]-=o;const p=new Gs(t.slice(o,g),e,f);r.push(p),o=g}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return NC(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=$1(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const Px=Zn();class _n{constructor(e,t,i,r,o,u){this.styleFunction,this.extent_,this.id_=u,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?N1(this.flatCoordinates_):Yg(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=ci(this.getExtent());this.flatInteriorPoints_=im(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=DC(this.flatCoordinates_,this.ends_),t=qv(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=nv(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Dc(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let r=0,o=i.length;r<o;++r){const u=i[r],h=Dc(e,t,u,2,.5);ui(this.flatMidpoints_,h),t=u}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=st(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const r=xt(i)/xt(t);hi(Px,i[0],i[3],r,-r,0,0,0),zs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Px,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new _n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=C1((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=Qc(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=ev(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=tm(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new _n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}_n.prototype.getFlatCoordinates=_n.prototype.getOrientedFlatCoordinates;class Yx{constructor(e){this.rbush_=new mv(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Ge(t)]=i}load(e,t){const i=new Array(t.length);for(let r=0,o=t.length;r<o;r++){const u=e[r],h=t[r],f={minX:u[0],minY:u[1],maxX:u[2],maxY:u[3],value:h};i[r]=f,this.items_[Ge(h)]=f}this.rbush_.load(i)}remove(e){const t=Ge(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[Ge(t)],r=[i.minX,i.minY,i.maxX,i.maxY];jr(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,o=e.length;r<o;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return Sa(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Fs(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class Cm extends di{constructor(e){super(),this.projection=st(e.projection),this.attributions_=Xx(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Xx(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Xx(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),e=>a):null}const Ln={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Rs extends fi{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class Bx extends Cm{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=lo,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Ye(this.format_,"`format` must be set when `url` is set"),this.loader_=Ux(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:LA;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new Yx:null,this.loadedExtentsRtree_=new Yx,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new Nn(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Ge(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Rs(Ln.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof _n||(this.featureChangeKeys_[e]=[je(t,be.CHANGE,this.handleFeatureChange_,this),je(t,Ir.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof _n){const o=this.idIndex_[r];o instanceof _n?Array.isArray(o)?o.push(t):this.idIndex_[r]=[o,t]:i=!1}else i=!1}return i&&(Ye(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],r=[];for(let o=0,u=e.length;o<u;o++){const h=e[o],f=Ge(h);this.addToIndex_(f,h)&&i.push(h)}for(let o=0,u=i.length;o<u;o++){const h=i[o],f=Ge(h);this.setupChangeEvents_(f,h);const g=h.getGeometry();if(g){const p=g.getExtent();t.push(p),r.push(h)}else this.nullGeometryFeatures_[f]=h}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(Ln.ADDFEATURE))for(let o=0,u=i.length;o<u;o++)this.dispatchEvent(new Rs(Ln.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Ln.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(Ln.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(sn.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(sn.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Qe);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Rs(Ln.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const o=r.getGeometry();if(o instanceof _n||o.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof _n||r.intersectsExtent(e)){const o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Sa(this.nullGeometryFeatures_)||ui(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=z1(e,t);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],r=e[1];let o=null;const u=[NaN,NaN];let h=1/0;const f=[-1/0,-1/0,1/0,1/0];return t=t||ro,this.featuresRtree_.forEachInExtent(f,function(g){if(t(g)){const p=g.getGeometry(),y=h;if(h=p instanceof _n?0:p.closestPointXY(i,r,u,h),h<y){o=g;const v=Math.sqrt(h);f[0]=i-v,f[1]=r-v,f[2]=i+v,f[3]=r+v}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=Ge(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const u=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(u,t)):this.featuresRtree_&&this.featuresRtree_.update(u,t)}const o=t.getId();if(o!==void 0){const u=o.toString();this.idIndex_[u]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[u]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Rs(Ln.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:Ge(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Sa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const r=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let u=0,h=o.length;u<h;++u){const f=o[u];r.forEachInExtent(f,function(p){return Os(p.extent,f)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Rs(Ln.FEATURESLOADSTART)),this.loader_.call(this,f,t,i,p=>{--this.loadingExtentsCount_,this.dispatchEvent(new Rs(Ln.FEATURESLOADEND,void 0,p))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Rs(Ln.FEATURESLOADERROR))}),r.insert(f,{extent:f.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(jr(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Ge(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(Qe),delete this.featureChangeKeys_[t];const r=e.getId();if(r!==void 0){const o=r.toString(),u=this.idIndex_[o];u===e?delete this.idIndex_[o]:Array.isArray(u)&&(u.splice(u.indexOf(e),1),u.length===1&&(this.idIndex_[o]=u[0]))}return delete this.uidIndex_[t],this.hasListener(Ln.REMOVEFEATURE)&&this.dispatchEvent(new Rs(Ln.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Ye(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Ux(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const wr=[0,0,0],Ts=5;class Wv{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ye(mw(this.resolutions_,(r,o)=>o-r),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ye(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ma(i)),Ye(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ye(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:um,Ye(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,o)=>{const u=new Em(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const h=this.getTileRangeForExtentAndZ(i,o);u.minX=Math.max(h.minX,u.minX),u.maxX=Math.min(h.maxX,u.maxX),u.minY=Math.max(h.minY,u.minY),u.maxY=Math.min(h.maxY,u.maxY)}return u}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const r=this.getTileRangeForExtentAndZ(e,t);for(let o=r.minX,u=r.maxX;o<=u;++o)for(let h=r.minY,f=r.maxY;h<=f;++h)i([t,o,h])}forEachTileCoordParentTileRange(e,t,i,r){let o,u,h,f=null,g=e[0]-1;for(this.zoomFactor_===2?(u=e[1],h=e[2]):f=this.getTileCoordExtent(e,r);g>=this.minZoom;){if(u!==void 0&&h!==void 0?(u=Math.floor(u/2),h=Math.floor(h/2),o=Er(u,u,h,h,i)):o=this.getTileRangeForExtentAndZ(f,g,i),t(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,u=e[2]*2;return Er(o,o+1,u,u+1,t)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],o=e[1],u=e[2];if(t===r)return Er(o,u,o,u,i);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,t-r),g=Math.floor(o*f),p=Math.floor(u*f);if(t<r)return Er(g,g,p,p,i);const y=Math.floor(f*(o+1))-1,v=Math.floor(f*(u+1))-1;return Er(g,y,p,v,i)}const h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,wr);const r=wr[1],o=wr[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,wr);const u=wr[1],h=wr[2];return Er(r,u,o,h,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=on(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=on(this.getTileSize(e[0]),this.tmpSize_),u=i[0]+e[1]*o[0]*r,h=i[1]-(e[2]+1)*o[1]*r,f=u+o[0]*r,g=h+o[1]*r;return Fs(u,h,f,g,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,o){const u=this.getZForResolution(i),h=i/this.getResolution(u),f=this.getOrigin(u),g=on(this.getTileSize(u),this.tmpSize_);let p=h*(e-f[0])/i/g[0],y=h*(f[1]-t)/i/g[1];return r?(p=Ns(p,Ts)-1,y=Ns(y,Ts)-1):(p=Qu(p,Ts),y=Qu(y,Ts)),Nc(u,p,y,o)}getTileCoordForXYAndZ_(e,t,i,r,o){const u=this.getOrigin(i),h=this.getResolution(i),f=on(this.getTileSize(i),this.tmpSize_);let g=(e-u[0])/h/f[0],p=(u[1]-t)/h/f[1];return r?(g=Ns(g,Ts)-1,p=Ns(p,Ts)-1):(g=Qu(g,Ts),p=Qu(p,Ts)),Nc(i,g,p,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=Pc(this.resolutions_,e,t||0);return it(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return sv(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function Qv(a){let e=a.getDefaultTileGrid();return e||(e=kA(a),a.setDefaultTileGrid(e)),e}function DA(a,e,t){const i=e[0],r=a.getTileCoordCenter(e),o=Rm(t);if(!Ca(o,r)){const u=ke(o),h=Math.ceil((o[0]-r[0])/u);return r[0]+=u*h,a.getTileCoordForCoordAndZ(r,i)}return e}function IA(a,e,t,i){i=i!==void 0?i:"top-left";const r=Jv(a,e,t);return new Wv({extent:a,origin:Mw(a,i),resolutions:r,tileSize:t})}function jA(a){const e=a||{},t=e.extent||st("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Jv(t,e.maxZoom,e.tileSize,e.maxResolution)};return new Wv(i)}function Jv(a,e,t,i){e=e!==void 0?e:FC,t=on(t!==void 0?t:um);const r=xt(a),o=ke(a);i=i>0?i:Math.max(o/t[0],r/t[1]);const u=e+1,h=new Array(u);for(let f=0;f<u;++f)h[f]=i/Math.pow(2,f);return h}function kA(a,e,t,i){const r=Rm(a);return IA(r,e,t,i)}function Rm(a){a=st(a);let e=a.getExtent();if(!e){const t=180*Bg.degrees/a.getMetersPerUnit();e=Fs(-t,-t,t,t)}return e}const zA=/\{z\}/g,FA=/\{x\}/g,GA=/\{y\}/g,UA=/\{-y\}/g;function PA(a,e,t,i,r){return a.replace(zA,e.toString()).replace(FA,t.toString()).replace(GA,i.toString()).replace(UA,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function YA(a){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(a);if(t){const i=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let o;for(o=i;o<=r;++o)e.push(a.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(a),t){const i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(a.replace(t[0],r.toString()));return e}return e.push(a),e}function XA(a,e){return(function(t,i,r){if(!t)return;let o;const u=t[0];if(e){const h=e.getFullTileRange(u);h&&(o=h.getHeight()-1)}return PA(a,u,t[1],t[2],o)})}function BA(a,e){const t=a.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=XA(a[r],e);return HA(i)}function HA(a){return a.length===1?a[0]:(function(e,t,i){if(!e)return;const r=BT(e),o=ba(r,a.length);return a[o](e,t,i)})}class VA extends Cm{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&on(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Ge(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,o,u){return ve()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Qv(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),u=on(r.getTileSize(e),this.tmpSize);return o==1?u:OR(u,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const i=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=DA(r,e,i)),VT(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class ZA extends fi{constructor(e,t){super(e),this.tile=t}}const eg={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Tm extends VA{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Tm.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=Ge(t),r=t.getState();let o;r==me.LOADING?(this.tileLoadingKeys_[i]=!0,o=eg.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==me.ERROR?eg.TILELOADERROR:r==me.LOADED?eg.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new ZA(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=YA(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(BA(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}}class KA extends Tm{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:qA,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Fv,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Ea(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Ea(t,e)))return this.tileGrid;const i=Ge(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Qv(e)),this.tileGridForProjection[i]}createTile_(e,t,i,r,o,u){const h=[e,t,i],f=this.getTileCoordForTileUrlFunction(h,o),g=f?this.tileUrlFunction(f,r,o):void 0,p=new this.tileClass(h,g!==void 0?me.IDLE:me.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=u,p.addEventListener(be.CHANGE,this.handleTileChange.bind(this)),p}getTile(e,t,i,r,o,u){const h=this.getProjection();if(!h||!o||Ea(h,o))return this.getTileInternal(e,t,i,r,h||o);const f=[e,t,i],g=this.getKey(),p=this.getTileGridForProjection(h),y=this.getTileGridForProjection(o),v=this.getTileCoordForTileUrlFunction(f,o),b=new Yv(h,p,o,y,f,v,this.getTilePixelRatio(r),this.getGutter(),(S,C,w,R)=>this.getTileInternal(S,C,w,R,h,u),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return b.key=g,b}getTileInternal(e,t,i,r,o,u){const h=this.getKey(),f=gc(this,h,e,t,i);if(u&&u.containsKey(f))return u.get(f);const g=this.createTile_(e,t,i,r,o,h);return u?.set(f,g),g}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const i=st(e);if(i){const r=Ge(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}}function qA(a,e){if(On){const t=a.getCrossOrigin();let i="same-origin",r="same-origin";t==="anonymous"||t===""?(i="cors",r="omit"):t==="use-credentials"&&(i="cors",r="include"),fetch(e,{mode:i,credentials:r}).then(o=>{if(!o.ok)throw new Error(`HTTP ${o.status}`);return o.blob()}).then(o=>createImageBitmap(o)).then(o=>{const u=a.getImage();u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),o.close?.(),u.dispatchEvent(new Event("load"))}).catch(()=>{a.getImage().dispatchEvent(new Event("error"))});return}a.getImage().src=e}class Hx extends KA{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:jA({extent:Rm(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const WA=[70.36553,20.90935],QA=19,At={AVAILABLE:"AVAILABLE",SOLD:"SOLD",RESERVED:"RESERVED"},Vx={[At.AVAILABLE]:{fill:"rgba(34, 197, 94, 0.3)",stroke:"#16a34a",hoverFill:"rgba(34, 197, 94, 0.5)"},[At.SOLD]:{fill:"rgba(239, 68, 68, 0.3)",stroke:"#dc2626",hoverFill:"rgba(239, 68, 68, 0.5)"},[At.RESERVED]:{fill:"rgba(245, 158, 11, 0.3)",stroke:"#d97706",hoverFill:"rgba(245, 158, 11, 0.5)"}},Cr={SATELLITE:{name:"satellite",url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:22},STREET:{name:"street",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:19}},Zx={maxZoom:22,minZoom:5},JA={zoom:!0,rotate:!1,attribution:!1};function so(a,e=!1){const t=a.get("status")||At.AVAILABLE,i=Vx[t]||Vx[At.AVAILABLE];return new Hi({fill:new Us({color:e?i.hoverFill:i.fill}),stroke:new Vr({color:i.stroke,width:e?3:2})})}function $A(){return new Hi({stroke:new Vr({color:"#FFD700",width:4,lineDash:[10,5]}),fill:new Us({color:"rgba(255, 215, 0, 0.1)"})})}function eM(a){const e=k.useRef(null),t=k.useRef(null),i=k.useRef(null),r=k.useRef(null),o=k.useRef(null),u=k.useRef(null),h=k.useRef(null);return k.useEffect(()=>{if(!a.current||e.current)return;const f=new Bx;t.current=f;const g=new Gx({source:f,style:so,zIndex:2e3,properties:{name:"plots"}});i.current=g;const p=new Bx;r.current=p;const y=new Gx({source:p,style:$A,zIndex:1500,properties:{name:"border"}});o.current=y;const v=new Ox({source:new Hx({url:Cr.SATELLITE.url,maxZoom:Cr.SATELLITE.maxZoom}),visible:!0,properties:{name:Cr.SATELLITE.name}});u.current=v;const b=new Ox({source:new Hx({url:Cr.STREET.url,maxZoom:Cr.STREET.maxZoom}),visible:!1,properties:{name:Cr.STREET.name}});h.current=b;const S=new jT({target:a.current,layers:[v,b,y,g],view:new ai({center:da(WA),zoom:QA,maxZoom:Zx.maxZoom,minZoom:Zx.minZoom}),controls:ov(JA)});return e.current=S,()=>{S.setTarget(null),e.current=null}},[a]),{mapInstance:e.current,mapInstanceRef:e,vectorSourceRef:t,vectorLayerRef:i,borderSourceRef:r,borderLayerRef:o,satelliteLayerRef:u,streetLayerRef:h}}function tM(a,e){const[t,i]=k.useState(null),[r,o]=k.useState(null),u=k.useCallback(f=>{if(!e.current||!a.current)return;const g=a.current.getSource();if(!g)return;let p=null;if(e.current.forEachFeatureAtPixel(f.pixel,y=>g.hasFeature(y)&&y.getId()!==void 0?(p=y,!0):!1,{layerFilter:y=>y===a.current}),p){const y=p.getProperties();if(y.id&&y.title){i({id:y.id,title:y.title,status:y.status,price:y.price,size:y.size,description:y.description});const v=hC(f.coordinate);o(v),a.current.setStyle(b=>so(b,b===p))}}else i(null),o(null),a.current.setStyle(y=>so(y,!1))},[a,e]),h=k.useCallback(()=>{i(null),o(null),a.current&&a.current.setStyle(f=>so(f,!1))},[a]);return{selectedPlot:t,popupPosition:r,handleMapClick:u,closePopup:h}}function nM(a,e,t=null){k.useEffect(()=>{if(!a.current)return;a.current.getLayers().getArray().forEach(r=>{const o=r.get("name");o==="satellite"?r.setVisible(e==="satellite"):o==="street"&&r.setVisible(e==="street")})},[a,e,t])}class iM extends Sm{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,o=r.resolution,u=this.getLayer().getSource(),h=e.viewHints;let f=e.extent;if(t.extent!==void 0&&(f=Yi(f,li(t.extent,r.projection))),!h[Tt.ANIMATING]&&!h[Tt.INTERACTING]&&!Xr(f))if(u){const g=r.projection,p=u.getImage(f,o,i,g);p&&(this.loadImage(p)?this.image=p:p.getState()===fe.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=_t(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Ca(o,r))return null;const u=this.image.getExtent(),h=this.image.getImage(),f=ke(u),g=Math.floor(h.width*((r[0]-u[0])/f));if(g<0||g>=h.width)return null;const p=xt(u),y=Math.floor(h.height*((u[3]-r[1])/p));return y<0||y>=h.height?null:this.getImageData(h,g,y)}renderFrame(e,t){const i=this.image,r=i.getExtent(),o=i.getResolution(),[u,h]=Array.isArray(o)?o:[o,o],f=i.getPixelRatio(),g=e.layerStatesArray[e.layerIndex],p=e.pixelRatio,y=e.viewState,v=y.center,b=y.resolution,S=p*u/(b*f),C=p*h/(b*f);this.prepareContainer(e,t);const w=this.context.canvas.width,R=this.context.canvas.height,T=this.getRenderContext(e);let z=!1,A=!0;if(g.extent){const U=li(g.extent,y.projection);A=Yt(U,e.extent),z=A&&!Os(U,e.extent),z&&this.clipUnrotated(T,e,U)}const O=i.getImage(),D=hi(this.tempTransform,w/2,R/2,S,C,0,f*(r[0]-v[0])/u,f*(v[1]-r[3])/h);this.renderedResolution=h*p/f;const M=O.width*D[0],P=O.height*D[3];if(this.getLayer().getSource().getInterpolate()||(T.imageSmoothingEnabled=!1),this.preRender(T,e),A&&M>=.5&&P>=.5){const U=D[4],J=D[5],Q=g.opacity;Q!==1&&(T.save(),T.globalAlpha=Q),T.drawImage(O,0,0,+O.width,+O.height,U,J,M,P),Q!==1&&T.restore()}return this.postRender(this.context,e),z&&T.restore(),T.imageSmoothingEnabled=!0,this.container}}class sM extends Oo{constructor(e){e=e||{},super(e)}}class aM extends sM{constructor(e){super(e)}createRenderer(){return new iM(this)}getData(e){return super.getData(e)}}function Lg(a){return Array.isArray(a)?Math.min(...a):a}class rM extends xm{constructor(e,t,i,r,o,u,h){let f=e.getExtent();f&&e.canWrapX()&&(f=f.slice(),f[0]=-1/0,f[2]=1/0);let g=t.getExtent();g&&t.canWrapX()&&(g=g.slice(),g[0]=-1/0,g[2]=1/0);const p=g?Yi(i,g):i,y=ci(p),v=Ag(e,t,y,r),b=Pv,S=new Uv(e,t,p,f,v*b,r),C=S.calculateSourceExtent(),w=Xr(C)?null:u(C,v,o),R=w?fe.IDLE:fe.EMPTY,T=w?w.getPixelRatio():1;super(i,r,T,R),this.targetProj_=t,this.maxSourceExtent_=f,this.triangulation_=S,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=w,this.sourcePixelRatio_=T,this.interpolate_=h,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==fe.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==fe.LOADED){const t=ke(this.targetExtent_)/this.targetResolution_,i=xt(this.targetExtent_)/this.targetResolution_;this.canvas_=Gv(t,i,this.sourcePixelRatio_,Lg(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==fe.IDLE){this.state=fe.LOADING,this.changed();const e=this.sourceImage_.getState();e==fe.LOADED||e==fe.ERROR?this.reproject_():(this.sourceListenerKey_=je(this.sourceImage_,be.CHANGE,t=>{const i=this.sourceImage_.getState();(i==fe.LOADED||i==fe.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){Qe(this.sourceListenerKey_),this.sourceListenerKey_=null}}const lc=4,tg={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class lM extends fi{constructor(e,t){super(e),this.image=t}}class oM extends Cm{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const i=Pc(t,e,0);e=t[i]}return e}getImage(e,t,i,r){const o=this.getProjection();if(!o||!r||Ea(o,r))return o&&(r=o),this.getImageInternal(e,t,i,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Ea(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&jr(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new rM(o,r,e,t,i,(u,h,f)=>this.getImageInternal(u,h,f,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,r){if(this.loader){const o=cM(e,t,i,1),u=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&Os(this.wantedExtent_,o)||Os(this.image.getExtent(),o))&&(this.wantedResolution_&&Lg(this.wantedResolution_)===u||Lg(this.image.getResolution())===u)))return this.image;this.wantedProjection_=r,this.wantedExtent_=o,this.wantedResolution_=u,this.image=new xm(o,u,i,this.loader),this.image.addEventListener(be.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case fe.LOADING:this.loading=!0,i=tg.IMAGELOADSTART;break;case fe.LOADED:this.loading=!1,i=tg.IMAGELOADEND;break;case fe.ERROR:this.loading=!1,i=tg.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new lM(i,t))}}function uM(a,e){a.getImage().src=e}function cM(a,e,t,i){const r=e/t,o=ci(a),u=Ns(ke(a)/r,lc),h=Ns(xt(a)/r,lc),f=Ns((i-1)*u/2,lc),g=u+2*f,p=Ns((i-1)*h/2,lc),y=h+2*p;return vc(o,r,0,[g,y])}function hM(a){const e=a.load||bv,t=a.imageExtent,i=a.crossOrigin??null;return()=>{const r=new Image;return r.crossOrigin=i,e(r,a.url).then(o=>{const u=ke(t)/o.width,h=xt(t)/o.height;return{image:o,extent:t,resolution:u!==h?[u,h]:h,pixelRatio:1}})}}class fM extends oM{constructor(e){const t=e.crossOrigin!==void 0?e.crossOrigin:null,i=e.imageLoadFunction!==void 0?e.imageLoadFunction:uM;super({attributions:e.attributions,interpolate:e.interpolate,projection:st(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new xm(this.imageExtent_,void 0,1,hM({url:e.url,imageExtent:e.imageExtent,crossOrigin:t,load:(r,o)=>(this.image.setImage(r),i(this.image,o),bv(r))})),this.image.addEventListener(be.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,i,r){return Yt(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}class dM{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=rh,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?st(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=st(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return ve()}readFeature(e,t){return ve()}readFeatures(e,t){return ve()}readGeometry(e,t){return ve()}readProjection(e){return ve()}writeFeature(e,t){return ve()}writeFeatures(e,t){return ve()}writeGeometry(e,t){return ve()}}function Am(a,e,t){const i=t?st(t.featureProjection):null,r=t?st(t.dataProjection):null;let o=a;if(i&&r&&!Ea(i,r)){e&&(o=a.clone());const u=e?i:r,h=e?r:i;u.getUnits()==="tile-pixels"?o.transform(u,h):o.applyTransform(uo(u,h))}if(e&&t&&t.decimals!==void 0){const u=Math.pow(10,t.decimals),h=function(f){for(let g=0,p=f.length;g<p;++g)f[g]=Math.round(f[g]*u)/u;return f};o===a&&(o=a.clone()),o.applyTransform(h)}return o}const gM={Point:wc,LineString:Ur,Polygon:Gs,MultiPoint:lh,MultiLineString:jc,MultiPolygon:kc};function mM(a,e,t){return Array.isArray(e[0])?(rv(a,0,e,t)||(a=a.slice(),vg(a,0,e,t)),a):(am(a,0,e,t)||(a=a.slice(),Cc(a,0,e,t)),a)}function $v(a,e){const t=a.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>$v({...a,geometry:o})).flat();const i=t.type==="MultiPolygon"?"Polygon":t.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=t.layout.length;return Am(new _n(i,i==="Polygon"?mM(t.flatCoordinates,t.ends,r):t.flatCoordinates,t.ends?.flat(),r,a.properties||{},a.id).enableSimplifyTransformed(),!1,e)}function Mm(a,e){if(!a)return null;if(Array.isArray(a)){const i=a.map(r=>Mm(r,e));return new Ic(i)}const t=gM[a.type];return Am(new t(a.flatCoordinates,a.layout||"XY",a.ends),!1,e)}class pM extends dM{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(oc(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(oc(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return ve()}readFeaturesFromObject(e,t){return ve()}readGeometry(e,t){return this.readGeometryFromObject(oc(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return ve()}readProjection(e){return this.readProjectionFromObject(oc(e))}readProjectionFromObject(e){return ve()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return ve()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return ve()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return ve()}}function oc(a){if(typeof a=="string"){const e=JSON.parse(a);return e||null}return a!==null?a:null}class yM extends pM{constructor(e){e=e||{},super(),this.dataProjection=st(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=st(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=Lm(i.geometry);if(this.featureClass===_n)return $v({geometry:r,id:i.id,properties:i.properties},t);const o=new rh;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&o.setGeometryName(i.geometry_name),o.setGeometry(Mm(r,t)),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){const i=e;let r=null;if(i.type==="FeatureCollection"){const o=e;r=[];const u=o.features;for(let h=0,f=u.length;h<f;++h){const g=this.readFeatureFromObject(u[h],t);g&&r.push(g)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return _M(e,t)}readProjectionFromObject(e){const t=e.crs;let i;if(t)if(t.type=="name")i=st(t.properties.name);else if(t.type==="EPSG")i=st("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const o=e.getProperties(),u=e.getGeometry();return u&&(i.geometry=Ng(u,t),delete o[e.getGeometryName()]),Sa(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let r=0,o=e.length;r<o;++r)i.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return Ng(e,this.adaptOptions(t))}}function Lm(a,e){if(!a)return null;let t;switch(a.type){case"Point":{t=vM(a);break}case"LineString":{t=bM(a);break}case"Polygon":{t=CM(a);break}case"MultiPoint":{t=SM(a);break}case"MultiLineString":{t=EM(a);break}case"MultiPolygon":{t=wM(a);break}case"GeometryCollection":{t=xM(a);break}default:throw new Error("Unsupported GeoJSON type: "+a.type)}return t}function _M(a,e){const t=Lm(a);return Mm(t,e)}function xM(a,e){return a.geometries.map(function(i){return Lm(i)})}function vM(a){const e=a.coordinates;return{type:"Point",flatCoordinates:e,layout:Na(e.length)}}function bM(a){const e=a.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:Na(e[0]?.length||2)}}function EM(a){const e=a.coordinates,t=e[0]?.[0]?.length||2,i=[],r=Mo(i,0,e,t);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:Na(t)}}function SM(a){const e=a.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Na(e[0]?.length||2)}}function wM(a){const e=a.coordinates,t=[],i=e[0]?.[0]?.[0].length||2,r=$1(t,0,e,i);return{type:"MultiPolygon",flatCoordinates:t,ends:r,layout:Na(i)}}function CM(a){const e=a.coordinates,t=[],i=e[0]?.[0]?.length,r=Mo(t,0,e,i);return{type:"Polygon",flatCoordinates:t,ends:r,layout:Na(i)}}function Ng(a,e){a=Am(a,!0,e);const t=a.getType();let i;switch(t){case"Point":{i=NM(a);break}case"LineString":{i=TM(a);break}case"Polygon":{i=OM(a,e);break}case"MultiPoint":{i=MM(a);break}case"MultiLineString":{i=AM(a);break}case"MultiPolygon":{i=LM(a,e);break}case"GeometryCollection":{i=RM(a,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function RM(a,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:a.getGeometriesArray().map(function(i){return Ng(i,e)})}}function TM(a,e){return{type:"LineString",coordinates:a.getCoordinates()}}function AM(a,e){return{type:"MultiLineString",coordinates:a.getCoordinates()}}function MM(a,e){return{type:"MultiPoint",coordinates:a.getCoordinates()}}function LM(a,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:a.getCoordinates(t)}}function NM(a,e){return{type:"Point",coordinates:a.getCoordinates()}}function OM(a,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:a.getCoordinates(t)}}function uc(a,e){if(!a||!e)return;a.clear();const t=new yM().readFeatures(e,{featureProjection:"EPSG:3857"});a.addFeatures(t)}function Og(a,e,t={}){if(!a||!e)return;const i={padding:[50,50,50,50],duration:500,maxZoom:22};a.getView().fit(e,{...i,...t})}function DM(a,e,t=null){if(a){if(t?.current){const i=t.current.getSource();if(i){const r=i.getImageExtent();if(r){Og(a,r);return}}}if(e){const i=e.getExtent();i&&i[0]!==1/0&&Og(a,i)}}}function IM(a,e){const t=k.useRef(null);return k.useEffect(()=>{if(!a.current)return;if(!e){t.current&&(a.current.removeLayer(t.current),t.current=null);return}const{url:i,geoBounds:r,bounds:o}=e,{sw:u,ne:h}=r,f=new Image;return f.onload=()=>{if(!a.current)return;const g=f.width||o?.width||1e3,p=f.height||o?.height||1e3,y=g/p,v=h.lng-u.lng,b=h.lat-u.lat,S=v/b;let C,w;if(Math.abs(S-y)>.01){const A=(u.lng+h.lng)/2,O=(u.lat+h.lat)/2;if(S>y){const M=v/y/2;C=da([u.lng,O-M]),w=da([h.lng,O+M])}else{const M=b*y/2;C=da([A-M,u.lat]),w=da([A+M,h.lat])}}else C=da([u.lng,u.lat]),w=da([h.lng,h.lat]);const R=[Math.min(C[0],w[0]),Math.min(C[1],w[1]),Math.max(C[0],w[0]),Math.max(C[1],w[1])];t.current&&(a.current.removeLayer(t.current),t.current=null);const T=new fM({url:i,imageExtent:R,projection:"EPSG:3857"}),z=new aM({source:T,visible:!0,opacity:1,zIndex:1e3,properties:{name:"image"}});a.current.addLayer(z),t.current=z,a.current.renderSync(),a.current.updateSize(),setTimeout(()=>{a.current&&(Og(a.current,R),setTimeout(()=>{a.current&&(a.current.updateSize(),a.current.renderSync())},100))},200)},f.onerror=()=>{},i.startsWith("data:")&&(f.crossOrigin="anonymous"),f.src=i,()=>{t.current&&a.current&&(a.current.removeLayer(t.current),t.current=null)}},[a,e]),t}function jM(a,e){return!a||a.type!=="FeatureCollection"?a:{...a,features:a.features.map(t=>{const i=e[t.id]||{};return{...t,properties:{...t.properties,...i}}})}}function Kx(a,e,t){if(!a||!e||!t)return a;const i=e.ne.lng-e.sw.lng,r=e.ne.lat-e.sw.lat,o=t.ne.lng-t.sw.lng,u=t.ne.lat-t.sw.lat,h=o/i,f=u/r,g=y=>[(y[0]-e.sw.lng)*h+t.sw.lng,(y[1]-e.sw.lat)*f+t.sw.lat],p=a.features.map(y=>y.geometry.type==="Polygon"?{...y,geometry:{...y.geometry,coordinates:y.geometry.coordinates.map(v=>v.map(g))}}:y.geometry.type==="LineString"?{...y,geometry:{...y.geometry,coordinates:y.geometry.coordinates.map(g)}}:y);return{...a,features:p}}class kM{constructor(e){this._pointer=0,this._eof=!1,this._data=e}next(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const e={code:parseInt(this._data[this._pointer])};return this._pointer++,e.value=qx(e.code,this._data[this._pointer].trim()),this._pointer++,e.code===0&&e.value==="EOF"&&(this._eof=!0),this.lastReadGroup=e,e}peek(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);const e={code:parseInt(this._data[this._pointer])};return e.value=qx(e.code,this._data[this._pointer+1].trim()),e}rewind(e=1){this._pointer=this._pointer-e*2}hasNext(){return!(this._eof||this._pointer>this._data.length-2)}isEOF(){return this._eof}}function qx(a,e){return a<=9?e:a>=10&&a<=59?parseFloat(e):a>=60&&a<=99?parseInt(e):a>=100&&a<=109?e:a>=110&&a<=149?parseFloat(e):a>=160&&a<=179?parseInt(e):a>=210&&a<=239?parseFloat(e):a>=270&&a<=289?parseInt(e):a>=290&&a<=299?zM(e):a>=300&&a<=369?e:a>=370&&a<=389?parseInt(e):a>=390&&a<=399?e:a>=400&&a<=409?parseInt(e):a>=410&&a<=419?e:a>=420&&a<=429?parseInt(e):a>=430&&a<=439?e:a>=440&&a<=459?parseInt(e):a>=460&&a<=469?parseFloat(e):a>=470&&a<=481||a===999||a>=1e3&&a<=1009?e:a>=1010&&a<=1059?parseFloat(e):a>=1060&&a<=1071?parseInt(e):(console.log("WARNING: Group code does not have a defined type: %j",{code:a,value:e}),e)}function zM(a){if(a==="0")return!1;if(a==="1")return!0;throw TypeError("String '"+a+"' cannot be cast to Boolean type")}const eb=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215];function FM(a){return eb[a]}function Ie(a){const e={};a.rewind();let t=a.next(),i=t.code;if(e.x=t.value,i+=10,t=a.next(),t.code!=i)throw new Error("Expected code for point value to be "+i+" but got "+t.code+".");return e.y=t.value,i+=10,t=a.next(),t.code!=i?(a.rewind(),e):(e.z=t.value,e)}function zt(a,e,t){switch(e.code){case 0:a.type=e.value;break;case 5:a.handle=e.value;break;case 6:a.lineType=e.value;break;case 8:a.layer=e.value;break;case 48:a.lineTypeScale=e.value;break;case 60:a.visible=e.value===0;break;case 62:a.colorIndex=e.value,a.color=FM(Math.abs(e.value));break;case 67:a.inPaperSpace=e.value!==0;break;case 100:break;case 101:for(;e.code!=0;)e=t.next();t.rewind();break;case 330:a.ownerHandle=e.value;break;case 347:a.materialObjectHandle=e.value;break;case 370:a.lineweight=e.value;break;case 420:a.color=e.value;break;case 1e3:a.extendedData=a.extendedData||{},a.extendedData.customStrings=a.extendedData.customStrings||[],a.extendedData.customStrings.push(e.value);break;case 1001:a.extendedData=a.extendedData||{},a.extendedData.applicationName=e.value;break;default:return!1}return!0}class GM{constructor(){this.ForEntityName="3DFACE"}parseEntity(e,t){const i={type:t.value,vertices:[]};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 70:i.shape=(t.value&1)===1,i.hasContinuousLinetypePattern=(t.value&128)===128;break;case 10:i.vertices=UM(e,t),t=e.lastReadGroup;break;default:zt(i,t,e);break}t=e.next()}return i}}function UM(a,e){var t=[],i=!1,r=!1,o=4;for(let h=0;h<=o;h++){for(var u={};!a.isEOF()&&!(e.code===0||r);){switch(e.code){case 10:case 11:case 12:case 13:if(i){r=!0;continue}u.x=e.value,i=!0;break;case 20:case 21:case 22:case 23:u.y=e.value;break;case 30:case 31:case 32:case 33:u.z=e.value;break;default:return t}e=a.next()}t.push(u),i=!1,r=!1}return a.rewind(),t}class PM{constructor(){this.ForEntityName="ARC"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.center=Ie(e);break;case 40:i.radius=t.value;break;case 50:i.startAngle=Math.PI/180*t.value;break;case 51:i.endAngle=Math.PI/180*t.value,i.angleLength=i.endAngle-i.startAngle;break;case 210:i.extrusionDirectionX=t.value;break;case 220:i.extrusionDirectionY=t.value;break;case 230:i.extrusionDirectionZ=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}class YM{constructor(){this.ForEntityName="ATTDEF"}parseEntity(e,t){var i={type:t.value,scale:1,textStyle:"STANDARD"};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 1:i.text=t.value;break;case 2:i.tag=t.value;break;case 3:i.prompt=t.value;break;case 7:i.textStyle=t.value;break;case 10:i.startPoint=Ie(e);break;case 11:i.endPoint=Ie(e);break;case 39:i.thickness=t.value;break;case 40:i.textHeight=t.value;break;case 41:i.scale=t.value;break;case 50:i.rotation=t.value;break;case 51:i.obliqueAngle=t.value;break;case 70:i.invisible=!!(t.value&1),i.constant=!!(t.value&2),i.verificationRequired=!!(t.value&4),i.preset=!!(t.value&8);break;case 71:i.backwards=!!(t.value&2),i.mirrored=!!(t.value&4);break;case 72:i.horizontalJustification=t.value;break;case 73:i.fieldLength=t.value;break;case 74:i.verticalJustification=t.value;break;case 100:break;case 210:i.extrusionDirectionX=t.value;break;case 220:i.extrusionDirectionY=t.value;break;case 230:i.extrusionDirectionZ=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}class XM{constructor(){this.ForEntityName="CIRCLE"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.center=Ie(e);break;case 40:i.radius=t.value;break;case 50:i.startAngle=Math.PI/180*t.value;break;case 51:const r=Math.PI/180*t.value;r<i.startAngle?i.angleLength=r+2*Math.PI-i.startAngle:i.angleLength=r-i.startAngle,i.endAngle=r;break;default:zt(i,t,e);break}t=e.next()}return i}}class BM{constructor(){this.ForEntityName="DIMENSION"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 2:i.block=t.value;break;case 10:i.anchorPoint=Ie(e);break;case 11:i.middleOfText=Ie(e);break;case 12:i.insertionPoint=Ie(e);break;case 13:i.linearOrAngularPoint1=Ie(e);break;case 14:i.linearOrAngularPoint2=Ie(e);break;case 15:i.diameterOrRadiusPoint=Ie(e);break;case 16:i.arcPoint=Ie(e);break;case 70:i.dimensionType=t.value;break;case 71:i.attachmentPoint=t.value;break;case 42:i.actualMeasurement=t.value;break;case 1:i.text=t.value;break;case 50:i.angle=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}class HM{constructor(){this.ForEntityName="ELLIPSE"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.center=Ie(e);break;case 11:i.majorAxisEndPoint=Ie(e);break;case 40:i.axisRatio=t.value;break;case 41:i.startAngle=t.value;break;case 42:i.endAngle=t.value;break;case 2:i.name=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}class VM{constructor(){this.ForEntityName="INSERT"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 2:i.name=t.value;break;case 41:i.xScale=t.value;break;case 42:i.yScale=t.value;break;case 43:i.zScale=t.value;break;case 10:i.position=Ie(e);break;case 50:i.rotation=t.value;break;case 70:i.columnCount=t.value;break;case 71:i.rowCount=t.value;break;case 44:i.columnSpacing=t.value;break;case 45:i.rowSpacing=t.value;break;case 210:i.extrusionDirection=Ie(e);break;default:zt(i,t,e);break}t=e.next()}return i}}class ZM{constructor(){this.ForEntityName="LINE"}parseEntity(e,t){const i={type:t.value,vertices:[]};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.vertices.unshift(Ie(e));break;case 11:i.vertices.push(Ie(e));break;case 210:i.extrusionDirection=Ie(e);break;case 100:break;default:zt(i,t,e);break}t=e.next()}return i}}class KM{constructor(){this.ForEntityName="LWPOLYLINE"}parseEntity(e,t){const i={type:t.value,vertices:[]};let r=0;for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 38:i.elevation=t.value;break;case 39:i.depth=t.value;break;case 70:i.shape=(t.value&1)===1,i.hasContinuousLinetypePattern=(t.value&128)===128;break;case 90:r=t.value;break;case 10:i.vertices=qM(r,e);break;case 43:t.value!==0&&(i.width=t.value);break;case 210:i.extrusionDirectionX=t.value;break;case 220:i.extrusionDirectionY=t.value;break;case 230:i.extrusionDirectionZ=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}function qM(a,e){if(!a||a<=0)throw Error("n must be greater than 0 verticies");const t=[];let i=!1,r=!1,o=e.lastReadGroup;for(let u=0;u<a;u++){const h={};for(;!e.isEOF()&&!(o.code===0||r);){switch(o.code){case 10:if(i){r=!0;continue}h.x=o.value,i=!0;break;case 20:h.y=o.value;break;case 30:h.z=o.value;break;case 40:h.startWidth=o.value;break;case 41:h.endWidth=o.value;break;case 42:o.value!=0&&(h.bulge=o.value);break;default:return e.rewind(),i&&t.push(h),e.rewind(),t}o=e.next()}t.push(h),i=!1,r=!1}return e.rewind(),t}class WM{constructor(){this.ForEntityName="MTEXT"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 3:i.text?i.text+=t.value:i.text=t.value;break;case 1:i.text?i.text+=t.value:i.text=t.value;break;case 10:i.position=Ie(e);break;case 11:i.directionVector=Ie(e);break;case 40:i.height=t.value;break;case 41:i.width=t.value;break;case 50:i.rotation=t.value;break;case 71:i.attachmentPoint=t.value;break;case 72:i.drawingDirection=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}class QM{constructor(){this.ForEntityName="POINT"}parseEntity(e,t){const r={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:r.position=Ie(e);break;case 39:r.thickness=t.value;break;case 210:r.extrusionDirection=Ie(e);break;case 100:break;default:zt(r,t,e);break}t=e.next()}return r}}class JM{constructor(){this.ForEntityName="VERTEX"}parseEntity(e,t){var i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.x=t.value;break;case 20:i.y=t.value;break;case 30:i.z=t.value;break;case 40:break;case 41:break;case 42:t.value!=0&&(i.bulge=t.value);break;case 70:i.curveFittingVertex=(t.value&1)!==0,i.curveFitTangent=(t.value&2)!==0,i.splineVertex=(t.value&8)!==0,i.splineControlPoint=(t.value&16)!==0,i.threeDPolylineVertex=(t.value&32)!==0,i.threeDPolylineMesh=(t.value&64)!==0,i.polyfaceMeshVertex=(t.value&128)!==0;break;case 50:break;case 71:i.faceA=t.value;break;case 72:i.faceB=t.value;break;case 73:i.faceC=t.value;break;case 74:i.faceD=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}class $M{constructor(){this.ForEntityName="POLYLINE"}parseEntity(e,t){var i={type:t.value,vertices:[]};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:break;case 20:break;case 30:break;case 39:i.thickness=t.value;break;case 40:break;case 41:break;case 70:i.shape=(t.value&1)!==0,i.includesCurveFitVertices=(t.value&2)!==0,i.includesSplineFitVertices=(t.value&4)!==0,i.is3dPolyline=(t.value&8)!==0,i.is3dPolygonMesh=(t.value&16)!==0,i.is3dPolygonMeshClosed=(t.value&32)!==0,i.isPolyfaceMesh=(t.value&64)!==0,i.hasContinuousLinetypePattern=(t.value&128)!==0;break;case 71:break;case 72:break;case 73:break;case 74:break;case 75:break;case 210:i.extrusionDirection=Ie(e);break;default:zt(i,t,e);break}t=e.next()}return i.vertices=e3(e,t),i}}function e3(a,e){const t=new JM,i=[];for(;!a.isEOF();)if(e.code===0){if(e.value==="VERTEX")i.push(t.parseEntity(a,e)),e=a.lastReadGroup;else if(e.value==="SEQEND"){t3(a,e);break}}return i}function t3(a,e){const t={type:e.value};for(e=a.next();!a.isEOF()&&e.code!=0;)zt(t,e,a),e=a.next();return t}class n3{constructor(){this.ForEntityName="SOLID"}parseEntity(e,t){const i={type:t.value,points:[]};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.points[0]=Ie(e);break;case 11:i.points[1]=Ie(e);break;case 12:i.points[2]=Ie(e);break;case 13:i.points[3]=Ie(e);break;case 210:i.extrusionDirection=Ie(e);break;default:zt(i,t,e);break}t=e.next()}return i}}class i3{constructor(){this.ForEntityName="SPLINE"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.controlPoints||(i.controlPoints=[]),i.controlPoints.push(Ie(e));break;case 11:i.fitPoints||(i.fitPoints=[]),i.fitPoints.push(Ie(e));break;case 12:i.startTangent=Ie(e);break;case 13:i.endTangent=Ie(e);break;case 40:i.knotValues||(i.knotValues=[]),i.knotValues.push(t.value);break;case 70:(t.value&1)!=0&&(i.closed=!0),(t.value&2)!=0&&(i.periodic=!0),(t.value&4)!=0&&(i.rational=!0),(t.value&8)!=0&&(i.planar=!0),(t.value&16)!=0&&(i.planar=!0,i.linear=!0);break;case 71:i.degreeOfSplineCurve=t.value;break;case 72:i.numberOfKnots=t.value;break;case 73:i.numberOfControlPoints=t.value;break;case 74:i.numberOfFitPoints=t.value;break;case 210:i.normalVector=Ie(e);break;default:zt(i,t,e);break}t=e.next()}return i}}class s3{constructor(){this.ForEntityName="TEXT"}parseEntity(e,t){const i={type:t.value};for(t=e.next();!e.isEOF()&&t.code!==0;){switch(t.code){case 10:i.startPoint=Ie(e);break;case 11:i.endPoint=Ie(e);break;case 40:i.textHeight=t.value;break;case 41:i.xScale=t.value;break;case 50:i.rotation=t.value;break;case 1:i.text=t.value;break;case 72:i.halign=t.value;break;case 73:i.valign=t.value;break;default:zt(i,t,e);break}t=e.next()}return i}}var mc={exports:{}},a3=mc.exports,Wx;function r3(){return Wx||(Wx=1,(function(a){(function(e,t){a.exports?a.exports=t():e.log=t()})(a3,function(){var e=function(){},t="undefined",i=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},u=null;function h(C,w){var R=C[w];if(typeof R.bind=="function")return R.bind(C);try{return Function.prototype.bind.call(R,C)}catch{return function(){return Function.prototype.apply.apply(R,[C,arguments])}}}function f(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function g(C){return C==="debug"&&(C="log"),typeof console===t?!1:C==="trace"&&i?f:console[C]!==void 0?h(console,C):console.log!==void 0?h(console,"log"):e}function p(){for(var C=this.getLevel(),w=0;w<r.length;w++){var R=r[w];this[R]=w<C?e:this.methodFactory(R,C,this.name)}if(this.log=this.debug,typeof console===t&&C<this.levels.SILENT)return"No console available for logging"}function y(C){return function(){typeof console!==t&&(p.call(this),this[C].apply(this,arguments))}}function v(C,w,R){return g(C)||y.apply(this,arguments)}function b(C,w){var R=this,T,z,A,O="loglevel";typeof C=="string"?O+=":"+C:typeof C=="symbol"&&(O=void 0);function D(Q){var ee=(r[Q]||"silent").toUpperCase();if(!(typeof window===t||!O)){try{window.localStorage[O]=ee;return}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+ee+";"}catch{}}}function M(){var Q;if(!(typeof window===t||!O)){try{Q=window.localStorage[O]}catch{}if(typeof Q===t)try{var ee=window.document.cookie,ie=encodeURIComponent(O),ae=ee.indexOf(ie+"=");ae!==-1&&(Q=/^([^;]+)/.exec(ee.slice(ae+ie.length+1))[1])}catch{}return R.levels[Q]===void 0&&(Q=void 0),Q}}function P(){if(!(typeof window===t||!O)){try{window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function U(Q){var ee=Q;if(typeof ee=="string"&&R.levels[ee.toUpperCase()]!==void 0&&(ee=R.levels[ee.toUpperCase()]),typeof ee=="number"&&ee>=0&&ee<=R.levels.SILENT)return ee;throw new TypeError("log.setLevel() called with invalid level: "+Q)}R.name=C,R.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},R.methodFactory=w||v,R.getLevel=function(){return A??z??T},R.setLevel=function(Q,ee){return A=U(Q),ee!==!1&&D(A),p.call(R)},R.setDefaultLevel=function(Q){z=U(Q),M()||R.setLevel(Q,!1)},R.resetLevel=function(){A=null,P(),p.call(R)},R.enableAll=function(Q){R.setLevel(R.levels.TRACE,Q)},R.disableAll=function(Q){R.setLevel(R.levels.SILENT,Q)},R.rebuild=function(){if(u!==R&&(T=U(u.getLevel())),p.call(R),u===R)for(var Q in o)o[Q].rebuild()},T=U(u?u.getLevel():"WARN");var J=M();J!=null&&(A=U(J)),p.call(R)}u=new b,u.getLogger=function(w){if(typeof w!="symbol"&&typeof w!="string"||w==="")throw new TypeError("You must supply a name when creating a logger.");var R=o[w];return R||(R=o[w]=new b(w,u.methodFactory)),R};var S=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=S),u},u.getLoggers=function(){return o},u.default=u,u})})(mc)),mc.exports}var l3=r3();const Oe=S2(l3);Oe.setLevel("error");function o3(a){a.registerEntityHandler(GM),a.registerEntityHandler(PM),a.registerEntityHandler(YM),a.registerEntityHandler(XM),a.registerEntityHandler(BM),a.registerEntityHandler(HM),a.registerEntityHandler(VM),a.registerEntityHandler(ZM),a.registerEntityHandler(KM),a.registerEntityHandler(WM),a.registerEntityHandler(QM),a.registerEntityHandler($M),a.registerEntityHandler(n3),a.registerEntityHandler(i3),a.registerEntityHandler(s3)}class u3{constructor(){this._entityHandlers={},o3(this)}parse(e){return typeof e=="string"?this._parse(e):(console.error("Cannot read dxf source of type `"+typeof e),null)}registerEntityHandler(e){const t=new e;this._entityHandlers[t.ForEntityName]=t}parseSync(e){return this.parse(e)}parseStream(e){let t="";const i=this;return new Promise((r,o)=>{e.on("data",u=>{t+=u}),e.on("end",()=>{try{r(i._parse(t))}catch(u){o(u)}}),e.on("error",u=>{o(u)})})}_parse(e){const t={};let i=0;const r=e.split(/\r\n|\r|\n/g),o=new kM(r);if(!o.hasNext())throw Error("Empty file");const u=this;let h;function f(){for(h=o.next();!o.isEOF();)if(h.code===0&&h.value==="SECTION"){if(h=o.next(),h.code!==2){console.error("Unexpected code %s after 0:SECTION",tb(h)),h=o.next();continue}h.value==="HEADER"?(Oe.debug("> HEADER"),t.header=g(),Oe.debug("<")):h.value==="BLOCKS"?(Oe.debug("> BLOCKS"),t.blocks=p(),Oe.debug("<")):h.value==="ENTITIES"?(Oe.debug("> ENTITIES"),t.entities=z(!1),Oe.debug("<")):h.value==="TABLES"?(Oe.debug("> TABLES"),t.tables=v(),Oe.debug("<")):h.value==="EOF"?Oe.debug("EOF"):Oe.warn("Skipping section '%s'",h.value)}else h=o.next()}function g(){let D=null,M=null;const P={};for(h=o.next();;){if(si(h,0,"ENDSEC")){D&&(P[D]=M);break}else h.code===9?(D&&(P[D]=M),D=h.value):h.code===10?M={x:h.value}:h.code===20?M.y=h.value:h.code===30?M.z=h.value:M=h.value;h=o.next()}return h=o.next(),P}function p(){const D={};for(h=o.next();h.value!=="EOF"&&!si(h,0,"ENDSEC");)if(si(h,0,"BLOCK")){Oe.debug("block {");const M=y();Oe.debug("}"),O(M),M.name?D[M.name]=M:Oe.error('block with handle "'+M.handle+'" is missing a name.')}else fa(h),h=o.next();return D}function y(){const D={};for(h=o.next();h.value!=="EOF";){switch(h.code){case 1:D.xrefPath=h.value,h=o.next();break;case 2:D.name=h.value,h=o.next();break;case 3:D.name2=h.value,h=o.next();break;case 5:D.handle=h.value,h=o.next();break;case 8:D.layer=h.value,h=o.next();break;case 10:D.position=A(h),h=o.next();break;case 67:D.paperSpace=!!(h.value&&h.value==1),h=o.next();break;case 70:h.value!=0&&(D.type=h.value),h=o.next();break;case 100:h=o.next();break;case 330:D.ownerHandle=h.value,h=o.next();break;case 0:if(h.value=="ENDBLK")break;D.entities=z(!0);break;default:fa(h),h=o.next()}if(si(h,0,"ENDBLK")){h=o.next();break}}return D}function v(){const D={};for(h=o.next();h.value!=="EOF"&&!si(h,0,"ENDSEC");)si(h,0,"TABLE")?(h=o.next(),T[h.value]?(Oe.debug(h.value+" Table {"),D[T[h.value].tableName]=S(h),Oe.debug("}")):Oe.debug("Unhandled Table "+h.value)):h=o.next();return h=o.next(),D}const b="ENDTAB";function S(D){const M=T[D.value],P={};let U=0;for(h=o.next();!si(h,0,b);)switch(h.code){case 5:P.handle=h.value,h=o.next();break;case 330:P.ownerHandle=h.value,h=o.next();break;case 100:h.value==="AcDbSymbolTable"||fa(h),h=o.next();break;case 70:U=h.value,h=o.next();break;case 0:h.value===M.dxfSymbolName?P[M.tableRecordsProperty]=M.parseTableRecords():(fa(h),h=o.next());break;default:fa(h),h=o.next()}const J=P[M.tableRecordsProperty];if(J){let Q=(()=>{if(J.constructor===Array)return J.length;if(typeof J=="object")return Object.keys(J).length})();U!==Q&&Oe.warn("Parsed "+Q+" "+M.dxfSymbolName+"'s but expected "+U)}return h=o.next(),P}function C(){const D=[];let M={};for(Oe.debug("ViewPort {"),h=o.next();!si(h,0,b);)switch(h.code){case 2:M.name=h.value,h=o.next();break;case 10:M.lowerLeftCorner=A(h),h=o.next();break;case 11:M.upperRightCorner=A(h),h=o.next();break;case 12:M.center=A(h),h=o.next();break;case 13:M.snapBasePoint=A(h),h=o.next();break;case 14:M.snapSpacing=A(h),h=o.next();break;case 15:M.gridSpacing=A(h),h=o.next();break;case 16:M.viewDirectionFromTarget=A(h),h=o.next();break;case 17:M.viewTarget=A(h),h=o.next();break;case 42:M.lensLength=h.value,h=o.next();break;case 43:M.frontClippingPlane=h.value,h=o.next();break;case 44:M.backClippingPlane=h.value,h=o.next();break;case 45:M.viewHeight=h.value,h=o.next();break;case 50:M.snapRotationAngle=h.value,h=o.next();break;case 51:M.viewTwistAngle=h.value,h=o.next();break;case 79:M.orthographicType=h.value,h=o.next();break;case 110:M.ucsOrigin=A(h),h=o.next();break;case 111:M.ucsXAxis=A(h),h=o.next();break;case 112:M.ucsYAxis=A(h),h=o.next();break;case 110:M.ucsOrigin=A(h),h=o.next();break;case 281:M.renderMode=h.value,h=o.next();break;case 281:M.defaultLightingType=h.value,h=o.next();break;case 292:M.defaultLightingOn=h.value,h=o.next();break;case 330:M.ownerHandle=h.value,h=o.next();break;case 63:case 421:case 431:M.ambientColor=h.value,h=o.next();break;case 0:h.value==="VPORT"&&(Oe.debug("}"),D.push(M),Oe.debug("ViewPort {"),M={},h=o.next());break;default:fa(h),h=o.next();break}return Oe.debug("}"),D.push(M),D}function w(){const D={};let M={},P=0,U;for(Oe.debug("LType {"),h=o.next();!si(h,0,"ENDTAB");)switch(h.code){case 2:M.name=h.value,U=h.value,h=o.next();break;case 3:M.description=h.value,h=o.next();break;case 73:P=h.value,P>0&&(M.pattern=[]),h=o.next();break;case 40:M.patternLength=h.value,h=o.next();break;case 49:M.pattern.push(h.value),h=o.next();break;case 0:Oe.debug("}"),P>0&&P!==M.pattern.length&&Oe.warn("lengths do not match on LTYPE pattern"),D[U]=M,M={},Oe.debug("LType {"),h=o.next();break;default:h=o.next()}return Oe.debug("}"),D[U]=M,D}function R(){const D={};let M={},P;for(Oe.debug("Layer {"),h=o.next();!si(h,0,"ENDTAB");)switch(h.code){case 2:M.name=h.value,P=h.value,h=o.next();break;case 62:M.visible=h.value>=0,M.colorIndex=Math.abs(h.value),M.color=c3(M.colorIndex),h=o.next();break;case 70:M.frozen=(h.value&1)!=0||(h.value&2)!=0,h=o.next();break;case 0:h.value==="LAYER"&&(Oe.debug("}"),D[P]=M,Oe.debug("Layer {"),M={},P=void 0,h=o.next());break;default:fa(h),h=o.next();break}return Oe.debug("}"),D[P]=M,D}const T={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:C},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:w},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:R}};function z(D){const M=[],P=D?"ENDBLK":"ENDSEC";for(D||(h=o.next());;)if(h.code===0){if(h.value===P)break;const U=u._entityHandlers[h.value];if(U!=null){Oe.debug(h.value+" {");const J=U.parseEntity(o,h);h=o.lastReadGroup,Oe.debug("}"),O(J),M.push(J)}else{Oe.warn("Unhandled entity "+h.value),h=o.next();continue}}else h=o.next();return P=="ENDSEC"&&(h=o.next()),M}function A(D){const M={};let P=D.code;if(M.x=D.value,P+=10,D=o.next(),D.code!=P)throw new Error("Expected code for point value to be "+P+" but got "+D.code+".");return M.y=D.value,P+=10,D=o.next(),D.code!=P?(o.rewind(),M):(M.z=D.value,M)}function O(D){if(!D)throw new TypeError("entity cannot be undefined or null");D.handle||(D.handle=i++)}return f(),t}}function si(a,e,t){return a.code===e&&a.value===t}function fa(a){Oe.debug("unhandled group "+tb(a))}function tb(a){return a.code+":"+a.value}function c3(a){return eb[a]}function nb(a){const e=new u3;try{return e.parseSync(a)}catch{throw new Error("Invalid DXF file format")}}function ib(a){return a?.tables?.layer?.layers?Object.keys(a.tables.layer.layers):[]}function Qx(a,e=null){if(!a?.entities)return[];const t=[];for(const i of a.entities)if(!(e&&i.layer!==e)&&(i.type==="LWPOLYLINE"||i.type==="POLYLINE")){const r=i.vertices||[],o=i.shape||i.flags&&i.flags===1;if(r.length>=3){const u=r.map(h=>[h.x,h.y]);if(o&&u.length>0){const h=u[0],f=u[u.length-1];(h[0]!==f[0]||h[1]!==f[1])&&u.push([...h])}t.push({layer:i.layer,vertices:u,closed:o,handle:i.handle})}}return t}function sb(a,e=null){let t=1/0,i=-1/0,r=1/0,o=-1/0;if(!a?.entities)return null;for(const u of a.entities)if(!(e&&u.layer!==e)){if(u.vertices)for(const h of u.vertices)t=Math.min(t,h.x),i=Math.max(i,h.x),r=Math.min(r,h.y),o=Math.max(o,h.y);u.type==="LINE"&&(u.start&&(t=Math.min(t,u.start.x),i=Math.max(i,u.start.x),r=Math.min(r,u.start.y),o=Math.max(o,u.start.y)),u.end&&(t=Math.min(t,u.end.x),i=Math.max(i,u.end.x),r=Math.min(r,u.end.y),o=Math.max(o,u.end.y)))}return t===1/0?null:{minX:t,maxX:i,minY:r,maxY:o}}function ab(a){return sb(a,null)}function h3(a,e,t,i){const{minX:r,maxX:o,minY:u,maxY:h}=t,{sw:f,ne:g}=i,p=(a-r)/(o-r),y=(e-u)/(h-u),v=f.lng+p*(g.lng-f.lng),b=f.lat+y*(g.lat-f.lat);return[v,b]}function Jx(a,e,t){return{type:"FeatureCollection",features:a.map((r,o)=>{const u=r.vertices.map(h=>h3(h[0],h[1],e,t));if(u.length>0){const h=u[0],f=u[u.length-1];(h[0]!==f[0]||h[1]!==f[1])&&u.push([...h])}return{type:"Feature",id:o+1,properties:{id:o+1,title:`Plot ${o+1}`,status:At.AVAILABLE,price:"Contact for price",size:"N/A",description:`Imported from layer: ${r.layer}`,layer:r.layer,dxfHandle:r.handle},geometry:{type:"Polygon",coordinates:[u]}}})}}function rb(a,e,t,i=null){const r=nb(a),o=ib(r),u=i?sb(r,i):ab(r);if(!u)throw new Error("Could not determine DXF bounds");const f=Qx(r,e).filter(y=>y.closed||y.vertices.length>=4),g=Jx(f,u,t);let p=null;if(i&&i!==e){const v=Qx(r,i).filter(b=>b.vertices.length>=2);v.length>0&&(p=Jx(v,u,t))}return{geojson:g,borderGeoJSON:p,layers:o,dxfBounds:u,polylineCount:f.length,totalEntities:r.entities?.length||0}}function f3(a){const e=nb(a),t=ib(e),i=ab(e),r={};let o=0;if(e.entities)for(const u of e.entities){const h=u.layer||"0";r[h]=(r[h]||0)+1,(u.type==="LWPOLYLINE"||u.type==="POLYLINE")&&(u.shape||u.flags===1)&&o++}return{layers:t,bounds:i,entityCounts:r,closedPolylineCount:o,totalEntities:e.entities?.length||0}}const d3=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g3=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),$x=a=>{const e=g3(a);return e.charAt(0).toUpperCase()+e.slice(1)},lb=(...a)=>a.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),m3=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var p3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y3=k.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:u,...h},f)=>k.createElement("svg",{ref:f,...p3,width:e,height:e,stroke:a,strokeWidth:i?Number(t)*24/Number(e):t,className:lb("lucide",r),...!o&&!m3(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,p])=>k.createElement(g,p)),...Array.isArray(o)?o:[o]]));const Je=(a,e)=>{const t=k.forwardRef(({className:i,...r},o)=>k.createElement(y3,{ref:o,iconNode:e,className:lb(`lucide-${d3($x(a))}`,`lucide-${a}`,i),...r}));return t.displayName=$x(a),t};const _3=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ng=Je("arrow-down",_3);const x3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ig=Je("arrow-left",x3);const v3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pc=Je("arrow-right",v3);const b3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],sg=Je("arrow-up",b3);const E3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],S3=Je("chart-column",E3);const w3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zc=Je("check",w3);const C3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],R3=Je("chevron-down",C3);const T3=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A3=Je("compass",T3);const M3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],L3=Je("copy",M3);const N3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],O3=Je("download",N3);const D3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ob=Je("file-text",D3);const I3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],j3=Je("house",I3);const k3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xo=Je("image",k3);const z3=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],F3=Je("inbox",z3);const G3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U3=Je("info",G3);const P3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ub=Je("loader-circle",P3);const Y3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pr=Je("map-pin",Y3);const X3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Nm=Je("map",X3);const B3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H3=Je("menu",B3);const V3=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],e1=Je("move",V3);const Z3=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],t1=Je("navigation",Z3);const K3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],q3=Je("phone",K3);const W3=[["path",{d:"m13.5 6.5-3.148-3.148a1.205 1.205 0 0 0-1.704 0L6.352 5.648a1.205 1.205 0 0 0 0 1.704L9.5 10.5",key:"dzhfyz"}],["path",{d:"M16.5 7.5 19 5",key:"1ltcjm"}],["path",{d:"m17.5 10.5 3.148 3.148a1.205 1.205 0 0 1 0 1.704l-2.296 2.296a1.205 1.205 0 0 1-1.704 0L13.5 14.5",key:"nfoymv"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}],["path",{d:"M9.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l4.296-4.296a1.205 1.205 0 0 0 0-1.704l-2.296-2.296a1.205 1.205 0 0 0-1.704 0z",key:"nv9zqy"}]],Q3=Je("satellite",W3);const J3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cb=Je("sparkles",J3);const $3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oh=Je("upload",$3);const eL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vo=Je("x",eL),tL=k.memo(function({onClick:e}){return x.jsx("button",{onClick:e,className:"absolute bottom-4 right-4 sm:bottom-5 sm:right-5 z-40 p-3 sm:p-4 bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all hover:scale-110 active:scale-95 btn-press group border border-gray-100/50 touch-manipulation",title:"Center on site","aria-label":"Center map on site",children:x.jsxs("div",{className:"relative",children:[x.jsx(j3,{className:"w-5 h-5 text-gray-700 group-hover:text-emerald-600 transition-colors"}),x.jsx("div",{className:"absolute inset-0 bg-emerald-500/10 rounded-full scale-0 group-hover:scale-150 transition-transform duration-300"})]})})}),nL=k.memo(function({isOpen:e,onClose:t,onConvert:i,imageData:r}){const[o,u]=k.useState(1),[h,f]=k.useState(null),[g,p]=k.useState(null),[y,v]=k.useState(null),[b,S]=k.useState(null),[C,w]=k.useState(null),[R,T]=k.useState(!1),z={sw:{lng:70.36516881045745,lat:20.90890052161814},ne:{lng:70.36592790658264,lat:20.90980725575567}},[A,O]=k.useState(z);k.useEffect(()=>{o===3&&r?.geoBounds&&O(r.geoBounds)},[o,r]);const D=k.useCallback(U=>{const J=U.target.files?.[0];if(!J)return;w(null),T(!0);const Q=new FileReader;Q.onload=ee=>{try{const ie=ee.target?.result;f(ie);const ae=f3(ie);p(ae),v(null),S(null),u(2)}catch{w("Failed to parse DXF file. Please check the file format.")}finally{T(!1)}},Q.readAsText(J)},[]),M=k.useCallback(()=>{u(1),f(null),p(null),v(null),S(null),w(null),O(r?.geoBounds||z),t()},[r,t]),P=k.useCallback(()=>{if(h){if(!b){w("Please select a plots layer");return}w(null),T(!0);try{const U=rb(h,b,A,y);if(U.geojson.features.length===0){w("No closed polylines found in the selected plots layer. Make sure your DXF has closed shapes for plots."),T(!1);return}i({geojson:U.geojson,borderGeoJSON:U.borderGeoJSON||null,geoBounds:A,dxfContent:h,borderLayer:y,plotsLayer:b}),M()}catch(U){w("Failed to convert DXF: "+U.message)}finally{T(!1)}}},[h,b,y,A,i,M]);return e?x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:M}),x.jsxs("div",{className:"relative bg-white/98 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-2xl mx-3 sm:mx-4 max-h-[95vh] sm:max-h-[90vh] overflow-hidden animate-scale-in border border-gray-100/50",children:[x.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 via-emerald-500 to-green-600 px-4 sm:px-8 py-4 sm:py-6 relative overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 opacity-10",children:x.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),x.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("h2",{className:"text-white font-bold text-lg sm:text-2xl mb-1 truncate",children:"Import DXF File"}),x.jsxs("p",{className:"text-white/90 text-xs sm:text-sm font-medium",children:["Step ",o," of 3:"," ",x.jsx("span",{className:"font-semibold",children:o===1?"Upload":o===2?"Configure":"Georeference"})]})]}),x.jsx("button",{onClick:M,className:"p-2 sm:p-2.5 rounded-xl hover:bg-white/20 transition-all hover:scale-110 active:scale-95 group shrink-0 touch-manipulation",children:x.jsx(vo,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform"})})]}),x.jsx("div",{className:"flex gap-2 mt-5",children:[1,2,3].map(U=>x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${U<=o?"bg-white shadow-lg shadow-white/50":"bg-white/30"}`}),U<=o&&x.jsx("div",{className:"absolute inset-0 bg-white rounded-full animate-pulse opacity-50"})]},U))})]}),x.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 overflow-y-auto max-h-[60vh] bg-gradient-to-b from-white to-gray-50/30",children:[C&&x.jsx("div",{className:"mb-5 p-4 bg-red-50/80 backdrop-blur-sm border border-red-200/50 rounded-xl text-red-700 text-sm font-medium shadow-sm animate-fade-in",children:C}),o===1&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx(oh,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),x.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Upload AutoCAD DXF File"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload your DXF file to import site plan plots"})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-emerald-500 hover:bg-emerald-50 transition-colors group",children:[x.jsx(ob,{className:"w-12 h-12 text-gray-400 group-hover:text-emerald-600 transition-colors mb-3"}),x.jsx("span",{className:"text-sm text-gray-500 group-hover:text-emerald-700 transition-colors",children:h?"DXF file selected ":"Click to select DXF file"}),x.jsx("input",{type:"file",accept:".dxf",onChange:D,className:"hidden"})]})}),x.jsx("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-3",children:x.jsxs("p",{className:"text-xs text-emerald-700",children:[x.jsx("strong",{children:"Tip:"}),' Upload your site plan image separately using the "Upload Site Plan Image" button to display it as background.']})})]}),o===2&&g&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800",children:"DXF File Info"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx(n1,{label:"Total Entities",value:g.totalEntities}),x.jsx(n1,{label:"Closed Shapes",value:g.closedPolylineCount})]}),g.bounds&&x.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-xs font-mono",children:[x.jsx("div",{className:"text-gray-500 mb-1",children:"Drawing Bounds:"}),x.jsxs("div",{className:"text-gray-700",children:["X: ",g.bounds.minX.toFixed(1)," "," ",g.bounds.maxX.toFixed(1)]}),x.jsxs("div",{className:"text-gray-700",children:["Y: ",g.bounds.minY.toFixed(1)," "," ",g.bounds.maxY.toFixed(1)]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Border Layer (for alignment)"," ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("select",{value:y||"",onChange:U=>v(U.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[x.jsx("option",{value:"",children:"Select border layer..."}),g.layers.map(U=>x.jsxs("option",{value:U,children:[U," (",g.entityCounts[U]||0," entities)"]},U))]}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the layer containing the site border/outline. This will be used to align with your image."})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Plots Layer ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsxs("select",{value:b||"",onChange:U=>S(U.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[x.jsx("option",{value:"",children:"Select plots layer..."}),g.layers.map(U=>x.jsxs("option",{value:U,children:[U," (",g.entityCounts[U]||0," entities)"]},U))]}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the layer containing individual plot polygons. This layer will be converted to interactive plots."})]}),x.jsx("button",{onClick:()=>u(3),disabled:!y||!b,className:"w-full py-2.5 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next: Set Coordinates"}),(!y||!b)&&x.jsx("p",{className:"text-xs text-red-600 text-center",children:"Please select both border and plots layers to continue"})]}),o===3&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800",children:"Set Geographic Coordinates"}),y&&r?.geoBounds?x.jsxs("p",{className:"text-sm text-green-700 bg-green-50 border border-green-200 rounded-lg p-3",children:[x.jsx("strong",{children:"Auto-alignment active:"})," Coordinates are automatically set from your image. You can manually adjust them below if needed."]}):x.jsx("p",{className:"text-sm text-gray-600",children:"Enter the real-world coordinates of two corners of your site. Get these from Google Maps."}),y&&r?.geoBounds?x.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(zc,{className:"w-5 h-5 text-green-600 mt-0.5 shrink-0"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"Auto-Alignment Enabled"}),x.jsxs("p",{className:"text-xs text-green-700",children:['The border layer "',y,'" will be automatically aligned with your image coordinates. The plots from "',b||"selected layer",'" will be positioned accordingly.']})]})]})}):r?.geoBounds?x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(xo,{className:"w-5 h-5 text-blue-600 mt-0.5 shrink-0"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Align with Image"}),x.jsx("p",{className:"text-xs text-blue-700 mb-3",children:"Use the same coordinates as your uploaded image to ensure DXF plots align exactly with your manually traced plots."}),x.jsxs("button",{onClick:()=>O(r.geoBounds),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[x.jsx(L3,{className:"w-4 h-4"}),"Use Image Coordinates"]})]})]})}):null,x.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:x.jsxs("p",{className:"text-xs text-amber-800",children:[x.jsx("strong",{children:"How to get coordinates:"}),x.jsx("br",{}),"1. Open Google Maps",x.jsx("br",{}),"2. Right-click on a corner of your site",x.jsx("br",{}),"3. Click the coordinates to copy them",x.jsx("br",{}),"4. Paste here (format: lat, lng)"]})}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Southwest Corner (Bottom-Left)"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Latitude"}),x.jsx("input",{type:"number",step:"0.000001",value:A.sw.lat,onChange:U=>O({...A,sw:{...A.sw,lat:parseFloat(U.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"20.9089"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Longitude"}),x.jsx("input",{type:"number",step:"0.000001",value:A.sw.lng,onChange:U=>O({...A,sw:{...A.sw,lng:parseFloat(U.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"70.3653"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Northeast Corner (Top-Right)"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Latitude"}),x.jsx("input",{type:"number",step:"0.000001",value:A.ne.lat,onChange:U=>O({...A,ne:{...A.ne,lat:parseFloat(U.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"20.9098"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Longitude"}),x.jsx("input",{type:"number",step:"0.000001",value:A.ne.lng,onChange:U=>O({...A,ne:{...A.ne,lng:parseFloat(U.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"70.3658"})]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>u(2),className:"flex-1 py-2.5 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Back"}),x.jsx("button",{onClick:P,disabled:R,className:"flex-1 py-2.5 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:R?x.jsxs(x.Fragment,{children:[x.jsx(ub,{className:"w-4 h-4 animate-spin"}),"Converting..."]}):x.jsxs(x.Fragment,{children:[x.jsx(zc,{className:"w-4 h-4"}),"Convert & Import"]})})]})]})]})]})]}):null});function n1({label:a,value:e}){return x.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e}),x.jsx("div",{className:"text-xs text-gray-500",children:a})]})}const iL=k.memo(function({isOpen:e,onClose:t,onImageUpload:i}){const[r,o]=k.useState(1),[u,h]=k.useState(null),[f,g]=k.useState(null),[p,y]=k.useState(null),[v,b]=k.useState(null),[S,C]=k.useState(!1),w={sw:{lng:70.36516881045745,lat:20.90890052161814},ne:{lng:70.36592790658264,lat:20.90980725575567}},[R,T]=k.useState(w),z=D=>{const M=D.target.files?.[0];if(!M)return;if(!M.type.startsWith("image/")){b("Please upload an image file (PNG, JPG, etc.)");return}b(null);const P=new FileReader;P.onload=U=>{const J=U.target?.result;g(J),h(M);const Q=new Image;Q.onload=()=>{y({width:Q.width,height:Q.height}),o(2)},Q.onerror=()=>{b("Failed to load image")},Q.src=J},P.readAsDataURL(M)},A=()=>{if(!(!f||!p)){b(null),C(!0);try{i({url:f,bounds:p,geoBounds:R}),O()}catch(D){b("Failed to upload image: "+D.message)}finally{C(!1)}}},O=()=>{o(1),h(null),g(null),y(null),b(null),t()};return e?x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:O}),x.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-lg mx-3 sm:mx-4 max-h-[95vh] sm:max-h-[90vh] overflow-hidden animate-fade-in",children:[x.jsxs("div",{className:"bg-linear-to-r from-emerald-500 to-green-600 px-4 sm:px-6 py-3 sm:py-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-white font-bold text-lg",children:"Upload Site Plan Image"}),x.jsxs("p",{className:"text-white/80 text-sm",children:["Step ",r," of 2: ",r===1?"Upload Image":"Set Position"]})]}),x.jsx("button",{onClick:O,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:x.jsx(vo,{className:"w-5 h-5 text-white"})})]}),x.jsx("div",{className:"flex gap-2 mt-3",children:[1,2].map(D=>x.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${D<=r?"bg-white":"bg-white/30"}`},D))})]}),x.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[v&&x.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:v}),r===1&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx(xo,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),x.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Upload Site Plan Image"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload your site plan image (PNG, JPG, etc.)"})]}),x.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-emerald-500 hover:bg-emerald-50 transition-colors group",children:[x.jsx(xo,{className:"w-12 h-12 text-gray-400 group-hover:text-emerald-600 transition-colors mb-3"}),x.jsx("span",{className:"text-sm text-gray-500 group-hover:text-emerald-700 transition-colors",children:f?"Image selected ":"Click to select image"}),x.jsx("input",{type:"file",accept:"image/*",onChange:z,className:"hidden"})]}),f&&x.jsx("div",{className:"mt-4 rounded-lg overflow-hidden border border-gray-200",children:x.jsx("img",{src:f,alt:"Site plan preview",className:"w-full h-48 object-contain bg-gray-50"})}),x.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3",children:x.jsxs("p",{className:"text-xs text-blue-700",children:[x.jsx("strong",{children:"Tip:"})," The image will be displayed on the map. You'll set its position in the next step."]})})]}),r===2&&f&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800",children:"Set Image Position"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Enter the real-world coordinates of two corners of your site to position the image correctly."}),p&&x.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-xs",children:[x.jsx("div",{className:"text-gray-500 mb-1",children:"Image Dimensions:"}),x.jsxs("div",{className:"text-gray-700 font-mono",children:[p.width,"  ",p.height," pixels"]})]}),x.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:x.jsxs("p",{className:"text-xs text-amber-800",children:[x.jsx("strong",{children:"How to get coordinates:"}),x.jsx("br",{}),"1. Open Google Maps",x.jsx("br",{}),"2. Right-click on a corner of your site",x.jsx("br",{}),"3. Click the coordinates to copy them",x.jsx("br",{}),"4. Paste here (format: lat, lng)"]})}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[x.jsx(Pr,{className:"w-4 h-4"}),"Southwest Corner (Bottom-Left)"]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Latitude"}),x.jsx("input",{type:"number",step:"0.000001",value:R.sw.lat,onChange:D=>T({...R,sw:{...R.sw,lat:parseFloat(D.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"20.9089"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Longitude"}),x.jsx("input",{type:"number",step:"0.000001",value:R.sw.lng,onChange:D=>T({...R,sw:{...R.sw,lng:parseFloat(D.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"70.3653"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[x.jsx(Pr,{className:"w-4 h-4"}),"Northeast Corner (Top-Right)"]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Latitude"}),x.jsx("input",{type:"number",step:"0.000001",value:R.ne.lat,onChange:D=>T({...R,ne:{...R.ne,lat:parseFloat(D.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"20.9098"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Longitude"}),x.jsx("input",{type:"number",step:"0.000001",value:R.ne.lng,onChange:D=>T({...R,ne:{...R.ne,lng:parseFloat(D.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"70.3658"})]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>o(1),className:"flex-1 py-3 sm:py-2.5 border border-gray-300 text-gray-700 rounded-lg text-sm sm:text-base font-medium hover:bg-gray-50 transition-colors touch-manipulation",children:"Back"}),x.jsx("button",{onClick:A,disabled:S,className:"flex-1 py-3 sm:py-2.5 bg-emerald-600 text-white rounded-lg text-sm sm:text-base font-medium hover:bg-emerald-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 touch-manipulation",children:S?x.jsxs(x.Fragment,{children:[x.jsx(ub,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):x.jsxs(x.Fragment,{children:[x.jsx(zc,{className:"w-4 h-4"}),"Upload & Display"]})})]})]})]})]})]}):null}),sL=k.memo(function({onOpenSidebar:e}){return x.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-30",children:x.jsx("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-10 max-w-lg mx-4 pointer-events-auto animate-fade-in border border-gray-100/50",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-green-600 rounded-3xl blur-xl opacity-30 animate-pulse"}),x.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-emerald-500/30",children:x.jsx(xo,{className:"w-10 h-10 text-white"})}),x.jsx("div",{className:"absolute -top-1 -right-1",children:x.jsx(cb,{className:"w-6 h-6 text-emerald-400 animate-pulse"})})]}),x.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Welcome to PlotMap"}),x.jsx("p",{className:"text-gray-600 mb-8 text-sm leading-relaxed max-w-sm mx-auto",children:"Transform your site plans into interactive maps. Import from AutoCAD DXF or upload images to visualize and manage plots with precision."}),x.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2.5 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-4 rounded-2xl font-semibold hover:from-emerald-700 hover:to-green-700 transition-all shadow-xl shadow-emerald-500/30 hover:shadow-2xl hover:shadow-emerald-500/40 hover:scale-105 active:scale-95 btn-press group",children:[x.jsx(oh,{className:"w-5 h-5 group-hover:translate-y-0.5 transition-transform"}),"Get Started",x.jsx(pc,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),x.jsxs("div",{className:"mt-10 pt-8 border-t border-gray-100",children:[x.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"How it works"}),x.jsxs("div",{className:"flex flex-col gap-3 text-left max-w-xs mx-auto",children:[x.jsx(ag,{number:1,text:"Upload DXF file from AutoCAD or upload an image"}),x.jsx(ag,{number:2,text:"Select layer (DXF) or set coordinates (Image)"}),x.jsx(ag,{number:3,text:"Plots/image appear on the map instantly!"})]})]})]})})})});function ag({number:a,text:e}){return x.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 text-xs sm:text-sm text-gray-700 group",children:[x.jsx("div",{className:"relative shrink-0",children:x.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-100 to-green-100 text-emerald-700 font-bold flex items-center justify-center text-[10px] sm:text-xs shadow-sm group-hover:scale-110 transition-transform",children:a})}),x.jsx("span",{className:"pt-0.5 leading-relaxed",children:e})]})}const aL=k.memo(function({mapType:e,onMapTypeChange:t}){return x.jsx("div",{className:"absolute bottom-4 left-4 sm:bottom-5 sm:left-5 z-40",children:x.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-xl p-1.5 sm:p-2 flex gap-1.5 sm:gap-2 border border-gray-100/50",children:[x.jsxs("button",{onClick:()=>t("satellite"),className:`flex items-center gap-1.5 sm:gap-2.5 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold transition-all relative group touch-manipulation ${e==="satellite"?"bg-gradient-to-r from-emerald-600 to-green-600 text-white shadow-lg shadow-emerald-500/30":"text-gray-600 hover:bg-gray-50"}`,children:[x.jsx(Q3,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Satellite"}),e==="satellite"&&x.jsx("div",{className:"absolute inset-0 rounded-lg sm:rounded-xl bg-white/20 animate-pulse"})]}),x.jsxs("button",{onClick:()=>t("street"),className:`flex items-center gap-1.5 sm:gap-2.5 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-semibold transition-all relative group touch-manipulation ${e==="street"?"bg-gradient-to-r from-emerald-600 to-green-600 text-white shadow-lg shadow-emerald-500/30":"text-gray-600 hover:bg-gray-50"}`,children:[x.jsx(Nm,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Street"}),e==="street"&&x.jsx("div",{className:"absolute inset-0 rounded-lg sm:rounded-xl bg-white/20 animate-pulse"})]})]})})}),rL=k.memo(function({plot:e,position:t,onClose:i}){if(!e||!t)return null;const r=e.status===At.AVAILABLE,o=e.status===At.SOLD,u={[At.AVAILABLE]:{gradient:"from-emerald-500 to-green-600"},[At.SOLD]:{gradient:"from-red-500 to-red-600"},[At.RESERVED]:{gradient:"from-amber-500 to-orange-600"}},h=u[e.status]||u[At.AVAILABLE];return x.jsx("div",{className:"fixed top-16 right-3 left-3 sm:top-5 sm:right-5 sm:left-auto z-40 animate-scale-in w-auto sm:w-88 max-w-sm",onClick:f=>f.stopPropagation(),children:x.jsxs("div",{className:"bg-white/98 backdrop-blur-xl rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border border-gray-100/50 max-h-[calc(100vh-5rem)] sm:max-h-[80vh] overflow-y-auto",children:[x.jsxs("div",{className:`bg-gradient-to-r ${h.gradient} px-4 sm:px-6 py-3 sm:py-4 relative overflow-hidden`,children:[x.jsx("div",{className:"absolute inset-0 opacity-10",children:x.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[x.jsx("pattern",{id:"popup-grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:x.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})}),x.jsx("rect",{width:"100",height:"100",fill:"url(#popup-grid)"})]})}),x.jsxs("div",{className:"relative flex items-start justify-between pr-8 sm:pr-10",children:[x.jsxs("div",{className:"min-w-0 flex-1 pr-2",children:[x.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs font-medium",children:"Plot"}),x.jsx("h3",{className:"text-white font-bold text-base sm:text-lg leading-tight truncate",children:e.title})]}),x.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-1.5 sm:px-2 py-0.5 text-[9px] sm:text-[10px] font-bold uppercase bg-white/20 text-white shrink-0",children:[x.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-white/60"}),x.jsx("span",{className:"hidden xs:inline",children:e.status}),x.jsx("span",{className:"xs:hidden",children:e.status.substring(0,1)})]})]}),x.jsx("button",{onClick:i,className:"absolute top-2 right-2 sm:top-3 sm:right-3 p-1.5 sm:p-2 rounded-xl hover:bg-white/20 transition-all hover:scale-110 active:scale-95 group touch-manipulation","aria-label":"Close",children:x.jsx(vo,{className:"w-4 h-4 text-white group-hover:rotate-90 transition-transform"})})]}),x.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-b from-white to-gray-50/30 overflow-y-auto",children:[x.jsxs("div",{className:"flex gap-3 sm:gap-4 mb-3",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"text-[9px] sm:text-[10px] font-semibold text-gray-500 uppercase",children:"Price"}),x.jsx("div",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:e.price})]}),x.jsx("div",{className:"w-px bg-gray-200 shrink-0"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"text-[9px] sm:text-[10px] font-semibold text-gray-500 uppercase",children:"Size"}),x.jsx("div",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:e.size})]})]}),e.description&&x.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 border-l-2 border-gray-200 pl-2 sm:pl-3 line-clamp-2",children:e.description}),t&&x.jsxs("div",{className:"rounded-lg bg-gray-50 px-2 sm:px-3 py-1.5 sm:py-2 mb-3 border border-gray-100",children:[x.jsxs("div",{className:"text-[9px] sm:text-[10px] font-semibold text-gray-500 uppercase mb-1 flex items-center gap-1",children:[x.jsx(Pr,{className:"w-3 h-3"}),"Coordinates"]}),x.jsxs("div",{className:"text-[10px] sm:text-xs font-mono text-gray-800 break-all",children:[t[1].toFixed(6),", ",t[0].toFixed(6)]})]}),x.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[r?x.jsxs("button",{className:"flex-1 rounded-xl bg-gradient-to-r from-emerald-600 to-green-600 px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 hover:from-emerald-700 hover:to-green-700 hover:shadow-xl hover:shadow-emerald-500/40 transition-all hover:scale-[1.02] active:scale-[0.98] btn-press flex items-center justify-center gap-1.5 sm:gap-2 group touch-manipulation",onClick:()=>alert(`Inquire about ${e.title}`),children:[x.jsx(q3,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"hidden xs:inline",children:"Contact Agent"}),x.jsx("span",{className:"xs:hidden",children:"Contact"})]}):x.jsxs("button",{disabled:!0,className:"flex-1 rounded-xl bg-gray-100 px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-semibold text-gray-400 border border-gray-200 cursor-not-allowed flex items-center justify-center gap-1.5 sm:gap-2",children:[x.jsx(vo,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden xs:inline",children:o?"Sold Out":"Reserved"}),x.jsx("span",{className:"xs:hidden",children:o?"Sold":"Reserved"})]}),t&&x.jsx("button",{className:"rounded-xl border border-gray-200 bg-white px-3 sm:px-4 py-2.5 sm:py-3 text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm hover:shadow-md btn-press flex items-center justify-center group touch-manipulation shrink-0",onClick:()=>window.open(`https://www.google.com/maps/dir/?api=1&destination=${t[1]},${t[0]}`,"_blank"),title:"Get Directions",children:x.jsx(Nm,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})})]})]})]})})}),lL=k.memo(function({siteConfig:e,onSiteConfigChange:t,onOpenDxfModal:i,onOpenImageModal:r,geojsonData:o,imageData:u,dxfBounds:h,onImageBoundsUpdate:f,onDxfBoundsUpdate:g}){const p=o?.features?.length||0;return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[x.jsxs("label",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 flex items-center gap-2",children:[x.jsx(oh,{className:"w-4 h-4 text-gray-400"}),"Import Site Plan"]}),x.jsxs("button",{onClick:i,className:"w-full flex flex-col items-center justify-center p-6 border-2 border-dashed border-emerald-300 bg-emerald-50 rounded-xl hover:border-emerald-500 hover:bg-emerald-100 transition-colors group mb-3",children:[x.jsx(ob,{className:"w-12 h-12 text-emerald-500 mb-3 group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"text-base font-semibold text-emerald-700",children:"Upload AutoCAD DXF"}),x.jsx("span",{className:"text-xs text-emerald-600 mt-1",children:"Import site plan from CAD software"})]}),x.jsxs("button",{onClick:r,className:"w-full flex flex-col items-center justify-center p-6 border-2 border-dashed border-blue-300 bg-blue-50 rounded-xl hover:border-blue-500 hover:bg-blue-100 transition-colors group",children:[x.jsx(xo,{className:"w-12 h-12 text-blue-500 mb-3 group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"text-base font-semibold text-blue-700",children:"Upload Site Plan Image"}),x.jsx("span",{className:"text-xs text-blue-600 mt-1",children:"Upload and position your site plan image"})]}),o&&x.jsxs("p",{className:"text-xs text-emerald-600 mt-3 flex items-center gap-1",children:[x.jsx(zc,{className:"w-4 h-4"}),p," plots loaded"]})]}),x.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-4",children:[x.jsxs("h4",{className:"text-sm font-semibold text-emerald-800 mb-3 flex items-center gap-2",children:[x.jsx(U3,{className:"w-4 h-4"}),"How It Works"]}),x.jsxs("ul",{className:"text-xs text-emerald-700 space-y-2",children:[x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-200 text-emerald-700 text-[10px] flex items-center justify-center font-bold shrink-0 mt-0.5",children:"1"}),x.jsx("span",{children:"Get DXF file from your AutoCAD designer OR upload an image"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-200 text-emerald-700 text-[10px] flex items-center justify-center font-bold shrink-0 mt-0.5",children:"2"}),x.jsx("span",{children:"Upload and select the layer containing plots (DXF) or enter coordinates (Image)"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-200 text-emerald-700 text-[10px] flex items-center justify-center font-bold shrink-0 mt-0.5",children:"3"}),x.jsx("span",{children:"Enter corner coordinates from Google Maps"})]}),x.jsxs("li",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"w-5 h-5 rounded-full bg-emerald-200 text-emerald-700 text-[10px] flex items-center justify-center font-bold shrink-0 mt-0.5",children:"4"}),x.jsx("span",{children:"Plots/image appear on the map automatically!"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-xl border border-gray-100",children:[x.jsxs("label",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 sm:mb-3 flex items-center gap-2",children:[x.jsx(Pr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-400"}),"Site Name"]}),x.jsx("input",{type:"text",value:e.name||"",onChange:y=>t({...e,name:y.target.value}),className:"w-full px-3 py-2.5 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors touch-manipulation",placeholder:"Enter site name"})]}),u&&x.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[x.jsxs("label",{className:"text-xs font-semibold text-blue-700 uppercase mb-3 flex items-center gap-2",children:[x.jsx(e1,{className:"w-4 h-4 text-blue-600"}),"Adjust Image Position"]}),x.jsx("p",{className:"text-xs text-blue-600 mb-3",children:"Manually adjust the image position by changing corner coordinates"}),x.jsx(cc,{label:"Southwest Corner (Bottom-Left)",lat:u.geoBounds?.sw?.lat,lng:u.geoBounds?.sw?.lng,corner:"sw",onLatChange:y=>f({...u.geoBounds,sw:{...u.geoBounds.sw,lat:y}}),onLngChange:y=>f({...u.geoBounds,sw:{...u.geoBounds.sw,lng:y}}),className:"mb-3"}),x.jsx(cc,{label:"Northeast Corner (Top-Right)",lat:u.geoBounds?.ne?.lat,lng:u.geoBounds?.ne?.lng,corner:"ne",onLatChange:y=>f({...u.geoBounds,ne:{...u.geoBounds.ne,lat:y}}),onLngChange:y=>f({...u.geoBounds,ne:{...u.geoBounds.ne,lng:y}})})]}),o&&h&&x.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[x.jsxs("label",{className:"text-xs font-semibold text-emerald-700 uppercase mb-3 flex items-center gap-2",children:[x.jsx(e1,{className:"w-4 h-4 text-emerald-600"}),"Adjust DXF Plots Position"]}),x.jsx("p",{className:"text-xs text-emerald-600 mb-3",children:"Manually adjust the plots position by changing corner coordinates"}),x.jsx(cc,{label:"Southwest Corner (Bottom-Left)",lat:h?.sw?.lat,lng:h?.sw?.lng,corner:"sw",onLatChange:y=>g({...h,sw:{...h.sw,lat:y}}),onLngChange:y=>g({...h,sw:{...h.sw,lng:y}}),className:"mb-3"}),x.jsx(cc,{label:"Northeast Corner (Top-Right)",lat:h?.ne?.lat,lng:h?.ne?.lng,corner:"ne",onLatChange:y=>g({...h,ne:{...h.ne,lat:y}}),onLngChange:y=>g({...h,ne:{...h.ne,lng:y}})})]}),x.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[x.jsxs("label",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 flex items-center gap-2",children:[x.jsx(A3,{className:"w-4 h-4 text-gray-400"}),"Default Map Center"]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-gray-400 mb-1",children:"Longitude"}),x.jsx("input",{type:"number",step:"0.000001",value:e.center?.[0]||"",onChange:y=>{const v=[...e.center||[0,0]];v[0]=parseFloat(y.target.value)||0,t({...e,center:v})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors font-mono"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-gray-400 mb-1",children:"Latitude"}),x.jsx("input",{type:"number",step:"0.000001",value:e.center?.[1]||"",onChange:y=>{const v=[...e.center||[0,0]];v[1]=parseFloat(y.target.value)||0,t({...e,center:v})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors font-mono"})]})]})]}),o&&x.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[x.jsxs("label",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 flex items-center gap-2",children:[x.jsx(S3,{className:"w-4 h-4 text-gray-400"}),"Site Statistics"]}),x.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[x.jsx(rg,{label:"Total",value:p,color:"text-gray-700"}),x.jsx(rg,{label:"Available",value:o.features.filter(y=>y.properties.status==="AVAILABLE").length,color:"text-emerald-600"}),x.jsx(rg,{label:"Sold",value:o.features.filter(y=>y.properties.status==="SOLD").length,color:"text-red-600"})]})]})]})});function cc({label:a,lat:e,lng:t,onLatChange:i,onLngChange:r,className:o="",corner:u="sw"}){const h=u==="sw",f=u==="ne";return x.jsxs("div",{className:`bg-white rounded-xl p-4 border border-gray-200 shadow-sm ${o}`,children:[x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-100 to-blue-50 rounded-lg",children:x.jsx(t1,{className:"w-3.5 h-3.5 text-blue-600"})}),x.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:a})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1 sm:mb-1.5",children:[f?x.jsx(sg,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-emerald-600 shrink-0"}):x.jsx(ng,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-red-600 shrink-0"}),x.jsxs("label",{className:"block text-[9px] sm:text-[10px] font-semibold text-gray-600 uppercase tracking-wide truncate",children:[x.jsxs("span",{className:"hidden xs:inline",children:["Latitude ",f?"(North )":"(South )"]}),x.jsxs("span",{className:"xs:hidden",children:["Lat ",f?"(N)":"(S)"]})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.000001",value:e||"",onChange:g=>i(parseFloat(g.target.value)||0),className:"w-full pl-7 sm:pl-8 pr-2 py-2 border border-gray-300 rounded-lg text-[11px] sm:text-xs focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 font-mono bg-gray-50/50 transition-colors touch-manipulation"}),x.jsx("div",{className:"absolute left-2 sm:left-2.5 top-1/2 -translate-y-1/2 flex items-center gap-1",children:f?x.jsx(sg,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-emerald-600"}):x.jsx(ng,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-red-600"})})]}),x.jsx("p",{className:"text-[8px] sm:text-[9px] text-gray-400 mt-1 line-clamp-1",children:f?"Increase = Move North":"Decrease = Move South"})]}),x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mb-1 sm:mb-1.5",children:[f?x.jsx(pc,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-emerald-600 shrink-0"}):x.jsx(ig,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-blue-600 shrink-0"}),x.jsxs("label",{className:"block text-[9px] sm:text-[10px] font-semibold text-gray-600 uppercase tracking-wide truncate",children:[x.jsxs("span",{className:"hidden xs:inline",children:["Longitude ",f?"(East )":"(West )"]}),x.jsxs("span",{className:"xs:hidden",children:["Lng ",f?"(E)":"(W)"]})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"number",step:"0.000001",value:t||"",onChange:g=>r(parseFloat(g.target.value)||0),className:"w-full pl-7 sm:pl-8 pr-2 py-2 border border-gray-300 rounded-lg text-[11px] sm:text-xs focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 font-mono bg-gray-50/50 transition-colors touch-manipulation"}),x.jsx("div",{className:"absolute left-2 sm:left-2.5 top-1/2 -translate-y-1/2 flex items-center gap-1",children:f?x.jsx(pc,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-emerald-600"}):x.jsx(ig,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600"})})]}),x.jsx("p",{className:"text-[8px] sm:text-[9px] text-gray-400 mt-1 line-clamp-1",children:f?"Increase = Move East":"Decrease = Move West"})]})]}),x.jsxs("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-4",children:[x.jsxs("div",{className:"flex flex-col items-center gap-0.5 sm:gap-1",children:[x.jsx(sg,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-gray-400"}),x.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-400 font-medium",children:"N"})]}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[x.jsxs("div",{className:"flex flex-col items-center gap-0.5 sm:gap-1",children:[x.jsx(ig,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-gray-400"}),x.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-400 font-medium",children:"W"})]}),x.jsxs("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg border-2 border-gray-200 bg-gradient-to-br from-gray-50 to-white flex items-center justify-center relative",children:[x.jsx("div",{className:`absolute ${h?"bottom-0.5 left-0.5":"top-0.5 right-0.5"} w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full ${h?"bg-blue-500":"bg-emerald-500"} shadow-sm`}),x.jsx(t1,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"})]}),x.jsxs("div",{className:"flex flex-col items-center gap-0.5 sm:gap-1",children:[x.jsx(pc,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-gray-400"}),x.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-400 font-medium",children:"E"})]})]}),x.jsxs("div",{className:"flex flex-col items-center gap-0.5 sm:gap-1",children:[x.jsx(ng,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-gray-400"}),x.jsx("span",{className:"text-[7px] sm:text-[8px] text-gray-400 font-medium",children:"S"})]})]}),x.jsx("p",{className:"text-center text-[8px] sm:text-[9px] text-gray-500 mt-1.5 sm:mt-2 px-1",children:h?"Adjusting Bottom-Left Corner":"Adjusting Top-Right Corner"})]})]})}function rg({label:a,value:e,color:t}){return x.jsxs("div",{className:"text-center p-1.5 sm:p-2 bg-white rounded-lg border border-gray-100",children:[x.jsx("div",{className:`text-lg sm:text-xl font-bold ${t}`,children:e}),x.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-500 uppercase font-medium",children:a})]})}const oL=k.memo(function({plots:e,onPlotUpdate:t}){return e.length===0?x.jsx(uL,{}):x.jsx("div",{className:"space-y-3",children:e.map(i=>x.jsx(cL,{plot:i,onChange:(r,o)=>t(i.id,{[r]:o})},i.id))})});function uL(){return x.jsxs("div",{className:"text-center py-8 text-gray-500",children:[x.jsx(F3,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),x.jsx("p",{className:"text-sm font-medium",children:"No plots loaded"}),x.jsx("p",{className:"text-xs mt-1",children:"Upload a GeoJSON file with plot features to get started"})]})}function cL({plot:a,onChange:e}){const[t,i]=k.useState(!1),r=a.status===At.AVAILABLE,o=a.status===At.SOLD,u=r?"bg-emerald-500":o?"bg-red-500":"bg-amber-500";return x.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[x.jsxs("button",{onClick:()=>i(!t),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors btn-press",children:[x.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[x.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${u}`}),x.jsx("span",{className:"font-medium text-sm text-gray-800 truncate",children:a.title})]}),x.jsx(R3,{className:`w-4 h-4 text-gray-500 shrink-0 transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&x.jsxs("div",{className:"p-3 pt-0 space-y-3 border-t border-gray-100",children:[x.jsx(ql,{label:"Title",children:x.jsx("input",{type:"text",value:a.title||"",onChange:h=>e("title",h.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})}),x.jsx(ql,{label:"Status",children:x.jsxs("select",{value:a.status||At.AVAILABLE,onChange:h=>e("status",h.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-white",children:[x.jsx("option",{value:At.AVAILABLE,children:"Available"}),x.jsx("option",{value:At.SOLD,children:"Sold"}),x.jsx("option",{value:At.RESERVED,children:"Reserved"})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx(ql,{label:"Price",children:x.jsx("input",{type:"text",value:a.price||"",onChange:h=>e("price",h.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})}),x.jsx(ql,{label:"Size",children:x.jsx("input",{type:"text",value:a.size||"",onChange:h=>e("size",h.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})})]}),x.jsx(ql,{label:"Description",children:x.jsx("textarea",{value:a.description||"",onChange:h=>e("description",h.target.value),rows:2,className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none"})}),x.jsx("div",{className:"pt-2 border-t border-gray-100",children:x.jsxs("span",{className:"text-[10px] text-gray-400 font-mono",children:["ID: ",a.id]})})]})]})}function ql({label:a,children:e}){return x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] text-gray-500 uppercase mb-1 font-semibold",children:a}),e]})}const hL=k.memo(function({siteConfig:e,onSiteConfigChange:t,plots:i,onPlotUpdate:r,isOpen:o,onToggle:u,onOpenDxfModal:h,onOpenImageModal:f,onCenterMap:g,geojsonData:p,imageData:y,dxfBounds:v,onImageBoundsUpdate:b,onDxfBoundsUpdate:S,dxfSourceData:C,imageSourceData:w,plotOverrides:R,borderGeoJSON:T,onImportConfig:z}){const[A,O]=k.useState("site"),D=()=>{if(!p&&!y){alert("No data to export. Please upload DXF or image first.");return}const P={version:"1.0",siteConfig:e,geojson:p,plotOverrides:R,imageData:y,imageSourceData:w,dxfSourceData:C,dxfBounds:v,borderGeoJSON:T,exportedAt:new Date().toISOString()},U=JSON.stringify(P,null,2),J=new Blob([U],{type:"application/json"}),Q=URL.createObjectURL(J),ee=document.createElement("a");ee.href=Q,ee.download=`${e.name||"site"}-config.json`,ee.click(),URL.revokeObjectURL(Q)},M=()=>{const P=document.createElement("input");P.type="file",P.accept=".json",P.onchange=U=>{const J=U.target.files?.[0];if(!J)return;const Q=new FileReader;Q.onload=ee=>{try{const ie=JSON.parse(ee.target?.result);z&&(z(ie),alert("Configuration imported successfully!"))}catch{alert("Failed to import configuration. Please check the file format.")}},Q.readAsText(J)},P.click()};return o?x.jsxs("div",{className:"fixed top-0 left-0 h-full w-full sm:w-96 bg-white/95 backdrop-blur-xl shadow-2xl z-50 flex flex-col animate-slide-in border-r border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-100/50 shrink-0 bg-gradient-to-br from-white to-gray-50/50",children:[x.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[x.jsxs("div",{className:"relative shrink-0",children:[x.jsx("div",{className:"w-9 h-9 sm:w-11 sm:h-11 bg-gradient-to-br from-emerald-500 via-emerald-600 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/30 group-hover:shadow-emerald-500/50 transition-all",children:x.jsx(Nm,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-emerald-400 rounded-full border-2 border-white animate-pulse-glow"})]}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("h2",{className:"text-lg sm:text-xl font-bold gradient-text truncate",children:"PlotMap"}),x.jsx("p",{className:"text-[9px] sm:text-[10px] text-gray-500 font-medium uppercase tracking-wider hidden xs:block",children:"Premium Site Manager"})]})]}),x.jsx("button",{onClick:u,className:"p-2 sm:p-2.5 hover:bg-gray-100/80 rounded-xl transition-all hover:scale-110 active:scale-95 btn-press group shrink-0 touch-manipulation","aria-label":"Close sidebar",children:x.jsx(vo,{className:"w-5 h-5 text-gray-600 group-hover:text-gray-900 transition-colors"})})]}),x.jsxs("div",{className:"flex border-b border-gray-100/50 shrink-0 bg-gradient-to-b from-white to-gray-50/30",children:[x.jsxs(i1,{active:A==="site",onClick:()=>O("site"),children:[x.jsx(cb,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),x.jsx("span",{className:"hidden xs:inline",children:"Site Config"}),x.jsx("span",{className:"xs:hidden",children:"Config"})]}),x.jsxs(i1,{active:A==="plots",onClick:()=>O("plots"),children:[x.jsx(Pr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),x.jsxs("span",{className:"hidden xs:inline",children:["Plots (",i.length,")"]}),x.jsxs("span",{className:"xs:hidden",children:["(",i.length,")"]})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-5 bg-gradient-to-b from-white via-gray-50/30 to-white",children:A==="site"?x.jsx(lL,{siteConfig:e,onSiteConfigChange:t,onOpenDxfModal:h,onOpenImageModal:f,geojsonData:p,imageData:y,dxfBounds:v,onImageBoundsUpdate:b,onDxfBoundsUpdate:S}):x.jsx(oL,{plots:i,onPlotUpdate:r})}),x.jsxs("div",{className:"p-4 sm:p-5 border-t border-gray-100/50 space-y-2 sm:space-y-3 shrink-0 bg-gradient-to-t from-white to-gray-50/30",children:[p&&g&&x.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 sm:gap-2.5 bg-gradient-to-r from-emerald-600 to-green-600 text-white py-3 sm:py-3.5 rounded-xl text-xs sm:text-sm font-semibold hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 hover:scale-[1.02] active:scale-[0.98] btn-press group touch-manipulation",children:[x.jsx(Pr,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"hidden sm:inline",children:"Go to Site on Map"}),x.jsx("span",{className:"sm:hidden",children:"Go to Site"})]}),x.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center gap-2 sm:gap-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 sm:py-3.5 rounded-xl text-xs sm:text-sm font-semibold hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 hover:scale-[1.02] active:scale-[0.98] btn-press group touch-manipulation mb-2 sm:mb-3",children:[x.jsx(oh,{className:"w-4 h-4 group-hover:translate-y-0.5 transition-transform"}),x.jsx("span",{className:"hidden sm:inline",children:"Import Config"}),x.jsx("span",{className:"sm:hidden",children:"Import"})]}),x.jsxs("button",{onClick:D,disabled:!p&&!y,className:"w-full flex items-center justify-center gap-2 sm:gap-2.5 bg-gradient-to-r from-gray-800 to-gray-900 text-white py-3 sm:py-3.5 rounded-xl text-xs sm:text-sm font-semibold hover:from-gray-900 hover:to-black transition-all shadow-lg shadow-gray-900/20 hover:shadow-gray-900/30 hover:scale-[1.02] active:scale-[0.98] btn-press disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 group touch-manipulation",children:[x.jsx(O3,{className:"w-4 h-4 group-hover:translate-y-0.5 transition-transform"}),x.jsx("span",{className:"hidden sm:inline",children:"Export Config"}),x.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]}):x.jsx("button",{onClick:u,className:"fixed top-4 left-4 sm:top-5 sm:left-5 z-50 p-3 sm:p-3.5 bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl shadow-xl hover:shadow-2xl transition-all hover:scale-105 active:scale-95 border border-gray-100 group touch-manipulation","aria-label":"Open sidebar",children:x.jsx(H3,{className:"w-5 h-5 sm:w-5 sm:h-5 text-gray-700 group-hover:text-emerald-600 transition-colors"})})});function i1({active:a,onClick:e,children:t}){return x.jsxs("button",{onClick:e,className:`flex-1 py-3 sm:py-4 text-xs sm:text-sm font-semibold transition-all relative group flex items-center justify-center gap-1.5 sm:gap-2 touch-manipulation ${a?"text-emerald-600":"text-gray-500 hover:text-gray-700"}`,children:[x.jsx("span",{className:"relative z-10 flex items-center gap-1.5 sm:gap-2",children:t}),x.jsx("span",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-green-600 transition-all duration-300 ease-out rounded-t-full ${a?"scale-x-100 opacity-100":"scale-x-0 opacity-0 group-hover:scale-x-100 group-hover:opacity-50"}`}),a&&x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-50/50 to-transparent rounded-t-xl"})]})}const hb=k.memo(function({initialConfig:e=null,readOnly:t=!1}){const i=k.useRef(null),[r,o]=k.useState(!0),[u,h]=k.useState("satellite"),[f,g]=k.useState(!1),[p,y]=k.useState(!1),[v,b]=k.useState(null),[S,C]=k.useState({}),[w,R]=k.useState(null),[T,z]=k.useState(null),[A,O]=k.useState(null),[D,M]=k.useState({name:""}),[P,U]=k.useState(null),[J,Q]=k.useState(null),{mapInstanceRef:ee,vectorSourceRef:ie,vectorLayerRef:ae,borderSourceRef:ue}=eM(i),{selectedPlot:G,popupPosition:Z,handleMapClick:$,closePopup:re}=tM(ae,ee),oe=IM(ee,w);nM(ee,u,oe),k.useEffect(()=>{if(!ee.current)return;const te=ee.current;return te.on("click",$),te.on("pointermove",we=>{const Zt=te.getEventPixel(we.originalEvent),gi=te.hasFeatureAtPixel(Zt);te.getTarget().style.cursor=gi?"pointer":""}),()=>te.un("click",$)},[ee,$]),k.useEffect(()=>{if(!ie.current||!v)return;const te=jM(v,S);uc(ie.current,te),ae.current&&ae.current.setStyle(we=>so(we,!1))},[v,S,ie,ae]);const L=k.useCallback(()=>{DM(ee.current,ie.current,oe)},[ee,ie,oe]),j=k.useCallback(te=>{te.geojson&&b(te.geojson),te.geoBounds&&z(te.geoBounds),te.dxfContent&&te.borderLayer&&te.plotsLayer&&U({content:te.dxfContent,borderLayer:te.borderLayer,plotsLayer:te.plotsLayer}),te.borderGeoJSON?(O(te.borderGeoJSON),ue.current&&uc(ue.current,te.borderGeoJSON)):ue.current&&ue.current.clear(),C({}),re(),M(we=>({...we,name:we.name||"Imported Site"})),setTimeout(L,100)},[L,re,ue]),ne=k.useCallback(te=>{w&&R({...w,geoBounds:te})},[w]),se=k.useCallback(te=>{if(!(!v||!T)){if(b(Kx(v,T,te)),A&&ue.current){const we=Kx(A,T,te);O(we),uc(ue.current,we)}z(te)}},[v,A,T,ue]),le=k.useCallback(te=>{try{if(te.siteConfig&&M(te.siteConfig),te.imageSourceData&&(R({url:te.imageSourceData.url,bounds:te.imageSourceData.bounds,geoBounds:te.imageData?.geoBounds}),Q(te.imageSourceData)),te.dxfSourceData){if(U(te.dxfSourceData),te.dxfSourceData.content){const we=rb(te.dxfSourceData.content,te.dxfSourceData.plotsLayer,te.dxfBounds||te.imageData?.geoBounds,te.dxfSourceData.borderLayer);b(we.geojson),z(te.dxfBounds||te.imageData?.geoBounds),we.borderGeoJSON&&(O(we.borderGeoJSON),ue.current&&uc(ue.current,we.borderGeoJSON))}}else te.geojson&&b(te.geojson);te.plotOverrides&&C(te.plotOverrides),setTimeout(L,100)}catch(we){console.error("Failed to import configuration:",we),alert("Failed to import configuration. Please check the file format.")}},[L,ue]),ge=k.useCallback(te=>{R({url:te.url,bounds:te.bounds,geoBounds:te.geoBounds}),Q({url:te.url,bounds:te.bounds}),M(we=>({...we,name:we.name||"Site Plan"})),setTimeout(L,100)},[L]),_e=k.useCallback((te,we)=>{C(Zt=>({...Zt,[te]:{...Zt[te],...we}}))},[]);k.useEffect(()=>{e&&le(e)},[e,le]);const Ve=k.useMemo(()=>v?.features?v.features.map(te=>({id:te.id,...te.properties,...S[te.id]})):[],[v,S]);return x.jsxs("div",{className:"relative h-full w-full",children:[G&&Z&&x.jsx(rL,{plot:G,position:Z,onClose:re}),!t&&x.jsx(hL,{siteConfig:D,onSiteConfigChange:M,plots:Ve,onPlotUpdate:_e,isOpen:r,onToggle:()=>o(te=>!te),onOpenDxfModal:()=>g(!0),onOpenImageModal:()=>y(!0),onCenterMap:L,geojsonData:v,imageData:w,dxfBounds:T,onImageBoundsUpdate:ne,onDxfBoundsUpdate:se,dxfSourceData:P,imageSourceData:J,plotOverrides:S,borderGeoJSON:A,onImportConfig:le}),!t&&x.jsxs(x.Fragment,{children:[x.jsx(nL,{isOpen:f,onClose:()=>g(!1),onConvert:j,imageData:w}),x.jsx(iL,{isOpen:p,onClose:()=>y(!1),onImageUpload:ge})]}),x.jsx("div",{ref:i,className:"h-full w-full",style:{background:"#1a1a2e"}}),!w&&x.jsx(aL,{mapType:u,onMapTypeChange:h}),(v||w)&&x.jsx(tL,{onClick:L}),!v&&!w&&!t&&x.jsx(sL,{onOpenSidebar:()=>o(!0)})]})});function fL(){return x.jsx("div",{className:"relative w-screen h-screen overflow-hidden",children:x.jsx(hb,{})})}function dL(){const[a]=rw(),e=a.get("json"),t=a.get("name")||"Site Map",[i,r]=k.useState(null),[o,u]=k.useState(null),[h,f]=k.useState(!1),g=k.useCallback((p,y={})=>{try{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({type:p,...y}))}catch(v){console.warn("Failed to send message to RN:",v)}},[]);return k.useEffect(()=>{if(!e){u("No site map URL provided."),g("ERROR",{message:"No site map URL provided"});return}try{new URL(e)}catch{u("Invalid site map URL format."),g("ERROR",{message:"Invalid URL format"});return}f(!0),u(null),g("LOADING"),fetch(e,{method:"GET",headers:{Accept:"application/json"}}).then(p=>{if(!p.ok)throw new Error(`HTTP ${p.status}: ${p.statusText}`);return p.json()}).then(p=>{if(!p||typeof p!="object")throw new Error("Invalid JSON data received");r(p),g("LOADED",{siteName:t})}).catch(p=>{console.error("Error loading site map JSON:",p),u(`Failed to load site map: ${p.message}`),g("ERROR",{message:p.message})}).finally(()=>f(!1))},[e,g,t]),o?x.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 p-6",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md text-center",children:[x.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),x.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Unable to Load Map"}),x.jsx("p",{className:"text-gray-600 mb-6",children:o}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Retry"})]})}):h||!i?x.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-gray-700 font-medium",children:"Loading site map"}),x.jsx("p",{className:"text-gray-500 text-sm mt-2",children:t})]})}):x.jsxs("div",{className:"relative w-screen h-screen overflow-hidden",children:[x.jsx("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 
                   z-50 bg-white/90 backdrop-blur-sm shadow-lg 
                   rounded-xl px-6 py-2 text-gray-700 font-semibold
                   max-w-[80%] truncate`,children:t}),x.jsx(hb,{initialConfig:i,readOnly:!0})]})}D2.createRoot(document.getElementById("root")).render(x.jsx(k.StrictMode,{children:x.jsx(tw,{children:x.jsxs(LS,{children:[x.jsx(hc,{path:"/",element:x.jsx(fL,{})}),x.jsx(hc,{path:"/view",element:x.jsx(dL,{})}),x.jsx(hc,{path:"*",element:x.jsx(gL,{})})]})})}));function gL(){return x.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:[x.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"404"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Page not found"}),x.jsx("a",{href:"#/",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Go Home"})]})}
